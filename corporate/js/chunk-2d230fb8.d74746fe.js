(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d230fb8"],{ef34:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.alertActive?a("div",{staticClass:"alert-container"},[a("vs-alert",{staticClass:"mb-5",attrs:{active:t.alertActive,color:t.alertVariant,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(e){t.alertActive=e}}},[a("p",[t._v(t._s(t.alertMessage))])])],1):t._e(),a("nv-card",{staticClass:"vs-con-loading__container mb-base",attrs:{id:"loading-container"}},[a("div",{staticClass:"flex justify-between"},[a("h4",{staticClass:"mb-4"},[t._v(t._s(t.$t("SEARCH_CRITERIA")))])]),a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col w-full required"},[a("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("ACCOUNT")))]),a("account-lookup",{attrs:{title:t.$t("ACCOUNT"),valueField:"accountNumber",displayField:"accountNumber"},on:{"select-record":t.selectAccountRecord}})],1)]),a("div",{staticClass:"nv-row"},[a("div",{staticClass:"nv-col w-full"},[a("div",{staticClass:"flex justify-end"},[a("vs-button",{staticClass:"py-3",on:{click:t.showStatement}},[t._v(t._s(t.$t("SUBMIT")))])],1)])])]),t.statementTableVisible&&!t.statementTableBusy?a("div",[a("nv-card",[a("h4",{staticClass:"mb-base"},[t._v(t._s(t.$t("PAGE_TITLE")))]),a("vs-alert",{attrs:{active:0===t.statementTableData.length,color:"warning"},on:{"update:active":function(e){return t.$set(t.statementTableData,"length === 0",e)}}},[a("i",{staticClass:"far fa-exclamation-circle pr-1"}),t._v(" "+t._s(t.$t("NO_DATA_FOUND"))+"\n      ")]),t.statementTableData.length>0?a("vs-table",{staticClass:"table-no-header",attrs:{data:t.statementTableData},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.data;return t._l(n,function(e,s){return a("vs-tr",{key:s,attrs:{data:e}},[a("vs-td",{attrs:{data:n[s].statementId}},[a("a",{attrs:{href:t.downloadStatement(n[s]),target:"_blank"}},[t._v(t._s(t._f("placeholder")(n[s].statementId,"-")))])]),a("vs-td",{attrs:{data:n[s].accountNumber}},[t._v("\n              "+t._s(t._f("placeholder")(n[s].accountNumber,"-"))+"\n            ")]),a("vs-td",{attrs:{data:n[s].statementDate}},[t._v("\n              "+t._s(t._f("formatUnixDate")(n[s].statementDate))+"\n            ")])],1)})}}],null,!1,1082481068)},[a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"statementId"}},[t._v("\n            "+t._s(this.$t("STATEMENT_ID"))+"\n          ")]),a("vs-th",{attrs:{"sort-key":"startDate"}},[t._v("\n            "+t._s(this.$t("ACCOUNT_NUMBER"))+"\n          ")]),a("vs-th",{attrs:{"sort-key":"statementDate"}},[t._v("\n            "+t._s(this.$t("STATEMENT_DATE"))+"\n          ")])],1)],2):t._e()],1)],1):t._e()],1)},s=[],l=a("946b"),o=a("38a9"),c=a("93b8"),i=a("b664"),r={mixins:[c["a"],i["a"]],data:function(){return{statementTableData:[],statementTableContainer:"loading-container",statementTableBusy:!1,statementTableTotalRows:0,statementTableCurrentPage:1,statementTablePerPage:10}},computed:{statementTableNoDataText:function(){return this.statementTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},statementTableTotalPages:function(){return Math.ceil(this.statementTableTotalRows/this.statementTablePerPage)},statementTablePagingInfo:function(){return this.pagingInfo(this.statementTableCurrentPage,this.statementTablePerPage,this.statementTableTotalRows)}},methods:{loadStatementTableData:function(t){var e=this;this.statementTableBusy=!0,this.statementTableContainer=t||this.statementTableContainer,this.startLoading(this.statementTableContainer),o["a"].mt940Statements({accountNumber:this.accountNumber}).then(function(t){e.stopLoading(e.statementTableContainer),e.statementTableBusy=!1,e.statementTableTotalRows=t.data.totalRows,e.statementTableData=t.data.statementList||[]}).catch(function(t){e.stopLoading(e.statementTableContainer),e.statementTableBusy=!1,e.$emit("show-alert","danger",t.response.data.errors)})},refreshStatementTable:function(){this.loadStatementTableData()}},watch:{statementTableCurrentPage:function(){this.refreshStatementTable()},statementTablePerPage:function(){this.refreshStatementTable()}}},u=r,m=a("e387"),b={name:"account-mt940-statement",mixins:[l["a"],u],components:{AccountLookup:m["a"]},data:function(){return{accountNumber:"",statementTableVisible:!1}},methods:{showStatement:function(){this.accountNumber&&(this.statementTableVisible=!0,this.loadStatementTableData())},selectAccountRecord:function(t){this.accountNumber=t.accountNumber},downloadStatement:function(t){var e="",a=this.$store.getters.appId,n=this.$store.getters.activeExternalId.externalId;return"".concat(e,"/apps/Connect/DownloadSecure/downloadMt940AccountStatement?sourceAppId=").concat(a,"&customerId=").concat(n,"&accountNumber=").concat(t.accountNumber,"&statementId=").concat(t.statementId)}},watch:{accountNumber:function(){this.statementTableVisible=!1,this.statementTableData=[],this.statementTableTotalRows=0}}},d=b,T=a("2877"),h=Object(T["a"])(d,n,s,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d230fb8.d74746fe.js.map