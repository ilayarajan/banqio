(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-97b30bf2"],{"38a9":function(t,a,n){"use strict";var e=n("36ad");a["a"]={accounts:function(t){return Object(e["a"])().get("/s1/connect/account",{params:t})},transactions:function(t){return Object(e["a"])().get("/s1/connect/account/".concat(t.accountNumber,"/transaction"),{params:t})},modifyNickname:function(t){return Object(e["a"])().patch("/s1/connect/account/nickname",t)},officialStatements:function(t){return Object(e["a"])().get("/s1/connect/account/".concat(t.accountNumber,"/statement/official"),{params:t})},mt940Statements:function(t){return Object(e["a"])().get("/s1/connect/account/".concat(t.accountNumber,"/statement/mt940"),{params:t})},transactionTypes:function(t){return Object(e["a"])().get("/s1/connect/account/transactionType",{params:t})},accountTransactionAdvice:function(t){return Object(e["a"])().get("/s1/connect/account/".concat(t.accountNumber,"/transaction/advice"),{params:t})}}},"5f4f":function(t,a,n){"use strict";var e={data:function(){return{dateFormat:"yyyy-MM-dd"}},methods:{chooseInterval:function(t){var a=new Date;switch(t){case"day":a.setDate(a.getDate()-1);break;case"week":a.setDate(a.getDate()-7);break;case"month":a.setDate(a.getDate()-30);break;case"year":a.setDate(a.getDate()-365);break;default:}this.fromDate=a},getTime:function(t){return t instanceof Date?t.getTime():isNaN(t)?null:t}}};a["a"]=e},"946b":function(t,a,n){"use strict";var e={data:function(){return{alertActive:!1,alertMessage:this.$t("UNKNOWN_ERROR"),alertVariant:"danger"}},methods:{showAlert:function(t,a){this.alertMessage=a||this.$t("UNKNOWN_ERROR"),this.alertVariant=t,this.alertActive=!0},showSuccessAlert:function(t){this.showAlert("success",t)},showDangerAlert:function(t){this.showAlert("danger",t)},showWarningAlert:function(t){this.showAlert("warning",t)},showInfoAlert:function(t){this.showAlert("info",t)}}};a["a"]=e},"9ed1":function(t,a,n){"use strict";var e={methods:{negativeNumberStyle:function(t){return 0===t?"":t<0?"text-danger":"text-success"},positiveNumberStyle:function(t){return 0===t?"":t>0?"text-danger":"text-success"}}};a["a"]=e},a10b:function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[t.alertActive?n("div",{staticClass:"alert-container"},[n("vs-alert",{staticClass:"mb-5",attrs:{active:t.alertActive,color:t.alertVariant,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(a){t.alertActive=a}}},[n("p",[t._v(t._s(t.alertMessage))])])],1):t._e(),n("nv-card",{staticClass:"mb-base"},[n("div",{staticClass:"flex flex-wrap-reverse items-center mb-base"},[n("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-chevron-left","icon-pack":"far"},on:{click:t.cancel}},[t._v(t._s(t.$t("BACK")))])],1),n("div",{staticClass:"nv-row row hover vs-con-loading__container",attrs:{id:"acct-loading-container"}},[n("div",{staticClass:"nv-col md:w-1/2 w-full"},[n("p",{staticClass:"info-row"},[n("span",[t._v(t._s(t.$t("ACCOUNT_TITLE"))+":")]),n("span",[t._v(t._s(t._f("placeholder")(t.account.title,"-")))])]),n("p",{staticClass:"info-row"},[n("span",[t._v(t._s(t.$t("ACCOUNT_NUMBER"))+":")]),n("span",[t._v(t._s(t._f("placeholder")(t.account.accountNumber,"-")))])]),n("p",{staticClass:"info-row"},[n("span",[t._v(t._s(t.$t("ACCOUNT_TYPE"))+":")]),n("span",[t._v(t._s(t._f("placeholder")(t.account.typeName,"-")))])]),t.account.statusName?n("p",{staticClass:"info-row"},[n("span",[t._v(t._s(t.$t("STATUS"))+":")]),n("span",[t._v(t._s(t._f("placeholder")(t.account.statusName,"-")))])]):t._e(),t.account.nickname?n("p",{staticClass:"info-row"},[n("span",[t._v(t._s(t.$t("NICKNAME"))+":")]),n("span",[t._v(t._s(t._f("placeholder")(t.account.nickname,"-")))])]):t._e(),n("p",{staticClass:"info-row"},[n("span",[t._v(t._s(t.$t("IBAN"))+":")]),n("span",[t._v(t._s(t._f("placeholder")(t.account.iban,"-")))])])]),n("div",{staticClass:"nv-col md:w-1/2 w-full"},[n("p",{staticClass:"info-row"},[n("span",[t._v(t._s(t.$t("CURRENCY"))+":")]),n("span",[t._v(t._s(t._f("placeholder")(t.account.currencyAbbreviation,"-")))])]),n("p",{staticClass:"info-row"},[n("span",[t._v(t._s(t.$t("AVAILABLE_BALANCE"))+":")]),n("span",{class:t.negativeNumberStyle(t.account.availableBalance)},[t._v(t._s(t._f("placeholder")(t._f("currency")(t.account.availableBalance,""),"-")))])]),n("p",{staticClass:"info-row"},[n("span",[t._v(t._s(t.$t("WORKING_BALANCE"))+":")]),n("span",{class:t.negativeNumberStyle(t.account.workingBalance)},[t._v(t._s(t._f("placeholder")(t._f("currency")(t.account.workingBalance,""),"-")))])]),n("p",{staticClass:"info-row"},[n("span",[t._v(t._s(t.$t("LEDGER_BALANCE"))+":")]),n("span",{class:t.negativeNumberStyle(t.account.ledgerBalance)},[t._v(t._s(t._f("placeholder")(t._f("currency")(t.account.ledgerBalance,""),"-")))])]),t.account.overdraftLimit?n("p",{staticClass:"info-row"},[n("span",[t._v(t._s(t.$t("OVERDRAFT_LIMIT"))+":")]),n("span",{class:t.negativeNumberStyle(t.account.overdraftLimit)},[t._v(t._s(t._f("placeholder")(t._f("currency")(t.account.overdraftLimit,""),"-")))])]):t._e()])])]),t.transactionTableData?n("div",[n("nv-card",{staticClass:"vs-con-loading__container",attrs:{id:"trx-loading-container"}},[n("div",{staticClass:"mb-base flex justify-between"},[n("h3",[t._v(t._s(t.$t("RECENT_TRANSACTIONS")))]),n("div",{staticClass:"text-right"},[n("nv-time-interval-dropdown",{on:{timeIntervalChanged:t.timeIntervalChanged}})],1)]),n("vs-table",{attrs:{data:t.transactionTableData,noDataText:t.transactionTableNoDataText,search:""},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.data;return t._l(e,function(a,s){return n("vs-tr",{key:s,attrs:{data:a}},[n("vs-td",{attrs:{data:e[s].postingDate}},[t._v("\n              "+t._s(t._f("placeholder")(t._f("formatUnixDate")(e[s].postingDate),"-"))+"\n            ")]),n("vs-td",{attrs:{data:e[s].valueDate}},[t._v("\n              "+t._s(t._f("placeholder")(t._f("formatUnixDate")(e[s].valueDate),"-"))+"\n            ")]),n("vs-td",{attrs:{data:e[s].narrative}},[t._v("\n              "+t._s(t._f("placeholder")(e[s].narrative,"-"))+"\n            ")]),n("vs-td",{attrs:{data:e[s].transactionId}},[t._v("\n              "+t._s(t._f("placeholder")(e[s].transactionId,"-"))+"\n            ")]),n("vs-td",{attrs:{data:e[s].amount}},[n("span",{class:t.positiveNumberStyle(e[s].amount)},[t._v(t._s(t._f("placeholder")(t._f("currency")("D"===e[s].drCrIndicator?e[s].amount:"",""),"-")))])]),n("vs-td",{attrs:{data:e[s].amount}},[n("span",{class:t.negativeNumberStyle(e[s].amount)},[t._v(t._s(t._f("placeholder")(t._f("currency")("C"===e[s].drCrIndicator?e[s].amount:"",""),"-")))])]),n("vs-td",{attrs:{data:e[s].accountBalance}},[n("span",{class:t.negativeNumberStyle(e[s].accountBalance)},[t._v(t._s(t._f("placeholder")(t._f("currency")(e[s].accountBalance,""),"-")))])])],1)})}}],null,!1,933055605)},[n("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"flex flex-wrap-reverse items-center"},[n("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-file-excel","icon-pack":"fal"},on:{click:function(a){return t.exportXls(t.transactionTableData,t.columnDefs)}}},[t._v(t._s(t.$t("EXPORT_XLS")))]),n("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-file-csv","icon-pack":"fal"},on:{click:function(a){return t.exportCsv(t.transactionTableData,t.columnDefs)}}},[t._v(t._s(t.$t("EXPORT_CSV")))]),n("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:t.transactionTableBusy},on:{click:t.refreshRecentTransactionTableData}},[t._v(t._s(t.$t("REFRESH")))])],1),n("div",{staticClass:"flex justify-end mr-4"},[n("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[n("span",{staticClass:"mx-2"},[t._v(t._s(t.transactionTablePagingInfo))])])])]),n("template",{slot:"thead"},[n("vs-th",{attrs:{"sort-key":"postingDate"}},[t._v("\n            "+t._s(this.$t("POSTING_DATE"))+"\n          ")]),n("vs-th",{attrs:{"sort-key":"valueDate"}},[t._v("\n            "+t._s(this.$t("VALUE_DATE"))+"\n          ")]),n("vs-th",{attrs:{"sort-key":"description"}},[t._v("\n            "+t._s(this.$t("TRANSACTION_DESCRIPTION"))+"\n          ")]),n("vs-th",{attrs:{"sort-key":"transactionId"}},[t._v("\n            "+t._s(this.$t("TRANSACTION_ID"))+"\n          ")]),n("vs-th",{attrs:{"sort-key":"amount"}},[t._v("\n            "+t._s(this.$t("DEBIT_AMOUNT"))+"\n          ")]),n("vs-th",{attrs:{"sort-key":"amount"}},[t._v("\n            "+t._s(this.$t("CREDIT_AMOUNT"))+"\n          ")]),n("vs-th",{attrs:{"sort-key":"accountBalance"}},[t._v("\n            "+t._s(this.$t("BALANCE"))+"\n          ")])],1)],2)],1)],1):t._e()],1)},s=[],r=n("a34a"),o=n.n(r),i=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("vs-dropdown",{ref:t.dropdownRef,staticClass:"cursor-pointer",attrs:{"vs-trigger-click":""}},[n("small",{staticClass:"flex cursor-pointer"},[t._v(t._s(t.intervalDescription)+" "),n("i",{staticClass:"far fa-chevron-down ml-2"})]),n("vs-dropdown-menu",{staticClass:"w-32"},[n("vs-dropdown-item",{on:{click:function(a){return t.pickInterval(1)}}},[t._v(t._s(t.$t("PAST_DAY")))]),n("vs-dropdown-item",{on:{click:function(a){return t.pickInterval(7)}}},[t._v(t._s(t.$t("PAST_WEEK")))]),n("vs-dropdown-item",{on:{click:function(a){return t.pickInterval(30)}}},[t._v(t._s(t.$t("PAST_MONTH")))]),n("vs-dropdown-item",{on:{click:function(a){return t.pickInterval(365)}}},[t._v(t._s(t.$t("PAST_YEAR")))])],1)],1)},c=[],l={name:"nv-time-interval-dropdown",props:{dropdownRef:{type:String,default:"time-interval-dropdown"}},data:function(){return{interval:7}},computed:{intervalDescription:function(){return 1===this.interval?this.$t("PAST_DAY"):7===this.interval?this.$t("PAST_WEEK"):30===this.interval?this.$t("PAST_MONTH"):365===this.interval?this.$t("PAST_YEAR"):this.$t("CHOOSE_INTERVAL")}},methods:{pickInterval:function(t){this.interval=t,this.$emit("timeIntervalChanged",t)}}},u=l,d=n("2877"),f=Object(d["a"])(u,i,c,!1,null,null,null),v=f.exports,h=n("946b"),_=n("93b8"),m=n("abed"),p=n("9ed1"),T=n("38a9");function b(t,a,n,e,s,r,o){try{var i=t[r](o),c=i.value}catch(l){return void n(l)}i.done?a(c):Promise.resolve(c).then(e,s)}function D(t){return function(){var a=this,n=arguments;return new Promise(function(e,s){var r=t.apply(a,n);function o(t){b(r,e,s,o,i,"next",t)}function i(t){b(r,e,s,o,i,"throw",t)}o(void 0)})}}var g={name:"account-view",mixins:[m["a"],h["a"],_["a"],p["a"]],components:{NvTimeIntervalDropdown:v},data:function(){return{account:{},transactionFromDate:null,transactionToDate:null}},methods:{load:function(){var t=D(o.a.mark(function t(){var a;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=this,this.startLoading("acct-loading-container"),T["a"].accounts({accountNumber:this.$route.params.id}).then(function(t){a.stopLoading("acct-loading-container"),a.account=t.data.accountList[0]||{}}).catch(function(t){a.stopLoading("acct-loading-container"),a.showDangerAlert(t.response.data.errors)});case 3:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),loadRecentTransactionTableData:function(){var t=new Date;this.accountNumber=this.$route.params.id,this.transactionFromDate=(new Date).setDate(t.getDate()-7),this.transactionToDate=t,this.loadTransactionTableData("trx-loading-container",this.transactionFromDate,this.transactionToDate)},refreshRecentTransactionTableData:function(){this.loadTransactionTableData("trx-loading-container",this.transactionFromDate,this.transactionToDate)},timeIntervalChanged:function(t){var a=new Date;this.accountNumber=this.$route.params.id,this.transactionFromDate=(new Date).setDate(a.getDate()-t),this.transactionToDate=a,this.loadTransactionTableData("trx-loading-container",this.transactionFromDate,this.transactionToDate)},cancel:function(){this.$router.back()}},mounted:function(){this.load(),this.loadRecentTransactionTableData()}},A=g,C=Object(d["a"])(A,e,s,!1,null,null,null);a["default"]=C.exports},abed:function(t,a,n){"use strict";var e=n("38a9"),s=n("946b"),r=n("5f4f"),o=n("93b8"),i=n("b664"),c={mixins:[s["a"],r["a"],o["a"],i["a"]],data:function(){return{transactionTableData:[],transactionTableContainer:"loading-container",transactionTableBusy:!1,transactionTableTotalRows:0,transactionTableCurrentPage:1,transactionTablePerPage:10,columnDefs:[{headerName:this.$t("POSTING_DATE"),field:"postingDate",format:"Date"},{headerName:this.$t("VALUE_DATE"),field:"valueDate",format:"Date"},{headerName:this.$t("DESCRIPTION"),field:"narrative"},{headerName:this.$t("TRANSACTION_ID"),field:"transactionId"},{headerName:this.$t("DEBIT_AMOUNT"),field:"debitAmount",format:"Decimal"},{headerName:this.$t("CREDIT_AMOUNT"),field:"creditAmount",format:"Decimal"},{headerName:this.$t("BALANCE"),field:"accountBalance",format:"Decimal"}]}},computed:{transactionTableNoDataText:function(){return this.transactionTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},transactionTableTotalPages:function(){return Math.ceil(this.transactionTableTotalRows/this.transactionTablePerPage)},transactionTablePagingInfo:function(){return this.pagingInfo(this.transactionTableCurrentPage,this.transactionTablePerPage,this.transactionTableTotalRows)}},methods:{loadTransactionTableData:function(t,a,n){var s=this;this.transactionTableBusy=!0,this.transactionTableContainer=t||this.transactionTableContainer,this.startLoading(this.transactionTableContainer),e["a"].transactions({accountNumber:this.accountNumber,fromDate:this.getTime(a||this.fromDate),toDate:this.getTime(n||this.toDate),typeId:this.typeId,orderByField:this.orderByField,fromAmount:this.fromAmount?this.fromAmount:null,toAmount:this.toAmount?this.toAmount:null}).then(function(t){s.stopLoading(s.transactionTableContainer),s.transactionTableBusy=!1,s.transactionTableData=t.data.transactionList||[],s.transactionTablePerPage=t.data.totalRows,s.transactionTableTotalRows=t.data.totalRows;for(var a=0;a<s.transactionTableData.length;a++){var n=s.transactionTableData[a];s.transactionTableData[a]["debitAmount"]="D"===n.drCrIndicator?n.amount:"",s.transactionTableData[a]["creditAmount"]="C"===n.drCrIndicator?n.amount:""}}).catch(function(t){s.stopLoading(s.transactionTableContainer),s.transactionTableBusy=!1,s.showDangerAlert(t.response.data.errors)})},refreshTransactionTable:function(){this.loadTransactionTableData()}},watch:{transactionTableCurrentPage:function(){this.refreshTransactionTable()}}};a["a"]=c}}]);
//# sourceMappingURL=chunk-97b30bf2.b68d997c.js.map