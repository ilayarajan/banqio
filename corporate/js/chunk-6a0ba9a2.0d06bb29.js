(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a0ba9a2"],{"0f4f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"loading-container"}},[a("nv-card",[a("vs-table",{staticClass:"mb-base",attrs:{data:e.workflowInstanceTableData,noDataText:e.workflowInstanceTableNoDataText,sst:!0,search:""},on:{search:e.filterWorkflowInstanceTable,sort:e.orderWorkflowInstanceTable},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.data;return e._l(n,function(t,r){return a("vs-tr",{key:r,attrs:{data:t}},[a("vs-td",{attrs:{data:n[r].instanceId}},[a("router-link",{attrs:{to:{name:"ViewBeneficiaryWorkflowInstance",params:{id:n[r].instanceId}}}},[e._v(e._s(n[r].instanceId))])],1),a("vs-td",{attrs:{data:n[r].beneficiaryName}},[e._v("\n            "+e._s(e._f("placeholder")(e.beneficiaryName(n[r]),"-"))+"\n          ")]),a("vs-td",{attrs:{data:n[r].accountNumber}},[e._v("\n            "+e._s(e._f("placeholder")(e.beneficiaryAccountNumber(n[r]),"-"))+"\n          ")]),a("vs-td",{attrs:{data:n[r].typeName}},[e._v("\n            "+e._s(e._f("placeholder")(n[r].typeName,"-"))+"\n          ")]),a("vs-td",{attrs:{data:n[r].actionTypeDescription}},[e._v("\n            "+e._s(e._f("placeholder")(n[r].actionTypeDescription,"-"))+"\n          ")]),a("vs-td",{attrs:{data:n[r].beneficiaryStatusDescription}},[e._v("\n            "+e._s(e._f("placeholder")(n[r].beneficiaryStatusDescription,"-"))+"\n          ")]),a("vs-td",{attrs:{data:n[r].approvedCount}},[a("span",{staticClass:"mr-2"},[a("i",{staticClass:"far fa-check-circle text-success"}),e._v(" "+e._s(e._f("placeholder")(n[r].approvedCount,"0")))]),a("span",{staticClass:"mr-2"},[a("i",{staticClass:"far fa-times-circle text-danger"}),e._v(" "+e._s(e._f("placeholder")(n[r].rejectedCount,"0")))]),a("span",{staticClass:"mr-2"},[a("i",{staticClass:"far fa-question-circle text-warning"}),e._v(" "+e._s(e._f("placeholder")(n[r].pendingCount,"0")))])])],1)})}}])},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex flex-wrap-reverse items-center"},[a("vs-button",{staticClass:"p-3",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:e.workflowInstanceTableBusy},on:{click:e.refreshWorkflowInstanceTable}},[e._v(e._s(e.$t("REFRESH")))])],1),a("div",{staticClass:"flex justify-end mr-4"},[a("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[a("span",{staticClass:"mx-2"},[e._v(e._s(e.workflowInstanceTablePagingInfo))]),a("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[a("span",{staticClass:"far fa-angle-down text-primary"}),a("vs-dropdown-menu",e._l(e.tablePageOptions,function(t,n){return a("vs-dropdown-item",{key:n,on:{click:function(a){e.workflowInstanceTablePerPage=t}}},[a("span",[e._v(e._s(t))])])}),1)],1)],1)])]),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"instanceId"}},[e._v("\n          "+e._s(this.$t("ID"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"beneficiaryName"}},[e._v("\n          "+e._s(this.$t("BENEFICIARY_NAME"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"accountNumber"}},[e._v("\n          "+e._s(this.$t("ACCOUNT_NUMBER"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"typeName"}},[e._v("\n          "+e._s(this.$t("BENEFICIARY_TYPE"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"actionDescription"}},[e._v("\n          "+e._s(this.$t("ACTION_TYPE"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"beneficiaryStatusDescription"}},[e._v("\n          "+e._s(this.$t("STATUS"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"approvedCount"}},[e._v("\n          "+e._s(this.$t("TASKS"))+"\n        ")])],1)],2),a("vs-pagination",{attrs:{total:e.workflowInstanceTableTotalPages,max:e.maxPaginationItems},model:{value:e.workflowInstanceTableCurrentPage,callback:function(t){e.workflowInstanceTableCurrentPage=t},expression:"workflowInstanceTableCurrentPage"}})],1)],1)},r=[],s=a("faa0"),o=a("93b8"),i=a("b664"),c={mixins:[o["a"],i["a"]],props:{defaultWorkflowInstanceTableFilter:{type:String,default:null},defaultWorkflowInstanceTableOrderBy:{type:String,default:null}},data:function(){return{workflowInstanceTableData:[],workflowInstanceTableFilterTimer:null,workflowInstanceTableFilter:this.defaultWorkflowInstanceTableFilter,workflowInstanceTableOrderBy:this.defaultWorkflowInstanceTableOrderBy,workflowInstanceTableContainer:"loading-container",workflowInstanceTableBusy:!1,workflowInstanceTableTotalRows:0,workflowInstanceTableCurrentPage:1,workflowInstanceTablePerPage:10}},computed:{workflowInstanceTableNoDataText:function(){return this.workflowInstanceTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},workflowInstanceTableTotalPages:function(){return Math.ceil(this.workflowInstanceTableTotalRows/this.workflowInstanceTablePerPage)},workflowInstanceTablePagingInfo:function(){return this.pagingInfo(this.workflowInstanceTableCurrentPage,this.workflowInstanceTablePerPage,this.workflowInstanceTableTotalRows)}},methods:{loadWorkflowInstanceTableData:function(e){var t=this;this.workflowInstanceTableBusy=!0,this.workflowInstanceTableContainer=e||this.workflowInstanceTableContainer,this.startLoading(this.workflowInstanceTableContainer),s["a"].beneficiaryWorkflowInstances({pageIndex:this.workflowInstanceTableCurrentPage-1,pageSize:this.workflowInstanceTablePerPage,filter:this.workflowInstanceTableFilter,orderByField:this.workflowInstanceTableOrderBy}).then(function(e){t.stopLoading(t.workflowInstanceTableContainer),t.workflowInstanceTableBusy=!1,t.workflowInstanceTableTotalRows=e.data.totalRows,t.workflowInstanceTableData=e.data.instanceList||[]}).catch(function(e){t.stopLoading(t.workflowInstanceTableContainer),t.workflowInstanceTableBusy=!1,t.$emit("show-alert","danger",e.response.data.errors)})},refreshWorkflowInstanceTable:function(){this.loadWorkflowInstanceTableData()},filterWorkflowInstanceTable:function(e){var t=this;this.workflowInstanceTableFilter!==e?(clearTimeout(this.workflowInstanceTableFilterTimer),this.workflowInstanceTableFilterTimer=setTimeout(function(){t.workflowInstanceTableFilter=e,t.loadWorkflowInstanceTableData()},"750")):clearTimeout(this.workflowInstanceTableFilterTimer)},orderWorkflowInstanceTable:function(e,t){this.workflowInstanceTableOrderBy=(t?"":"-")+e,this.loadWorkflowInstanceTableData()},beneficiaryName:function(e){return e.nickname?e.nickname:e.beneficiaryName},beneficiaryAccountNumber:function(e){return e.iban?e.iban:e.accountNumber}},watch:{workflowInstanceTableCurrentPage:function(){this.refreshWorkflowInstanceTable()},workflowInstanceTablePerPage:function(){this.refreshWorkflowInstanceTable()}}},l=c,f=a("9ed1"),w={name:"beneficiary-workflow-instance-browse",mixins:[l,f["a"]],mounted:function(){this.loadWorkflowInstanceTableData()}},b=w,u=a("2877"),d=Object(u["a"])(b,n,r,!1,null,null,null);t["default"]=d.exports},"9ed1":function(e,t,a){"use strict";var n={methods:{negativeNumberStyle:function(e){return 0===e?"":e<0?"text-danger":"text-success"},positiveNumberStyle:function(e){return 0===e?"":e>0?"text-danger":"text-success"}}};t["a"]=n},faa0:function(e,t,a){"use strict";var n=a("36ad");t["a"]={beneficiaryTypes:function(e){return Object(n["a"])().get("/s1/connect/beneficiary/beneficiaryType",{params:e})},beneficiaryTypeTree:function(e){return Object(n["a"])().get("/s1/connect/beneficiary/beneficiaryType/tree",{params:e})},beneficiaries:function(e){return Object(n["a"])().get("/s1/connect/beneficiary",{params:e})},createBeneficiary:function(e){return Object(n["a"])().post("/s1/connect/beneficiary",e)},modifyBeneficiary:function(e){return Object(n["a"])().patch("/s1/connect/beneficiary/".concat(e.beneficiaryId),e)},deleteBeneficiary:function(e){return Object(n["a"])().delete("/s1/connect/beneficiary/".concat(e.beneficiaryId),{params:e})},beneficiaryWorkflowInstances:function(e){return Object(n["a"])().get("/s1/connect/beneficiary/workflow/instance",{params:e})}}}}]);
//# sourceMappingURL=chunk-6a0ba9a2.0d06bb29.js.map