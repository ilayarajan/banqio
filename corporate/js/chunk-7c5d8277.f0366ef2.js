(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c5d8277"],{"29b3":function(t,a,e){"use strict";var n=e("f730"),s=e("93b8"),l=e("b664"),r={mixins:[s["a"],l["a"]],data:function(){return{loanTableData:[],loanTableContainer:"loading-container",loanTableBusy:!1,loanTableTotalRows:0,loanTableCurrentPage:1,loanTablePerPage:10,columnDefs:[{headerName:this.$t("LOAN_NUMBER"),field:"loanNumber",format:"Number"},{headerName:this.$t("LOAN_TYPE"),field:"typeName"},{headerName:this.$t("START_DATE"),field:"startDate",format:"Date"},{headerName:this.$t("CURRENCY"),field:"currencyAbbreviation"},{headerName:this.$t("PRINCIPAL_DISBURSED"),field:"loanAmount",format:"Decimal"},{headerName:this.$t("OUTSTANDING_AMOUNT"),field:"outstandingAmount",format:"Decimal"}]}},computed:{loanTableNoDataText:function(){return this.loanTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},loanTableTotalPages:function(){return Math.ceil(this.loanTableTotalRows/this.loanTablePerPage)},loanTablePagingInfo:function(){return this.pagingInfo(this.loanTableCurrentPage,this.loanTablePerPage,this.loanTableTotalRows)}},methods:{loadLoanTableData:function(t){var a=this;this.loanTableBusy=!0,this.loanTableContainer=t||this.loanTableContainer,this.startLoading(this.loanTableContainer),n["a"].loans({}).then(function(t){a.stopLoading(a.loanTableContainer),a.loanTableBusy=!1,a.loanTablePerPage=t.data.totalRows,a.loanTableTotalRows=t.data.totalRows,a.loanTableData=t.data.loanList||[]}).catch(function(t){a.stopLoading(a.loanTableContainer),a.loanTableBusy=!1,a.$emit("show-alert","danger",t.response.data.errors)})},refreshLoanTable:function(){this.loadLoanTableData()}},watch:{loanTableCurrentPage:function(){this.refreshLoanTable()}}};a["a"]=r},"76df":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"vs-con-loading__container",attrs:{id:"loading-container"}},[e("Loan"+t.dataLayout,{key:Date.now(),tag:"component",attrs:{parent:this}})],1)},s=[],l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nv-card",[e("vs-table",{attrs:{data:t.parent.loanTableData,noDataText:t.parent.loanTableNoDataText,search:""},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.data;return t._l(n,function(a,s){return e("vs-tr",{key:s,attrs:{data:a}},[e("vs-td",{attrs:{data:n[s].loanNumber}},[e("router-link",{attrs:{to:{name:"ViewLoan",params:{id:n[s].loanNumber}}}},[t._v(t._s(n[s].loanNumber))])],1),e("vs-td",{attrs:{data:n[s].typeName}},[t._v("\n          "+t._s(t._f("placeholder")(n[s].typeName,"-"))+"\n        ")]),e("vs-td",{attrs:{data:n[s].startDate}},[t._v("\n          "+t._s(t._f("formatUnixDate")(n[s].startDate))+"\n        ")]),e("vs-td",{attrs:{data:n[s].currencyAbbreviation}},[t._v("\n          "+t._s(t._f("placeholder")(n[s].currencyAbbreviation,"-"))+"\n        ")]),e("vs-td",{attrs:{data:n[s].loanAmount}},[e("span",{class:t.negativeNumberStyle(n[s].loanAmount)},[t._v("\n            "+t._s(t._f("placeholder")(t._f("currency")(n[s].loanAmount,""),"-"))+"\n          ")])]),e("vs-td",{attrs:{data:n[s].outstandingAmount}},[e("span",{class:t.positiveNumberStyle(n[s].outstandingAmount)},[t._v("\n            "+t._s(t._f("placeholder")(t._f("currency")(n[s].outstandingAmount,""),"-"))+"\n          ")])])],1)})}}])},[e("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[e("div",{staticClass:"flex flex-wrap-reverse items-center"},[t.parent.loanTableData.length>0?e("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-file-excel","icon-pack":"fal"},on:{click:function(a){return t.parent.exportXls(t.parent.loanTableData,t.parent.columnDefs)}}},[t._v(t._s(t.$t("EXPORT_XLS")))]):t._e(),t.parent.loanTableData.length>0?e("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-file-csv","icon-pack":"fal"},on:{click:function(a){return t.parent.exportCsv(t.parent.loanTableData,t.parent.columnDefs)}}},[t._v(t._s(t.$t("EXPORT_CSV")))]):t._e(),e("vs-button",{staticClass:"p-3",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:t.parent.loanTableBusy},on:{click:t.parent.refreshLoanTable}},[t._v(t._s(t.$t("REFRESH")))])],1),e("div",{staticClass:"flex justify-end mr-4"},[e("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[e("span",{staticClass:"mx-2"},[t._v(t._s(t.parent.loanTablePagingInfo))])])])]),e("template",{slot:"thead"},[e("vs-th",{attrs:{"sort-key":"loanNumber"}},[t._v("\n        "+t._s(this.$t("LOAN_NUMBER"))+"\n      ")]),e("vs-th",{attrs:{"sort-key":"typeName"}},[t._v("\n        "+t._s(this.$t("LOAN_TYPE"))+"\n      ")]),e("vs-th",{attrs:{"sort-key":"startDate"}},[t._v("\n        "+t._s(this.$t("START_DATE"))+"\n      ")]),e("vs-th",{attrs:{"sort-key":"currencyAbbreviation"}},[t._v("\n        "+t._s(this.$t("CURRENCY"))+"\n      ")]),e("vs-th",{attrs:{"sort-key":"loanAmount"}},[t._v("\n        "+t._s(this.$t("PRINCIPAL_DISBURSED"))+"\n      ")]),e("vs-th",{attrs:{"sort-key":"outstandingAmount"}},[t._v("\n        "+t._s(this.$t("BALANCE_OUTSTANDING"))+"\n      ")])],1)],2)],1)},r=[],o=e("9ed1"),i={name:"loan-list-layout",mixins:[o["a"]],props:{parent:{type:Object,required:!0}}},c=i,u=e("2877"),d=Object(u["a"])(c,l,r,!1,null,null,null),f=d.exports,b=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nv-card",{staticClass:"mb-base"},[e("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between"},[e("div",{staticClass:"flex flex-wrap-reverse items-center"},[e("vs-button",{staticClass:"p-3 ",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:t.parent.loanTableBusy},on:{click:t.parent.refreshLoanTable}},[t._v(t._s(t.$t("REFRESH")))])],1),e("div",{staticClass:"flex justify-end"},[e("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[e("span",{staticClass:"mx-2"},[t._v(t._s(t.parent.loanTablePagingInfo))])])])])]),t._l(t.parent.loanTableData,function(a,n){return e("nv-card",{key:n,staticClass:"mb-base"},[e("div",{staticClass:"mb-4 flex justify-between"},[e("h3",[t._v(t._s(t._f("placeholder")(a.typeName,"-")))]),e("div",{staticClass:"text-right"},[e("h3",{class:t.negativeNumberStyle(a.loanAmount)},[t._v(t._s(t._f("placeholder")(t._f("currency")(a.loanAmount,""),"-"))+" "+t._s(a.currencyAbbreviation))]),e("span",{staticClass:"text-xs"},[t._v(t._s(t.$t("PRINCIPAL_DISBURSED")))])])]),e("div",[e("div",{staticClass:"nv-row mb-4"},[e("div",{staticClass:"nv-col w-full"},[e("div",{staticClass:"text-bold"},[t._v(t._s(t.$t("LOAN_NUMBER")))]),e("div",{staticClass:"text-grey-dark"},[t._v(t._s(t._f("placeholder")(a.loanNumber,"-")))])])]),e("div",{staticClass:"nv-row mb-4"},[e("div",{staticClass:"nv-col w-full"},[e("div",{staticClass:"text-bold"},[t._v(t._s(t.$t("START_DATE")))]),e("div",{staticClass:"text-grey-dark"},[t._v(t._s(t._f("formatUnixDate")(a.startDate)))])])]),e("div",{staticClass:"nv-row mb-4"},[e("div",{staticClass:"nv-col w-full"},[e("div",{staticClass:"text-bold"},[t._v(t._s(t.$t("BALANCE_OUTSTANDING")))]),e("div",{staticClass:"text-grey-dark"},[t._v(t._s(t._f("placeholder")(t._f("currency")(a.outstandingAmount,""),"-")))])])])]),e("vs-divider"),e("div",{staticClass:"flex justify-between"},[e("div",{staticClass:"flex"},[e("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"border",iconPack:"far",icon:"fa-share-alt"}},[t._v(t._s(t.$t("SHARE")))])],1),e("div",[e("vs-button",{staticClass:"p-3 ml-4",attrs:{type:"filled",iconPack:"far",icon:"fa-eye"},on:{click:function(e){return t.view(a.loanNumber)}}},[t._v(t._s(t.$t("FOCUS")))])],1)])],1)})],2)},m=[],v={name:"loan-card-layout",mixins:[o["a"]],props:{parent:{type:Object,required:!0}},methods:{view:function(t){this.$router.push({name:"ViewLoan",params:{id:t}})}}},p=v,_=Object(u["a"])(p,b,m,!1,null,null,null),h=_.exports,T=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nv-card",[e("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between mb-base"},[e("div",{staticClass:"flex flex-wrap-reverse items-center"},[t.parent.loanTableData.length>0?e("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-file-excel","icon-pack":"fal"},on:{click:t.exportXls}},[t._v(t._s(t.$t("EXPORT_XLS")))]):t._e(),t.parent.loanTableData.length>0?e("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-file-csv","icon-pack":"fal"},on:{click:t.exportCsv}},[t._v(t._s(t.$t("EXPORT_CSV")))]):t._e(),e("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far"},on:{click:t.parent.refreshLoanTable}},[t._v(t._s(t.$t("REFRESH")))])],1)]),e("ag-grid-vue",{staticClass:"ag-theme-balham ag-pivot-layout",attrs:{gridOptions:t.gridOptions,rowData:t.parent.loanTableData,sideBar:t.sideBar,statusBar:t.statusBar}})],1)},y=[],C=e("b425"),N=e("401b"),g={name:"loan-pivot-layout",mixins:[C["a"]],components:{AgGridVue:N["AgGridVue"]},beforeMount:function(){this.gridOptions.columnDefs=[{headerName:this.$t("LOAN_NUMBER"),field:"loanNumber"},{headerName:this.$t("LOAN_TYPE"),field:"typeName",enableRowGroup:!0},{headerName:this.$t("START_DATE"),field:"startDate",enableRowGroup:!0,filter:"agDateColumnFilter",valueFormatter:this.formatDate},{headerName:this.$t("CURRENCY"),field:"currencyAbbreviation",enableRowGroup:!0},{headerName:this.$t("PRINCIPAL_DISBURSED"),field:"loanAmount",type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:this.formatNumber,enableValue:!0},{headerName:this.$t("BALANCE_OUTSTANDING"),field:"outstandingAmount",type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:this.formatNumber,enableValue:!0}]}},x=g,A=Object(u["a"])(x,T,y,!1,null,null,null),D=A.exports,w=e("29b3"),L={name:"loan-browse",mixins:[w["a"]],components:{LoanListLayout:f,LoanCardLayout:h,LoanPivotLayout:D},data:function(){return{dataLayout:"ListLayout"}},mounted:function(){this.loadLoanTableData()},created:function(){var t=this;this.$eventHub.$on("toolClicked",function(a){t.dataLayout=a})},beforeDestroy:function(){var t=this;this.$eventHub.$off("toolClicked",function(a){t.dataLayout=a})}},R=L,$=Object(u["a"])(R,n,s,!1,null,null,null);a["default"]=$.exports},"9ed1":function(t,a,e){"use strict";var n={methods:{negativeNumberStyle:function(t){return 0===t?"":t<0?"text-danger":"text-success"},positiveNumberStyle:function(t){return 0===t?"":t>0?"text-danger":"text-success"}}};a["a"]=n},f730:function(t,a,e){"use strict";var n=e("36ad");a["a"]={loans:function(t){return Object(n["a"])().get("/s1/connect/loan",{params:t})},loanDetail:function(t){return Object(n["a"])().get("/s1/connect/loan/".concat(t.loanNumber,"/detail"),{params:t})},loanRepayments:function(t){return Object(n["a"])().get("/s1/connect/loan/".concat(t.loanNumber,"/repayment"),{params:t})}}}}]);
//# sourceMappingURL=chunk-7c5d8277.f0366ef2.js.map