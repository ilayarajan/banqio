(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e05b7070"],{"83ce":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.alertActive?e("div",{staticClass:"alert-container"},[e("vs-alert",{staticClass:"mb-5",attrs:{active:t.alertActive,color:t.alertVariant,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(a){t.alertActive=a}}},[e("p",[t._v(t._s(t.alertMessage))])])],1):t._e(),e("nv-card",[e("div",{staticClass:"flex flex-wrap-reverse items-center mb-base"},[e("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-chevron-left","icon-pack":"far"},on:{click:t.cancel}},[t._v(t._s(t.$t("BACK")))])],1),e("div",{staticClass:"nv-row row hover vs-con-loading__container mb-base",attrs:{id:"loading-container"}},[e("div",{staticClass:"nv-col sm:w-1/2 w-full"},[e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("LOAN_NUMBER"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.loan.loanNumber,"-")))])]),t.loan.loanAccountNumber?e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("LOAN_ACCOUNT_NUMBER"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.loan.loanAccountNumber,"-")))])]):t._e(),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("LOAN_TYPE"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.loan.typeName,"-")))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("START_DATE"))+":")]),e("span",[t._v(t._s(t._f("formatUnixDate")(t.loan.startDate)))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("MATURITY_DATE"))+":")]),e("span",[t._v(t._s(t._f("formatUnixDate")(t.loan.maturityDate)))])]),t.loan.paymentStartDate?e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("PAYMENT_START_DATE"))+":")]),e("span",[t._v(t._s(t._f("formatUnixDate")(t.loan.paymentStartDate)))])]):t._e()]),e("div",{staticClass:"nv-col sm:w-1/2 w-full"},[e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("CURRENCY"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.loan.currencyAbbreviation,"-")))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("PRINCIPAL_DISBURSED"))+":")]),e("span",{class:t.negativeNumberStyle(t.loan.loanAmount)},[t._v(t._s(t._f("currency")(t.loan.loanAmount,"")))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("BALANCE_OUTSTANDING"))+":")]),e("span",{class:t.positiveNumberStyle(t.loan.outstandingAmount)},[t._v(t._s(t._f("currency")(t.loan.outstandingAmount,"")))])]),t.loan.dueAmount?e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("DUE_AMOUNT"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t._f("currency")(t.loan.dueAmount,""),"-")))])]):t._e(),t.loan.principalInterestRate?e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("PRINCIPAL_INTEREST_RATE"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.loan.principalInterestRate,"-"))+"%")])]):t._e(),t.loan.penaltyInterestRate?e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("PENALTY_INTEREST_RATE"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.loan.penaltyInterestRate,"-"))+"%")])]):t._e()])]),e("vs-tabs",[e("vs-tab",{attrs:{label:t.$t("REPAYMENT_SCHEDULE")}},[e("loan-repayment",{attrs:{loanNumber:t.loanNumber},on:{"show-alert":t.showAlert}})],1)],1)],1)],1)},s=[],r=e("a34a"),o=e.n(r),i=e("946b"),l=e("93b8"),c=e("f730"),u=e("9ed1"),p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"vs-con-loading__container",attrs:{id:"repayment-loading-container"}},[e("vs-table",{attrs:{data:t.repaymentTableData,noDataText:t.repaymentTableNoDataText,search:""},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.data;return t._l(n,function(a,s){return e("vs-tr",{key:s,attrs:{data:a}},[e("vs-td",{attrs:{data:n[s].installmentDate}},[t._v("\n          "+t._s(t._f("formatUnixDate")(n[s].installmentDate))+"\n        ")]),e("vs-td",{attrs:{data:n[s].installmentAmount}},[t._v("\n          "+t._s(t._f("currency")(n[s].installmentAmount,""))+"\n        ")]),e("vs-td",{attrs:{data:n[s].principalAmount}},[t._v("\n          "+t._s(t._f("currency")(n[s].principalAmount,""))+"\n        ")]),e("vs-td",{attrs:{data:n[s].interestAmount}},[t._v("\n          "+t._s(t._f("currency")(n[s].interestAmount,""))+"\n        ")]),e("vs-td",{attrs:{data:n[s].outstandingAmount}},[e("span",{class:t.positiveNumberStyle(n[s].outstandingAmount)},[t._v(t._s(t._f("currency")(n[s].outstandingAmount,"")))])])],1)})}}])},[e("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[e("div",{staticClass:"flex flex-wrap-reverse items-center"},[e("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-file-excel","icon-pack":"fal"},on:{click:function(a){return t.exportXls(t.repaymentTableData,t.columnDefs)}}},[t._v(t._s(t.$t("EXPORT_XLS")))]),e("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-file-csv","icon-pack":"fal"},on:{click:function(a){return t.exportCsv(t.repaymentTableData,t.columnDefs)}}},[t._v(t._s(t.$t("EXPORT_CSV")))]),e("vs-button",{staticClass:"p-3",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:t.repaymentTableBusy},on:{click:t.refreshRepaymentTable}},[t._v(t._s(t.$t("REFRESH")))])],1),e("div",{staticClass:"flex justify-end mr-4"},[e("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[e("span",{staticClass:"mx-2"},[t._v(t._s(t.repaymentTablePagingInfo))])])])]),e("template",{slot:"thead"},[e("vs-th",{attrs:{"sort-key":"installmentDate"}},[t._v("\n        "+t._s(this.$t("INSTALLMENT_DATE"))+"\n      ")]),e("vs-th",{attrs:{"sort-key":"installmentAmount"}},[t._v("\n        "+t._s(this.$t("INSTALLMENT_AMOUNT"))+"\n      ")]),e("vs-th",{attrs:{"sort-key":"principalAmount"}},[t._v("\n        "+t._s(this.$t("PRINCIPAL_AMOUNT"))+"\n      ")]),e("vs-th",{attrs:{"sort-key":"interestAmount"}},[t._v("\n        "+t._s(this.$t("INTEREST_AMOUNT"))+"\n      ")]),e("vs-th",{attrs:{"sort-key":"outstandingAmount"}},[t._v("\n        "+t._s(this.$t("OUTSTANDING_AMOUNT"))+"\n      ")])],1)],2)],1)},m=[],_=e("b664"),f={name:"loan-repayment",mixins:[i["a"],l["a"],u["a"],_["a"]],props:{loanNumber:{type:String,required:!0}},data:function(){return{repaymentTableData:[],repaymentTableContainer:"repayment-loading-container",repaymentTableBusy:!1,repaymentTableTotalRows:0,repaymentTableCurrentPage:1,repaymentTablePerPage:10,columnDefs:[{headerName:this.$t("INSTALLMENT_DATE"),field:"installmentDate",format:"Date"},{headerName:this.$t("INSTALLMENT_AMOUNT"),field:"installmentAmount",format:"Decimal"},{headerName:this.$t("PRINCIPAL_AMOUNT"),field:"principalAmount",format:"Decimal"},{headerName:this.$t("INTEREST_AMOUNT"),field:"interestAmount",format:"Decimal"},{headerName:this.$t("OUTSTANDING_AMOUNT"),field:"outstandingAmount",format:"Decimal"}]}},computed:{repaymentTableNoDataText:function(){return this.repaymentTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},repaymentTableTotalPages:function(){return Math.ceil(this.repaymentTableTotalRows/this.repaymentTablePerPage)},repaymentTablePagingInfo:function(){return this.pagingInfo(this.repaymentTableCurrentPage,this.repaymentTablePerPage,this.repaymentTableTotalRows)}},methods:{loadRepaymentTableData:function(t){var a=this;this.repaymentTableBusy=!0,this.repaymentTableContainer=t||this.repaymentTableContainer,this.startLoading(this.repaymentTableContainer),c["a"].loanRepayments({loanNumber:this.loanNumber}).then(function(t){a.stopLoading(a.repaymentTableContainer),a.repaymentTableBusy=!1,a.repaymentTableData=t.data.repaymentList||[],a.repaymentTablePerPage=t.data.totalRows,a.repaymentTableTotalRows=t.data.totalRows}).catch(function(t){a.stopLoading(a.repaymentTableContainer),a.repaymentTableBusy=!1,a.showDangerAlert(t.response.data.errors)})},refreshRepaymentTable:function(){this.loadRepaymentTableData()}},mounted:function(){this.loadRepaymentTableData()},watch:{repaymentTableCurrentPage:function(){this.refreshRepaymentTable()}}},d=f,v=e("2877"),h=Object(v["a"])(d,p,m,!1,null,null,null),T=h.exports;function y(t,a,e,n,s,r,o){try{var i=t[r](o),l=i.value}catch(c){return void e(c)}i.done?a(l):Promise.resolve(l).then(n,s)}function b(t){return function(){var a=this,e=arguments;return new Promise(function(n,s){var r=t.apply(a,e);function o(t){y(r,n,s,o,i,"next",t)}function i(t){y(r,n,s,o,i,"throw",t)}o(void 0)})}}var A={name:"loan-view",mixins:[i["a"],l["a"],u["a"]],components:{LoanRepayment:T},data:function(){return{loan:{},loanNumber:this.$route.params.id,popupActive:!1}},methods:{load:function(){var t=b(o.a.mark(function t(){var a;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=this,this.startLoading("loading-container"),c["a"].loanDetail({loanNumber:this.$route.params.id}).then(function(t){a.stopLoading("loading-container"),a.loan=t.data.loan||{}}).catch(function(t){a.stopLoading("loading-container"),a.showDangerAlert(t.response.data.errors)});case 3:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),cancel:function(){this.$router.back()}},mounted:function(){this.load()}},N=A,g=Object(v["a"])(N,n,s,!1,null,null,null);a["default"]=g.exports},"946b":function(t,a,e){"use strict";var n={data:function(){return{alertActive:!1,alertMessage:this.$t("UNKNOWN_ERROR"),alertVariant:"danger"}},methods:{showAlert:function(t,a){this.alertMessage=a||this.$t("UNKNOWN_ERROR"),this.alertVariant=t,this.alertActive=!0},showSuccessAlert:function(t){this.showAlert("success",t)},showDangerAlert:function(t){this.showAlert("danger",t)},showWarningAlert:function(t){this.showAlert("warning",t)},showInfoAlert:function(t){this.showAlert("info",t)}}};a["a"]=n},"9ed1":function(t,a,e){"use strict";var n={methods:{negativeNumberStyle:function(t){return 0===t?"":t<0?"text-danger":"text-success"},positiveNumberStyle:function(t){return 0===t?"":t>0?"text-danger":"text-success"}}};a["a"]=n},f730:function(t,a,e){"use strict";var n=e("36ad");a["a"]={loans:function(t){return Object(n["a"])().get("/s1/connect/loan",{params:t})},loanDetail:function(t){return Object(n["a"])().get("/s1/connect/loan/".concat(t.loanNumber,"/detail"),{params:t})},loanRepayments:function(t){return Object(n["a"])().get("/s1/connect/loan/".concat(t.loanNumber,"/repayment"),{params:t})}}}}]);
//# sourceMappingURL=chunk-e05b7070.cce63b84.js.map