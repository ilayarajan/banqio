{"version":3,"sources":["webpack:///./src/views/account/account-official-statement/AccountOfficialStatement.vue?5ae7","webpack:///./src/mixins/account/AccountOfficialStatementTableMixin.js","webpack:///src/views/account/account-official-statement/AccountOfficialStatement.vue","webpack:///./src/views/account/account-official-statement/AccountOfficialStatement.vue?8981","webpack:///./src/views/account/account-official-statement/AccountOfficialStatement.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","alertActive","alertVariant","on","$event","_v","_s","alertMessage","_e","$t","selectAccountRecord","showStatement","statementTableVisible","statementTableBusy","statementTableData","length","$set","scopedSlots","_u","key","fn","ref","data","_l","tr","index","statementId","downloadStatement","_f","accountNumber","statementDate","slot","staticRenderFns","AccountOfficialStatementTableMixin","mixins","LoadingMixin","ListLayoutMixin","statementTableContainer","statementTableTotalRows","statementTableCurrentPage","statementTablePerPage","computed","statementTableNoDataText","statementTableTotalPages","Math","ceil","statementTablePagingInfo","pagingInfo","methods","loadStatementTableData","loadingContainerId","self","startLoading","AccountService","officialStatements","then","response","stopLoading","totalRows","statementList","catch","error","$emit","errors","refreshStatementTable","watch","name","AlertMixin","components","AccountLookup","record","component"],"mappings":"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","file":"js/chunk-2d0a4837.4c3c00d1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.alertActive)?_c('div',{staticClass:\"alert-container\"},[_c('vs-alert',{staticClass:\"mb-5\",attrs:{\"active\":_vm.alertActive,\"color\":_vm.alertVariant,\"closable\":\"\",\"icon-pack\":\"feather\",\"close-icon\":\"icon-x\"},on:{\"update:active\":function($event){_vm.alertActive=$event}}},[_c('p',[_vm._v(_vm._s(_vm.alertMessage))])])],1):_vm._e(),_c('nv-card',{staticClass:\"vs-con-loading__container mb-base\",attrs:{\"id\":\"loading-container\"}},[_c('div',{staticClass:\"flex justify-between\"},[_c('h4',{staticClass:\"mb-4\"},[_vm._v(_vm._s(_vm.$t('SEARCH_CRITERIA')))])]),_c('div',{staticClass:\"nv-row mb-4\"},[_c('div',{staticClass:\"nv-col w-full required\"},[_c('label',{staticClass:\"vs-input--label\"},[_vm._v(_vm._s(_vm.$t('ACCOUNT')))]),_c('account-lookup',{attrs:{\"title\":_vm.$t('ACCOUNT'),\"valueField\":\"accountNumber\",\"displayField\":\"accountNumber\"},on:{\"select-record\":_vm.selectAccountRecord}})],1)]),_c('div',{staticClass:\"nv-row\"},[_c('div',{staticClass:\"nv-col w-full\"},[_c('div',{staticClass:\"flex justify-end\"},[_c('vs-button',{staticClass:\"py-3\",on:{\"click\":_vm.showStatement}},[_vm._v(_vm._s(_vm.$t('SUBMIT')))])],1)])])]),(_vm.statementTableVisible && !_vm.statementTableBusy)?_c('div',[_c('nv-card',[_c('h4',{staticClass:\"mb-base\"},[_vm._v(_vm._s(_vm.$t('PAGE_TITLE')))]),_c('vs-alert',{attrs:{\"active\":_vm.statementTableData.length === 0,\"color\":\"warning\"},on:{\"update:active\":function($event){return _vm.$set(_vm.statementTableData, \"length === 0\", $event)}}},[_c('i',{staticClass:\"far fa-exclamation-circle pr-1\"}),_vm._v(\" \"+_vm._s(_vm.$t('NO_DATA_FOUND'))+\"\\n      \")]),(_vm.statementTableData.length > 0)?_c('vs-table',{staticClass:\"table-no-header\",attrs:{\"data\":_vm.statementTableData},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(tr,index){return _c('vs-tr',{key:index,attrs:{\"data\":tr}},[_c('vs-td',{attrs:{\"data\":data[index].statementId}},[_c('a',{attrs:{\"href\":_vm.downloadStatement(data[index]),\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm._f(\"placeholder\")(data[index].statementId,'-')))])]),_c('vs-td',{attrs:{\"data\":data[index].accountNumber}},[_vm._v(\"\\n              \"+_vm._s(_vm._f(\"placeholder\")(data[index].accountNumber,'-'))+\"\\n            \")]),_c('vs-td',{attrs:{\"data\":data[index].statementDate}},[_vm._v(\"\\n              \"+_vm._s(_vm._f(\"formatUnixDate\")(data[index].statementDate))+\"\\n            \")])],1)})}}],null,false,1082481068)},[_c('template',{slot:\"thead\"},[_c('vs-th',{attrs:{\"sort-key\":\"statementId\"}},[_vm._v(\"\\n            \"+_vm._s(this.$t('STATEMENT_ID'))+\"\\n          \")]),_c('vs-th',{attrs:{\"sort-key\":\"accountNumber\"}},[_vm._v(\"\\n            \"+_vm._s(this.$t('ACCOUNT_NUMBER'))+\"\\n          \")]),_c('vs-th',{attrs:{\"sort-key\":\"statementDate\"}},[_vm._v(\"\\n            \"+_vm._s(this.$t('STATEMENT_DATE'))+\"\\n          \")])],1)],2):_vm._e()],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import AccountService from '@/services/account/AccountService'\nimport LoadingMixin from '@/mixins/commons/LoadingMixin'\nimport ListLayoutMixin from '@/mixins/commons/ListLayoutMixin'\n\nlet AccountOfficialStatementTableMixin = {\n  mixins: [LoadingMixin, ListLayoutMixin],\n  data: function () {\n    return {\n      statementTableData: [],\n      statementTableContainer: 'loading-container',\n      statementTableBusy: false,\n      statementTableTotalRows: 0,\n      statementTableCurrentPage: 1,\n      statementTablePerPage: 10\n    }\n  },\n  computed: {\n    statementTableNoDataText: function () {\n      return this.statementTableBusy ? this.$t('LOADING') + ' ...' : this.$t('NO_DATA_FOUND')\n    },\n    statementTableTotalPages: function () {\n      return Math.ceil(this.statementTableTotalRows / this.statementTablePerPage)\n    },\n    statementTablePagingInfo: function () {\n      return this.pagingInfo(this.statementTableCurrentPage, this.statementTablePerPage, this.statementTableTotalRows)\n    }\n  },\n  methods: {\n    loadStatementTableData (loadingContainerId) {\n      let self = this\n      this.statementTableBusy = true\n      this.statementTableContainer = loadingContainerId || this.statementTableContainer\n      this.startLoading(this.statementTableContainer)\n      AccountService.officialStatements({\n        accountNumber: this.accountNumber\n      }).then(function (response) {\n        self.stopLoading(self.statementTableContainer)\n        self.statementTableBusy = false\n        self.statementTableTotalRows = response.data.totalRows\n        self.statementTableData = response.data.statementList || []\n      }).catch(function (error) {\n        self.stopLoading(self.statementTableContainer)\n        self.statementTableBusy = false\n        self.$emit('show-alert', 'danger', error.response.data.errors)\n      })\n    },\n    refreshStatementTable () {\n      this.loadStatementTableData()\n    }\n  },\n  watch: {\n    statementTableCurrentPage: function () {\n      this.refreshStatementTable()\n    },\n    statementTablePerPage: function () {\n      this.refreshStatementTable()\n    }\n  }\n}\n\nexport default AccountOfficialStatementTableMixin\n","<template>\n  <div>\n    <div class=\"alert-container\" v-if=\"alertActive\">\n      <vs-alert :active.sync=\"alertActive\" :color=\"alertVariant\" closable icon-pack=\"feather\" close-icon=\"icon-x\" class=\"mb-5\">\n        <p>{{ alertMessage }}</p>\n      </vs-alert>\n    </div>\n\n    <nv-card id=\"loading-container\" class=\"vs-con-loading__container mb-base\">\n      <div class=\"flex justify-between\">\n        <h4 class=\"mb-4\">{{ $t('SEARCH_CRITERIA') }}</h4>\n      </div>\n      <div class=\"nv-row mb-4\">\n        <div class=\"nv-col w-full required\">\n          <label class=\"vs-input--label\">{{ $t('ACCOUNT') }}</label>\n          <account-lookup :title=\"$t('ACCOUNT')\" valueField=\"accountNumber\" displayField=\"accountNumber\" @select-record=\"selectAccountRecord\"/>\n        </div>\n      </div>\n\n      <div class=\"nv-row\">\n        <div class=\"nv-col w-full\">\n          <div class=\"flex justify-end\">\n            <vs-button class=\"py-3\" @click=\"showStatement\">{{ $t('SUBMIT') }}</vs-button>\n          </div>\n        </div>\n      </div>\n    </nv-card>\n\n    <div v-if=\"statementTableVisible && !statementTableBusy\">\n      <nv-card>\n        <h4 class=\"mb-base\">{{ $t('PAGE_TITLE') }}</h4>\n\n        <vs-alert :active.sync=\"statementTableData.length === 0\" color=\"warning\">\n          <i class=\"far fa-exclamation-circle pr-1\"></i> {{ $t('NO_DATA_FOUND') }}\n        </vs-alert>\n\n        <vs-table class=\"table-no-header\" :data=\"statementTableData\" v-if=\"statementTableData.length > 0\">\n          <template slot=\"thead\">\n            <vs-th sort-key=\"statementId\">\n              {{ this.$t('STATEMENT_ID') }}\n            </vs-th>\n            <vs-th sort-key=\"accountNumber\">\n              {{ this.$t('ACCOUNT_NUMBER') }}\n            </vs-th>\n            <vs-th sort-key=\"statementDate\">\n              {{ this.$t('STATEMENT_DATE') }}\n            </vs-th>\n          </template>\n\n          <template slot-scope=\"{data}\">\n            <vs-tr :key=\"index\" v-for=\"(tr, index) in data\" :data=\"tr\">\n              <vs-td :data=\"data[index].statementId\">\n                <a :href=\"downloadStatement(data[index])\" target=\"_blank\">{{ data[index].statementId | placeholder('-') }}</a>\n              </vs-td>\n              <vs-td :data=\"data[index].accountNumber\">\n                {{ data[index].accountNumber | placeholder('-') }}\n              </vs-td>\n              <vs-td :data=\"data[index].statementDate\">\n                {{ data[index].statementDate | formatUnixDate }}\n              </vs-td>\n            </vs-tr>\n          </template>\n        </vs-table>\n      </nv-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AlertMixin from '@/mixins/commons/AlertMixin'\nimport AccountStatementTableMixin from '@/mixins/account/AccountOfficialStatementTableMixin'\nimport AccountLookup from '@/views/account/account-root/AccountLookup'\n\nexport default {\n  name: 'account-statement',\n  mixins: [AlertMixin, AccountStatementTableMixin],\n  components: {\n    AccountLookup\n  },\n  data: function () {\n    return {\n      accountNumber: '',\n      statementTableVisible: false\n    }\n  },\n  methods: {\n    showStatement () {\n      if (this.accountNumber) {\n        this.statementTableVisible = true\n        this.loadStatementTableData()\n      }\n    },\n    selectAccountRecord (record) {\n      this.accountNumber = record.accountNumber\n    },\n    downloadStatement: function (item) {\n      let baseUrl = process.env.NODE_ENV === 'development' ? 'http://localhost:8080' : ''\n      let appId = this.$store.getters.appId\n      let customerId = this.$store.getters.activeExternalId.externalId\n      return `${baseUrl}/apps/Connect/DownloadSecure/downloadOfficialAccountStatement?sourceAppId=${appId}&customerId=${customerId}&accountNumber=${item.accountNumber}&statementId=${item.statementId}`\n    }\n  },\n  watch: {\n    accountNumber: function () {\n      this.statementTableVisible = false\n      this.statementTableData = []\n      this.statementTableTotalRows = 0\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountOfficialStatement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountOfficialStatement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountOfficialStatement.vue?vue&type=template&id=1045347f&\"\nimport script from \"./AccountOfficialStatement.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountOfficialStatement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}