(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-250488a5"],{"0035":function(t,a,e){"use strict";var s=e("9ff0"),n=e("93b8"),r=e("b664"),o={mixins:[n["a"],r["a"]],props:{defaultTaskTableFilter:{type:String,default:null},defaultTaskTableOrderBy:{type:String,default:null},instanceId:{type:String,default:null},workflowTypeEnumId:{type:String,default:null},taskTypeEnumId:{type:String,default:null}},data:function(){return{instanceStatusId:null,taskTableData:[],taskTableFilterTimer:null,taskTableFilter:this.defaultTaskTableFilter,taskTableOrderBy:this.defaultTaskTableOrderBy,taskTableContainer:"loading-container",taskTableBusy:!1,taskTableTotalRows:0,taskTableCurrentPage:1,taskTablePerPage:10}},computed:{taskTableNoDataText:function(){return this.taskTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},taskTableTotalPages:function(){return Math.ceil(this.taskTableTotalRows/this.taskTablePerPage)},taskTablePagingInfo:function(){return this.pagingInfo(this.taskTableCurrentPage,this.taskTablePerPage,this.taskTableTotalRows)}},methods:{loadTaskTableData:function(t){var a=this;this.taskTableBusy=!0,this.taskTableContainer=t||this.taskTableContainer,this.startLoading(this.taskTableContainer),s["a"].workflowTasks({pageIndex:this.taskTableCurrentPage-1,pageSize:this.taskTablePerPage,filter:this.taskTableFilter,orderByField:this.taskTableOrderBy,workflowTypeEnumId:this.workflowTypeEnumId,instanceId:this.instanceId,instanceStatusId:this.instanceStatusId,taskTypeEnumId:this.taskTypeEnumId,assignedUserId:a.$store.state.userId}).then(function(t){a.stopLoading(a.taskTableContainer),a.taskTableBusy=!1,a.taskTableTotalRows=t.data.totalRows,a.taskTableData=t.data.taskList||[]}).catch(function(t){a.stopLoading(a.taskTableContainer),a.taskTableBusy=!1,a.$emit("show-alert","danger",t.response.data.errors)})},refreshTaskTable:function(){this.loadTaskTableData()},filterTaskTable:function(t){var a=this;this.taskTableFilter!==t?(clearTimeout(this.taskTableFilterTimer),this.taskTableFilterTimer=setTimeout(function(){a.taskTableFilter=t,a.loadTaskTableData()},"750")):clearTimeout(this.taskTableFilterTimer)},orderTaskTable:function(t,a){this.taskTableOrderBy=(a?"":"-")+t,this.loadTaskTableData()}},watch:{taskTableCurrentPage:function(){this.refreshTaskTable()},taskTablePerPage:function(){this.refreshTaskTable()},taskTypeEnumId:function(){this.refreshTaskTable()}}};a["a"]=o},4013:function(t,a,e){"use strict";var s=e("36ad");a["a"]={reportApps:function(t){return Object(s["a"])().get("/s1/connect/report/app",{params:t})},reportParameters:function(t){return Object(s["a"])().get("/s1/connect/report/".concat(t.reportId,"/parameter"),{params:t})},reportPrice:function(t){return Object(s["a"])().get("/s1/connect/report/".concat(t.reportId,"/price"),{params:t})},runReport:function(t){return Object(s["a"])().post("/s1/connect/report/".concat(t.reportId,"/run"),t)},reportWorkflowInstances:function(t){return Object(s["a"])().get("/s1/connect/report/workflow/instance",{params:t})}}},"9ff0":function(t,a,e){"use strict";var s=e("36ad");a["a"]={workflowTaskStats:function(t){return Object(s["a"])().get("/s1/connect/workflow/task/stats",{params:t})},workflowTasks:function(t){return Object(s["a"])().get("/s1/connect/workflow/task",{params:t})},modifyWorkflowTask:function(t){return Object(s["a"])().patch("/s1/connect/workflow/task",t)},workflowInstances:function(t){return Object(s["a"])().get("/s1/connect/workflow/instance",{params:t})}}},e893:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nv-card",[!1===t.viewOnly?e("div",{staticClass:"flex flex-wrap-reverse items-center mb-base"},[e("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-chevron-left","icon-pack":"far"},on:{click:t.cancel}},[t._v(t._s(t.$t("BACK")))]),"RPT_INST_COMPLETED"===t.workflowInstance.reportInstanceStatusId?e("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",href:t.reportDownloadUrl,"icon-pack":"far",icon:"fa-cloud-download-alt"}},[t._v(t._s(t.$t("DOWNLOAD")))]):t._e()],1):t._e(),e("div",{staticClass:"nv-row row hover vs-con-loading__container",attrs:{id:"instance-loading-container"}},[e("div",{staticClass:"nv-col w-full"},[e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("ID"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.workflowInstance.instanceId,"-")))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("REPORT_NAME"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.workflowInstance.reportName,"-")))])]),t.workflowInstance.debitAccountNumber?e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("DEBIT_ACCOUNT_NUMBER"))+":")]),e("span",[t._v(t._s(t.workflowInstance.debitAccountNumber))])]):t._e(),t.workflowInstance.price?e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("PRICE"))+":")]),e("span",[t._v(t._s(t.workflowInstance.price)+" "+t._s(t.workflowInstance.currencyAbbreviation))])]):t._e(),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("STATUS"))+":")]),e("span",[t._v(t._s(t.workflowInstance.reportInstanceStatusDescription))])]),t.workflowInstance.errors?e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("ERRORS"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.workflowInstance.errors,"-")))])]):t._e(),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("INPUT_BY"))+": ")]),e("span",[t._v(t._s(t.workflowInstance.inputUserFullName))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("CREATION_DATE"))+":")]),e("span",[t._v(t._s(t._f("formatUnixDate")(t.workflowInstance.creationDate)))])])])]),e("vs-tabs",{staticClass:"mt-base"},[e("vs-tab",{attrs:{label:t.$t("TASKS")}},[e("div",{staticClass:"vs-con-loading__container",attrs:{id:"tasks-loading-container"}},[e("vs-table",{staticClass:"mb-base",attrs:{data:t.taskTableData,noDataText:t.taskTableNoDataText,search:""},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.data;return t._l(s,function(a,n){return e("vs-tr",{key:n,attrs:{data:a}},[e("vs-td",{attrs:{data:s[n].taskId}},[t._v("\n                "+t._s(s[n].taskId)+"\n              ")]),e("vs-td",{attrs:{data:s[n].assignedUserFullName}},[t._v("\n                "+t._s(s[n].assignedUserFullName)+"\n              ")]),e("vs-td",{attrs:{data:s[n].statusDescription}},[t._v("\n                "+t._s(s[n].statusDescription)+"\n              ")]),e("vs-td",{attrs:{data:s[n].creationDate}},[t._v("\n                "+t._s(t._f("formatUnixDate")(s[n].creationDate))+"\n              ")]),e("vs-td",{attrs:{data:s[n].dueDate}},[t._v("\n                "+t._s(t._f("formatUnixDate")(s[n].dueDate))+"\n              ")])],1)})}}])},[e("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[e("div",{staticClass:"flex flex-wrap-reverse items-center"},[e("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:t.taskTableBusy},on:{click:t.refreshTaskTable}},[t._v(t._s(t.$t("REFRESH")))])],1),e("div",{staticClass:"flex justify-end mr-4"},[e("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[e("span",{staticClass:"mx-2"},[t._v(t._s(t.taskTablePagingInfo))]),e("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[e("span",{staticClass:"far fa-angle-down text-primary"}),e("vs-dropdown-menu",t._l(t.tablePageOptions,function(a,s){return e("vs-dropdown-item",{key:s,on:{click:function(e){t.taskTablePerPage=a}}},[e("span",[t._v(t._s(a))])])}),1)],1)],1)])]),e("template",{slot:"thead"},[e("vs-th",{attrs:{"sort-key":"taskId"}},[t._v("\n              "+t._s(this.$t("ID"))+"\n            ")]),e("vs-th",{attrs:{"sort-key":"assignedUserFullName"}},[t._v("\n              "+t._s(this.$t("ASSIGNED_USER"))+"\n            ")]),e("vs-th",{attrs:{"sort-key":"statusDescription"}},[t._v("\n              "+t._s(this.$t("STATUS"))+"\n            ")]),e("vs-th",{attrs:{"sort-key":"creationDate"}},[t._v("\n              "+t._s(this.$t("CREATION_DATE"))+"\n            ")]),e("vs-th",{attrs:{"sort-key":"dueDate"}},[t._v("\n              "+t._s(this.$t("DUE_DATE"))+"\n            ")])],1)],2),e("vs-pagination",{attrs:{total:t.taskTableTotalPages,max:t.maxPaginationItems},model:{value:t.taskTableCurrentPage,callback:function(a){t.taskTableCurrentPage=a},expression:"taskTableCurrentPage"}})],1)])],1)],1)},n=[],r=e("a34a"),o=e.n(r),i=e("4013"),l=e("93b8"),c=e("0035");function u(t,a,e,s,n,r,o){try{var i=t[r](o),l=i.value}catch(c){return void e(c)}i.done?a(l):Promise.resolve(l).then(s,n)}function d(t){return function(){var a=this,e=arguments;return new Promise(function(s,n){var r=t.apply(a,e);function o(t){u(r,s,n,o,i,"next",t)}function i(t){u(r,s,n,o,i,"throw",t)}o(void 0)})}}var f={name:"report-workflow-instance-view",mixins:[l["a"],c["a"]],props:{workflowInstanceId:{type:String,default:null},viewOnly:{type:Boolean,default:!1}},data:function(){return{workflowInstance:{}}},computed:{reportDownloadUrl:function(t){var a="",e=this.$store.getters.appId,s=this.$store.getters.activeExternalId.externalId;return"".concat(a,"/apps/Connect/DownloadSecure/downloadReportInstance?sourceAppId=").concat(e,"&customerId=").concat(s,"&instanceId=").concat(this.workflowInstance.reportInstanceId)}},methods:{load:function(){var t=d(o.a.mark(function t(){var a;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=this,this.startLoading("instance-loading-container"),i["a"].reportWorkflowInstances({instanceId:this.instanceId}).then(function(t){a.stopLoading("instance-loading-container"),a.workflowInstance=t.data.instanceList[0]||{},a.loadTaskTableData("tasks-loading-container")});case 3:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),cancel:function(){this.$router.back()}},mounted:function(){this.load()}},p=f,k=e("2877"),T=Object(k["a"])(p,s,n,!1,null,null,null);a["default"]=T.exports}}]);
//# sourceMappingURL=chunk-250488a5.836d97a5.js.map