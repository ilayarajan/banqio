(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a76ce43"],{"0035":function(t,a,e){"use strict";var s=e("9ff0"),n=e("93b8"),r=e("b664"),i={mixins:[n["a"],r["a"]],props:{defaultTaskTableFilter:{type:String,default:null},defaultTaskTableOrderBy:{type:String,default:null},instanceId:{type:String,default:null},workflowTypeEnumId:{type:String,default:null},taskTypeEnumId:{type:String,default:null}},data:function(){return{instanceStatusId:null,taskTableData:[],taskTableFilterTimer:null,taskTableFilter:this.defaultTaskTableFilter,taskTableOrderBy:this.defaultTaskTableOrderBy,taskTableContainer:"loading-container",taskTableBusy:!1,taskTableTotalRows:0,taskTableCurrentPage:1,taskTablePerPage:10}},computed:{taskTableNoDataText:function(){return this.taskTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},taskTableTotalPages:function(){return Math.ceil(this.taskTableTotalRows/this.taskTablePerPage)},taskTablePagingInfo:function(){return this.pagingInfo(this.taskTableCurrentPage,this.taskTablePerPage,this.taskTableTotalRows)}},methods:{loadTaskTableData:function(t){var a=this;this.taskTableBusy=!0,this.taskTableContainer=t||this.taskTableContainer,this.startLoading(this.taskTableContainer),s["a"].workflowTasks({pageIndex:this.taskTableCurrentPage-1,pageSize:this.taskTablePerPage,filter:this.taskTableFilter,orderByField:this.taskTableOrderBy,workflowTypeEnumId:this.workflowTypeEnumId,instanceId:this.instanceId,instanceStatusId:this.instanceStatusId,taskTypeEnumId:this.taskTypeEnumId,assignedUserId:a.$store.state.userId}).then(function(t){a.stopLoading(a.taskTableContainer),a.taskTableBusy=!1,a.taskTableTotalRows=t.data.totalRows,a.taskTableData=t.data.taskList||[]}).catch(function(t){a.stopLoading(a.taskTableContainer),a.taskTableBusy=!1,a.$emit("show-alert","danger",t.response.data.errors)})},refreshTaskTable:function(){this.loadTaskTableData()},filterTaskTable:function(t){var a=this;this.taskTableFilter!==t?(clearTimeout(this.taskTableFilterTimer),this.taskTableFilterTimer=setTimeout(function(){a.taskTableFilter=t,a.loadTaskTableData()},"750")):clearTimeout(this.taskTableFilterTimer)},orderTaskTable:function(t,a){this.taskTableOrderBy=(a?"":"-")+t,this.loadTaskTableData()}},watch:{taskTableCurrentPage:function(){this.refreshTaskTable()},taskTablePerPage:function(){this.refreshTaskTable()},taskTypeEnumId:function(){this.refreshTaskTable()}}};a["a"]=i},"1cd9":function(t,a,e){"use strict";var s=e("36ad");a["a"]={issuedCheques:function(t){return Object(s["a"])().get("/s1/connect/cheque/issued",{params:t})},postDatedCheques:function(t){return Object(s["a"])().get("/s1/connect/cheque/postDated/pending",{params:t})},chequeBookWorkflowInstances:function(t){return Object(s["a"])().get("/s1/connect/cheque/book/workflow/instance",{params:t})},createChequeBook:function(t){return Object(s["a"])().post("/s1/connect/cheque/book",t)}}},"946b":function(t,a,e){"use strict";var s={data:function(){return{alertActive:!1,alertMessage:this.$t("UNKNOWN_ERROR"),alertVariant:"danger"}},methods:{showAlert:function(t,a){this.alertMessage=a||this.$t("UNKNOWN_ERROR"),this.alertVariant=t,this.alertActive=!0},showSuccessAlert:function(t){this.showAlert("success",t)},showDangerAlert:function(t){this.showAlert("danger",t)},showWarningAlert:function(t){this.showAlert("warning",t)},showInfoAlert:function(t){this.showAlert("info",t)}}};a["a"]=s},"9ff0":function(t,a,e){"use strict";var s=e("36ad");a["a"]={workflowTaskStats:function(t){return Object(s["a"])().get("/s1/connect/workflow/task/stats",{params:t})},workflowTasks:function(t){return Object(s["a"])().get("/s1/connect/workflow/task",{params:t})},modifyWorkflowTask:function(t){return Object(s["a"])().patch("/s1/connect/workflow/task",t)},workflowInstances:function(t){return Object(s["a"])().get("/s1/connect/workflow/instance",{params:t})}}},e9f4:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.alertActive?e("div",{staticClass:"alert-container"},[e("vs-alert",{staticClass:"mb-5",attrs:{active:t.alertActive,color:t.alertVariant,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(a){t.alertActive=a}}},[e("p",[t._v(t._s(t.alertMessage))])])],1):t._e(),e("nv-card",[!1===t.viewOnly?e("div",{staticClass:"flex flex-wrap-reverse items-center mb-base"},[e("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-chevron-left","icon-pack":"far"},on:{click:t.cancel}},[t._v(t._s(t.$t("BACK")))])],1):t._e(),e("div",{staticClass:"nv-row row hover vs-con-loading__container",attrs:{id:"instance-loading-container"}},[[e("div",{staticClass:"nv-col w-full"},[e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("ID"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.workflowInstance.instanceId,"-")))])]),t.workflowInstance.externalBookId?e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("EXTERNAL_ID"))+":")]),e("span",[t._v(t._s(t.workflowInstance.externalBookId))])]):t._e(),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("ACTION_TYPE"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.workflowInstance.actionTypeDescription,"-")))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("ACCOUNT_NUMBER"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.workflowInstance.accountNumber,"-")))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("DELIVERY_BRANCH"))+": ")]),e("span",[t._v(t._s(t._f("placeholder")(t.workflowInstance.deliveryBranchName,"-")))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("BOOK_COUNT"))+": ")]),e("span",[t._v(t._s(t.workflowInstance.bookCount))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("INPUT_BY"))+": ")]),e("span",[t._v(t._s(t.workflowInstance.inputUserFullName))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("CREATION_DATE"))+": ")]),e("span",[t._v(t._s(t._f("formatUnixDate")(t.workflowInstance.creationDate)))])])])]],2),e("vs-tabs",{staticClass:"mt-base"},[e("vs-tab",{attrs:{label:t.$t("TASKS")}},[e("div",{staticClass:"vs-con-loading__container",attrs:{id:"tasks-loading-container"}},[e("vs-table",{staticClass:"mb-base",attrs:{data:t.taskTableData,noDataText:t.taskTableNoDataText,search:""},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.data;return t._l(s,function(a,n){return e("vs-tr",{key:n,attrs:{data:a}},[e("vs-td",{attrs:{data:s[n].taskId}},[t._v("\n                  "+t._s(s[n].taskId)+"\n                ")]),e("vs-td",{attrs:{data:s[n].assignedUserFullName}},[t._v("\n                  "+t._s(s[n].assignedUserFullName)+"\n                ")]),e("vs-td",{attrs:{data:s[n].statusDescription}},[t._v("\n                  "+t._s(s[n].statusDescription)+"\n                ")]),e("vs-td",{attrs:{data:s[n].creationDate}},[t._v("\n                  "+t._s(t._f("formatUnixDate")(s[n].creationDate))+"\n                ")]),e("vs-td",{attrs:{data:s[n].dueDate}},[t._v("\n                  "+t._s(t._f("formatUnixDate")(s[n].dueDate))+"\n                ")])],1)})}}])},[e("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[e("div",{staticClass:"flex flex-wrap-reverse items-center"},[e("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:t.taskTableBusy},on:{click:t.refreshTaskTable}},[t._v(t._s(t.$t("REFRESH")))])],1),e("div",{staticClass:"flex justify-end mr-4"},[e("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[e("span",{staticClass:"mx-2"},[t._v(t._s(t.taskTablePagingInfo))]),e("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[e("span",{staticClass:"far fa-angle-down text-primary"}),e("vs-dropdown-menu",t._l(t.tablePageOptions,function(a,s){return e("vs-dropdown-item",{key:s,on:{click:function(e){t.taskTablePerPage=a}}},[e("span",[t._v(t._s(a))])])}),1)],1)],1)])]),e("template",{slot:"thead"},[e("vs-th",{attrs:{"sort-key":"taskId"}},[t._v("\n                "+t._s(this.$t("ID"))+"\n              ")]),e("vs-th",{attrs:{"sort-key":"assignedUserFullName"}},[t._v("\n                "+t._s(this.$t("ASSIGNED_USER"))+"\n              ")]),e("vs-th",{attrs:{"sort-key":"statusDescription"}},[t._v("\n                "+t._s(this.$t("STATUS"))+"\n              ")]),e("vs-th",{attrs:{"sort-key":"creationDate"}},[t._v("\n                "+t._s(this.$t("CREATION_DATE"))+"\n              ")]),e("vs-th",{attrs:{"sort-key":"dueDate"}},[t._v("\n                "+t._s(this.$t("DUE_DATE"))+"\n              ")])],1)],2),e("vs-pagination",{attrs:{total:t.taskTableTotalPages,max:t.maxPaginationItems},model:{value:t.taskTableCurrentPage,callback:function(a){t.taskTableCurrentPage=a},expression:"taskTableCurrentPage"}})],1)])],1)],1)],1)},n=[],r=e("a34a"),i=e.n(r),o=e("946b"),l=e("93b8"),c=e("1cd9"),u=e("0035");function d(t,a,e,s,n,r,i){try{var o=t[r](i),l=o.value}catch(c){return void e(c)}o.done?a(l):Promise.resolve(l).then(s,n)}function f(t){return function(){var a=this,e=arguments;return new Promise(function(s,n){var r=t.apply(a,e);function i(t){d(r,s,n,i,o,"next",t)}function o(t){d(r,s,n,i,o,"throw",t)}i(void 0)})}}var k={name:"cheque-book-workflow-instance-view",mixins:[o["a"],l["a"],u["a"]],props:{transferId:{type:String,default:null},viewOnly:{type:Boolean,default:!1}},data:function(){return{workflowInstance:{}}},methods:{load:function(){var t=f(i.a.mark(function t(){var a;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=this,this.startLoading("instance-loading-container"),c["a"].chequeBookWorkflowInstances({instanceId:this.instanceId}).then(function(t){a.stopLoading("instance-loading-container"),a.workflowInstance=t.data.instanceList[0]||{},a.loadTaskTableData("tasks-loading-container")});case 3:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),cancel:function(){this.$router.back()}},mounted:function(){this.load()},watch:{$route:function(t,a){this.load()}}},T=k,h=e("2877"),p=Object(h["a"])(T,s,n,!1,null,null,null);a["default"]=p.exports}}]);
//# sourceMappingURL=chunk-1a76ce43.61315018.js.map