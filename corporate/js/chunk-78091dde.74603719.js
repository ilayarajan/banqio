(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78091dde"],{"1cd9":function(t,e,a){"use strict";var n=a("36ad");e["a"]={issuedCheques:function(t){return Object(n["a"])().get("/s1/connect/cheque/issued",{params:t})},postDatedCheques:function(t){return Object(n["a"])().get("/s1/connect/cheque/postDated/pending",{params:t})},chequeBookWorkflowInstances:function(t){return Object(n["a"])().get("/s1/connect/cheque/book/workflow/instance",{params:t})},createChequeBook:function(t){return Object(n["a"])().post("/s1/connect/cheque/book",t)}}},8465:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"loading-container"}},[t.alertActive?a("div",{staticClass:"alert-container"},[a("vs-alert",{staticClass:"mb-5",attrs:{active:t.alertActive,color:t.alertVariant,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(e){t.alertActive=e}}},[a("p",[t._v(t._s(t.alertMessage))])])],1):t._e(),a("nv-card",[a("vs-table",{staticClass:"mb-base",attrs:{data:t.workflowInstanceTableData,noDataText:t.workflowInstanceTableNoDataText,sst:!0,search:""},on:{search:t.filterWorkflowInstanceTable,sort:t.orderWorkflowInstanceTable},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.data;return t._l(n,function(e,s){return a("vs-tr",{key:s,attrs:{data:e}},[a("vs-td",{attrs:{data:n[s].instanceId}},[a("router-link",{attrs:{to:{name:"ViewChequeBookWorkflowInstance",params:{id:n[s].instanceId}}}},[t._v(t._s(n[s].instanceId))])],1),a("vs-td",{attrs:{data:n[s].accountNumber}},[t._v("\n            "+t._s(t._f("placeholder")(n[s].accountNumber,"-"))+"\n          ")]),a("vs-td",{attrs:{data:n[s].bookCount}},[t._v("\n            "+t._s(t._f("placeholder")(n[s].bookCount,"-"))+"\n          ")]),a("vs-td",{attrs:{data:n[s].branchName}},[t._v("\n            "+t._s(t._f("placeholder")(n[s].branchName,"-"))+"\n          ")]),a("vs-td",{attrs:{data:n[s].creationDate}},[t._v("\n            "+t._s(t._f("formatUnixDate")(n[s].creationDate))+"\n          ")]),a("vs-td",{attrs:{data:n[s].bookStatusDescription}},[t._v("\n            "+t._s(t._f("placeholder")(n[s].bookStatusDescription,"-"))+"\n          ")]),a("vs-td",{attrs:{data:n[s].approvedCount}},[a("span",{staticClass:"mr-2"},[a("i",{staticClass:"far fa-check-circle text-success"}),t._v(" "+t._s(t._f("placeholder")(n[s].approvedCount,"0")))]),a("span",{staticClass:"mr-2"},[a("i",{staticClass:"far fa-times-circle text-danger"}),t._v(" "+t._s(t._f("placeholder")(n[s].rejectedCount,"0")))]),a("span",{staticClass:"mr-2"},[a("i",{staticClass:"far fa-question-circle text-warning"}),t._v(" "+t._s(t._f("placeholder")(n[s].pendingCount,"0")))])])],1)})}}])},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex flex-wrap-reverse items-center"},[a("vs-button",{staticClass:"p-3",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:t.workflowInstanceTableBusy},on:{click:t.refreshWorkflowInstanceTable}},[t._v(t._s(t.$t("REFRESH")))])],1),a("div",{staticClass:"flex justify-end mr-4"},[a("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[a("span",{staticClass:"mx-2"},[t._v(t._s(t.workflowInstanceTablePagingInfo))]),a("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[a("span",{staticClass:"far fa-angle-down text-primary"}),a("vs-dropdown-menu",t._l(t.tablePageOptions,function(e,n){return a("vs-dropdown-item",{key:n,on:{click:function(a){t.workflowInstanceTablePerPage=e}}},[a("span",[t._v(t._s(e))])])}),1)],1)],1)])]),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"instanceId"}},[t._v("\n          "+t._s(this.$t("ID"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"accountNumber"}},[t._v("\n          "+t._s(this.$t("ACCOUNT_NUMBER"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"bookCount"}},[t._v("\n          "+t._s(this.$t("BOOK_COUNT"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"branchName"}},[t._v("\n          "+t._s(this.$t("BRANCH"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"creationDate"}},[t._v("\n          "+t._s(this.$t("CREATION_DATE"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"bookStatusDescription"}},[t._v("\n          "+t._s(this.$t("STATUS"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"approvedCount"}},[t._v("\n          "+t._s(this.$t("TASKS"))+"\n        ")])],1)],2),a("vs-pagination",{attrs:{total:t.workflowInstanceTableTotalPages,max:t.maxPaginationItems},model:{value:t.workflowInstanceTableCurrentPage,callback:function(e){t.workflowInstanceTableCurrentPage=e},expression:"workflowInstanceTableCurrentPage"}})],1)],1)},s=[],o=a("946b"),r=a("1cd9"),l=a("93b8"),c=a("b664"),i={mixins:[l["a"],c["a"]],props:{defaultWorkflowInstanceTableFilter:{type:String,default:null},defaultWorkflowInstanceTableOrderBy:{type:String,default:null}},data:function(){return{workflowInstanceTableData:[],workflowInstanceTableFilterTimer:null,workflowInstanceTableFilter:this.defaultWorkflowInstanceTableFilter,workflowInstanceTableOrderBy:this.defaultWorkflowInstanceTableOrderBy,workflowInstanceTableContainer:"loading-container",workflowInstanceTableBusy:!1,workflowInstanceTableTotalRows:0,workflowInstanceTableCurrentPage:1,workflowInstanceTablePerPage:10}},computed:{workflowInstanceTableNoDataText:function(){return this.workflowInstanceTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},workflowInstanceTableTotalPages:function(){return Math.ceil(this.workflowInstanceTableTotalRows/this.workflowInstanceTablePerPage)},workflowInstanceTablePagingInfo:function(){return this.pagingInfo(this.workflowInstanceTableCurrentPage,this.workflowInstanceTablePerPage,this.workflowInstanceTableTotalRows)}},methods:{loadWorkflowInstanceTableData:function(t){var e=this;this.workflowInstanceTableBusy=!0,this.workflowInstanceTableContainer=t||this.workflowInstanceTableContainer,this.startLoading(this.workflowInstanceTableContainer),r["a"].chequeBookWorkflowInstances({pageIndex:this.workflowInstanceTableCurrentPage-1,pageSize:this.workflowInstanceTablePerPage,filter:this.workflowInstanceTableFilter,orderByField:this.workflowInstanceTableOrderBy}).then(function(t){e.stopLoading(e.workflowInstanceTableContainer),e.workflowInstanceTableBusy=!1,e.workflowInstanceTableTotalRows=t.data.totalRows,e.workflowInstanceTableData=t.data.instanceList||[]}).catch(function(t){e.stopLoading(e.workflowInstanceTableContainer),e.workflowInstanceTableBusy=!1,e.$emit("show-alert","danger",t.response.data.errors)})},refreshWorkflowInstanceTable:function(){this.loadWorkflowInstanceTableData()},filterWorkflowInstanceTable:function(t){var e=this;this.workflowInstanceTableFilter!==t?(clearTimeout(this.workflowInstanceTableFilterTimer),this.workflowInstanceTableFilterTimer=setTimeout(function(){e.workflowInstanceTableFilter=t,e.loadWorkflowInstanceTableData()},"750")):clearTimeout(this.workflowInstanceTableFilterTimer)},orderWorkflowInstanceTable:function(t,e){this.workflowInstanceTableOrderBy=(e?"":"-")+t,this.loadWorkflowInstanceTableData()}},watch:{workflowInstanceTableCurrentPage:function(){this.refreshWorkflowInstanceTable()},workflowInstanceTablePerPage:function(){this.refreshWorkflowInstanceTable()}}},f=i,w={name:"cheque-book-workflow-instance-browse",mixins:[o["a"],f],mounted:function(){this.loadWorkflowInstanceTableData()}},u=w,d=a("2877"),b=Object(d["a"])(u,n,s,!1,null,null,null);e["default"]=b.exports},"946b":function(t,e,a){"use strict";var n={data:function(){return{alertActive:!1,alertMessage:this.$t("UNKNOWN_ERROR"),alertVariant:"danger"}},methods:{showAlert:function(t,e){this.alertMessage=e||this.$t("UNKNOWN_ERROR"),this.alertVariant=t,this.alertActive=!0},showSuccessAlert:function(t){this.showAlert("success",t)},showDangerAlert:function(t){this.showAlert("danger",t)},showWarningAlert:function(t){this.showAlert("warning",t)},showInfoAlert:function(t){this.showAlert("info",t)}}};e["a"]=n}}]);
//# sourceMappingURL=chunk-78091dde.74603719.js.map