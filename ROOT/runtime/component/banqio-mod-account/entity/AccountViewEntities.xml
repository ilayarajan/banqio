<?xml version="1.0" encoding="UTF-8"?>
<entities xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/entity-definition-2.1.xsd">

    <!-- Transaction -->
    <view-entity entity-name="TransactionTypeDetail" package="banqio.account">
        <member-entity entity-alias="transactionType" entity-name="banqio.account.TransactionType"/>
        <member-entity entity-alias="typeBehaviour" entity-name="moqui.basic.Enumeration" join-from-alias="transactionType">
            <key-map field-name="typeBehaviourEnumId"/>
        </member-entity>

        <alias-all entity-alias="transactionType"/>
        <alias name="typeBehaviourDescription" entity-alias="typeBehaviour" field="description"/>
    </view-entity>

    <!-- Account -->
    <view-entity entity-name="AccountDetail" package="banqio.account">
        <member-entity entity-alias="account" entity-name="banqio.account.Account"/>
        <member-entity entity-alias="app" entity-name="commons.server.App" join-from-alias="account">
            <key-map field-name="appId"/>
        </member-entity>
        <member-entity entity-alias="inputUser" entity-name="moqui.security.UserAccount" join-from-alias="account">
            <key-map field-name="inputUserId"/>
        </member-entity>
        <member-entity entity-alias="targetUser" entity-name="moqui.security.UserAccount" join-from-alias="account">
            <key-map field-name="targetUserId"/>
        </member-entity>
        <member-entity entity-alias="targetParty" entity-name="mantle.party.Party" join-from-alias="targetUser">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="targetPartyType" entity-name="moqui.basic.Enumeration" join-from-alias="targetParty">
            <key-map field-name="partyTypeEnumId"/>
        </member-entity>
        <member-entity entity-alias="targetPerson" entity-name="mantle.party.Person" join-from-alias="targetParty" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="targetOrganization" entity-name="mantle.party.Organization" join-from-alias="targetParty" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="status" entity-name="moqui.basic.StatusItem" join-from-alias="account">
            <key-map field-name="statusId"/>
        </member-entity>
        <member-entity entity-alias="accountType" entity-name="banqio.account.AccountType" join-from-alias="account">
            <key-map field-name="accountTypeId"/>
        </member-entity>
        <member-entity entity-alias="typeBehaviour" entity-name="moqui.basic.Enumeration" join-from-alias="accountType">
            <key-map field-name="typeBehaviourEnumId"/>
        </member-entity>
        <member-entity entity-alias="currency" entity-name="moqui.basic.Uom" join-from-alias="account">
            <key-map field-name="currencyUomId"/>
        </member-entity>

        <alias-all entity-alias="account"/>
        <alias name="appName" entity-alias="app" field="appName"/>
        <alias name="inputUsername" entity-alias="inputUser" field="username"/>
        <alias name="inputUserFullName" entity-alias="inputUser" field="userFullName"/>
        <alias name="inputEmailAddress" entity-alias="inputUser" field="emailAddress"/>
        <alias name="targetUsername" entity-alias="targetUser" field="username"/>
        <alias name="targetUserFullName" entity-alias="targetUser" field="userFullName"/>
        <alias name="targetEmailAddress" entity-alias="targetUser" field="emailAddress"/>
        <alias name="firstName" entity-alias="targetPerson" field="firstName"/>
        <alias name="middleName" entity-alias="targetPerson" field="middleName"/>
        <alias name="lastName" entity-alias="targetPerson" field="lastName"/>
        <alias name="organizationName" entity-alias="targetOrganization" field="organizationName"/>
        <alias name="targetPartyId" entity-alias="targetParty" field="partyId"/>
        <alias name="targetPartyTypeEnumId" entity-alias="targetParty" field="partyTypeEnumId"/>
        <alias name="targetPartyExternalId" entity-alias="targetParty" field="externalId"/>
        <alias name="targetPartyTypeDescription" entity-alias="targetPartyType" field="description"/>
        <alias name="statusDescription" entity-alias="status" field="description"/>
        <alias name="accountTypeName" entity-alias="accountType" field="typeName"/>
        <alias name="accountTypeExternalId" entity-alias="accountType" field="externalTypeId"/>
        <alias name="accountTypeBehaviourEnumId" entity-alias="accountType" field="typeBehaviourEnumId"/>
        <alias name="accountTypeBehaviourDescription" entity-alias="typeBehaviour" field="description"/>
        <alias name="currencyAbbreviation" entity-alias="currency" field="abbreviation"/>
        <alias name="currencyNumericCode" entity-alias="currency" field="numericCode"/>
        <alias name="currencyDescription" entity-alias="currency" field="description"/>
    </view-entity>
    <view-entity entity-name="AccountWorkflowInstance" package="banqio.account">
        <member-entity entity-alias="instance" entity-name="commons.workflow.WorkflowInstance"/>
        <member-entity entity-alias="instanceStatus" entity-name="moqui.basic.StatusItem" join-from-alias="instance">
            <key-map field-name="statusId"/>
        </member-entity>
        <member-entity entity-alias="actionType" entity-name="moqui.basic.Enumeration" join-from-alias="instance">
            <key-map field-name="actionTypeEnumId"/>
        </member-entity>
        <member-entity entity-alias="workflow" entity-name="commons.workflow.Workflow" join-from-alias="instance">
            <key-map field-name="workflowId"/>
        </member-entity>
        <member-entity entity-alias="workflowType" entity-name="commons.workflow.WorkflowType" join-from-alias="workflow">
            <key-map field-name="workflowTypeId"/>
        </member-entity>
        <member-entity entity-alias="account" entity-name="banqio.account.Account" join-from-alias="instance">
            <key-map field-name="primaryKeyValue" related="accountId"/>
        </member-entity>
        <member-entity entity-alias="accountType" entity-name="banqio.account.AccountType" join-from-alias="account">
            <key-map field-name="accountTypeId"/>
        </member-entity>
        <member-entity entity-alias="currency" entity-name="moqui.basic.Uom" join-from-alias="account">
            <key-map field-name="currencyUomId"/>
        </member-entity>
        <member-entity entity-alias="accountStatus" entity-name="moqui.basic.StatusItem" join-from-alias="account">
            <key-map field-name="statusId"/>
        </member-entity>
        <member-entity entity-alias="inputUser" entity-name="moqui.security.UserAccount" join-from-alias="instance" join-optional="true">
            <key-map field-name="inputUserId"/>
        </member-entity>

        <alias-all entity-alias="instance"/>
        <alias-all entity-alias="account">
            <exclude field="inputUserId"/>
            <exclude field="creationDate"/>
        </alias-all>
        <alias name="statusDescription" entity-alias="instanceStatus" field="description"/>
        <alias name="workflowTypeId" entity-alias="workflowType" field="typeId"/>
        <alias name="actionTypeDescription" entity-alias="actionType" field="description"/>
        <alias name="accountStatusId" entity-alias="accountStatus" field="statusId"/>
        <alias name="accountStatusDescription" entity-alias="accountStatus" field="description"/>
        <alias name="accountTypeId" entity-alias="accountType" field="typeId"/>
        <alias name="accountTypeName" entity-alias="accountType" field="typeName"/>
        <alias name="currencyAbbreviation" entity-alias="currency" field="abbreviation"/>
        <alias name="currencyNumericCode" entity-alias="currency" field="numericCode"/>
        <alias name="currencyDescription" entity-alias="currency" field="description"/>
        <alias name="inputUserFullName" entity-alias="inputUser" field="userFullName"/>

        <entity-condition>
            <econdition field-name="workflowTypeId" value="WF_ACCT"/>
        </entity-condition>
    </view-entity>
    <view-entity entity-name="AccountTypeDetail" package="banqio.account">
        <member-entity entity-alias="accountType" entity-name="banqio.account.AccountType"/>
        <member-entity entity-alias="typeBehaviour" entity-name="moqui.basic.Enumeration" join-from-alias="accountType">
            <key-map field-name="typeBehaviourEnumId"/>
        </member-entity>

        <alias-all entity-alias="accountType"/>
        <alias name="typeBehaviourDescription" entity-alias="typeBehaviour" field="description"/>
    </view-entity>
    <view-entity entity-name="AccountStatusDetail" package="banqio.account">
        <member-entity entity-alias="accountStatus" entity-name="banqio.account.AccountStatus"/>
        <member-entity entity-alias="statusBehaviour" entity-name="moqui.basic.Enumeration" join-from-alias="accountStatus">
            <key-map field-name="statusBehaviourEnumId"/>
        </member-entity>

        <alias-all entity-alias="accountStatus"/>
        <alias name="statusBehaviourDescription" entity-alias="statusBehaviour" field="description"/>
    </view-entity>
    <view-entity entity-name="SavingGoalDetail" package="banqio.account">
        <member-entity entity-alias="savingGoal" entity-name="banqio.account.SavingGoal"/>
        <member-entity entity-alias="app" entity-name="commons.server.App" join-from-alias="savingGoal">
            <key-map field-name="appId"/>
        </member-entity>
        <member-entity entity-alias="status" entity-name="moqui.basic.StatusItem" join-from-alias="savingGoal">
            <key-map field-name="statusId"/>
        </member-entity>
        <member-entity entity-alias="inputUser" entity-name="moqui.security.UserAccount" join-from-alias="savingGoal">
            <key-map field-name="inputUserId"/>
        </member-entity>

        <alias-all entity-alias="savingGoal"/>
        <alias name="appName" entity-alias="app" field="appName"/>
        <alias name="statusDescription" entity-alias="status" field="description"/>

        <entity-condition>
            <econditions>
                <econdition field-name="statusId" operator="not-equals" value="SAVE_GOAL_DELETED"/>
            </econditions>
        </entity-condition>
    </view-entity>

</entities>