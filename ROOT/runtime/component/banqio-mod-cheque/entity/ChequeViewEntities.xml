<?xml version="1.0" encoding="UTF-8"?>
<entities xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/entity-definition-2.1.xsd">

    <view-entity entity-name="ChequeTypeDetail" package="banqio.cheque">
        <member-entity entity-alias="chequeType" entity-name="banqio.cheque.ChequeType"/>
        <member-entity entity-alias="typeBehaviour" entity-name="moqui.basic.Enumeration" join-from-alias="chequeType">
            <key-map field-name="typeBehaviourEnumId"/>
        </member-entity>

        <alias-all entity-alias="chequeType"/>
        <alias name="typeBehaviourDescription" entity-alias="typeBehaviour" field="description"/>
    </view-entity>
    <view-entity entity-name="ChequeStatusDetail" package="banqio.cheque">
        <member-entity entity-alias="chequeStatus" entity-name="banqio.cheque.ChequeStatus"/>
        <member-entity entity-alias="statusBehaviour" entity-name="moqui.basic.Enumeration" join-from-alias="chequeStatus">
            <key-map field-name="statusBehaviourEnumId"/>
        </member-entity>

        <alias-all entity-alias="chequeStatus"/>
        <alias name="statusBehaviourDescription" entity-alias="statusBehaviour" field="description"/>
    </view-entity>
    <view-entity entity-name="ChequeBookDetail" package="banqio.cheque">
        <member-entity entity-alias="chequeBook" entity-name="banqio.cheque.ChequeBook"/>
        <member-entity entity-alias="deliveryBranch" entity-name="banqio.bank.Branch" join-from-alias="chequeBook" join-optional="true">
            <key-map field-name="deliveryBranchId"/>
        </member-entity>
        <member-entity entity-alias="app" entity-name="commons.server.App" join-from-alias="chequeBook">
            <key-map field-name="appId"/>
        </member-entity>
        <member-entity entity-alias="inputUser" entity-name="moqui.security.UserAccount" join-from-alias="chequeBook">
            <key-map field-name="inputUserId"/>
        </member-entity>
        <member-entity entity-alias="targetUser" entity-name="moqui.security.UserAccount" join-from-alias="chequeBook">
            <key-map field-name="targetUserId"/>
        </member-entity>
        <member-entity entity-alias="targetParty" entity-name="mantle.party.Party" join-from-alias="targetUser">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="targetPartyType" entity-name="moqui.basic.Enumeration" join-from-alias="targetParty">
            <key-map field-name="partyTypeEnumId"/>
        </member-entity>
        <member-entity entity-alias="targetPerson" entity-name="mantle.party.Person" join-from-alias="targetParty" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="targetOrganization" entity-name="mantle.party.Organization" join-from-alias="targetParty" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="status" entity-name="moqui.basic.StatusItem" join-from-alias="chequeBook">
            <key-map field-name="statusId"/>
        </member-entity>
        <member-entity entity-alias="deliveryMethod" entity-name="moqui.basic.Enumeration" join-from-alias="chequeBook" join-optional="true">
            <key-map field-name="deliveryMethodEnumId"/>
        </member-entity>
        
        <alias-all entity-alias="chequeBook"/>
        <alias name="deliveryBranchName" entity-alias="deliveryBranch" field="branchName"/>
        <alias name="appName" entity-alias="app" field="appName"/>
        <alias name="inputUsername" entity-alias="inputUser" field="username"/>
        <alias name="inputUserFullName" entity-alias="inputUser" field="userFullName"/>
        <alias name="inputEmailAddress" entity-alias="inputUser" field="emailAddress"/>
        <alias name="targetUsername" entity-alias="targetUser" field="username"/>
        <alias name="targetUserFullName" entity-alias="targetUser" field="userFullName"/>
        <alias name="targetEmailAddress" entity-alias="targetUser" field="emailAddress"/>
        <alias name="firstName" entity-alias="targetPerson" field="firstName"/>
        <alias name="middleName" entity-alias="targetPerson" field="middleName"/>
        <alias name="lastName" entity-alias="targetPerson" field="lastName"/>
        <alias name="organizationName" entity-alias="targetOrganization" field="organizationName"/>
        <alias name="targetPartyId" entity-alias="targetParty" field="partyId"/>
        <alias name="targetPartyTypeEnumId" entity-alias="targetParty" field="partyTypeEnumId"/>
        <alias name="targetPartyExternalId" entity-alias="targetParty" field="externalId"/>
        <alias name="targetPartyTypeDescription" entity-alias="targetPartyType" field="description"/>
        <alias name="statusDescription" entity-alias="status" field="description"/>
        <alias name="deliveryMethodDescription" entity-alias="deliveryMethod" field="description"/>
    </view-entity>
    <view-entity entity-name="ChequeBookWorkflowInstance" package="banqio.cheque">
        <member-entity entity-alias="instance" entity-name="commons.workflow.WorkflowInstance"/>
        <member-entity entity-alias="instanceStatus" entity-name="moqui.basic.StatusItem" join-from-alias="instance">
            <key-map field-name="statusId"/>
        </member-entity>
        <member-entity entity-alias="actionType" entity-name="moqui.basic.Enumeration" join-from-alias="instance">
            <key-map field-name="actionTypeEnumId"/>
        </member-entity>
        <member-entity entity-alias="workflow" entity-name="commons.workflow.Workflow" join-from-alias="instance">
            <key-map field-name="workflowId"/>
        </member-entity>
        <member-entity entity-alias="workflowType" entity-name="commons.workflow.WorkflowType" join-from-alias="workflow">
            <key-map field-name="workflowTypeId"/>
        </member-entity>
        <member-entity entity-alias="chequeBook" entity-name="banqio.cheque.ChequeBook" join-from-alias="instance">
            <key-map field-name="primaryKeyValue" related="bookId"/>
        </member-entity>
        <member-entity entity-alias="deliveryBranch" entity-name="banqio.bank.Branch" join-from-alias="chequeBook" join-optional="true">
            <key-map field-name="deliveryBranchId"/>
        </member-entity>
        <member-entity entity-alias="chequeBookStatus" entity-name="moqui.basic.StatusItem" join-from-alias="chequeBook">
            <key-map field-name="statusId"/>
        </member-entity>
        <member-entity entity-alias="inputUser" entity-name="moqui.security.UserAccount" join-from-alias="instance" join-optional="true">
            <key-map field-name="inputUserId"/>
        </member-entity>

        <alias-all entity-alias="instance"/>
        <alias-all entity-alias="chequeBook">
            <exclude field="inputUserId"/>
            <exclude field="creationDate"/>
        </alias-all>
        <alias name="deliveryBranchName" entity-alias="deliveryBranch" field="branchName"/>
        <alias name="statusDescription" entity-alias="instanceStatus" field="description"/>
        <alias name="workflowTypeId" entity-alias="workflowType" field="typeId"/>
        <alias name="actionTypeDescription" entity-alias="actionType" field="description"/>
        <alias name="bookStatusId" entity-alias="chequeBookStatus" field="statusId"/>
        <alias name="bookStatusDescription" entity-alias="chequeBookStatus" field="description"/>
        <alias name="inputUserFullName" entity-alias="inputUser" field="userFullName"/>

        <entity-condition>
            <econdition field-name="workflowTypeId" value="WF_CHQ"/>
        </entity-condition>
    </view-entity>

</entities>