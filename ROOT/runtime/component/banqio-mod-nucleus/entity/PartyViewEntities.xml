<?xml version="1.0" encoding="UTF-8"?>
<entities xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/entity-definition-2.1.xsd">

    <!-- Party -->
    <view-entity entity-name="PartyClassificationDetail" package="banqio.party">
        <member-entity entity-alias="partyClass" entity-name="mantle.party.PartyClassification"/>
        <member-entity entity-alias="classificationType" entity-name="moqui.basic.Enumeration" join-from-alias="partyClass">
            <key-map field-name="classificationTypeEnumId"/>
        </member-entity>
        <member-relationship entity-alias="parentClass" relationship="mantle.party.PartyClassification" join-from-alias="partyClass" join-optional="true"/>

        <alias-all entity-alias="partyClass"/>
        <alias name="classificationTypeDescription" entity-alias="classificationType" field="description"/>
        <alias name="parentClassificationDescription" entity-alias="parentClass" field="description"/>
    </view-entity>
    <view-entity entity-name="PartyClassificationApplDetail" package="banqio.party">
        <member-entity entity-alias="classAppl" entity-name="mantle.party.PartyClassificationAppl"/>
        <member-entity entity-alias="partyClass" entity-name="mantle.party.PartyClassification" join-from-alias="classAppl">
            <key-map field-name="partyClassificationId"/>
        </member-entity>
        <member-entity entity-alias="classificationType" entity-name="moqui.basic.Enumeration" join-from-alias="partyClass">
            <key-map field-name="classificationTypeEnumId"/>
        </member-entity>
        <member-relationship entity-alias="parentClass" relationship="mantle.party.PartyClassification" join-from-alias="partyClass" join-optional="true"/>

        <alias-all entity-alias="classAppl"/>
        <alias name="classificationDescription" entity-alias="partyClass" field="description"/>
        <alias name="classificationTypeEnumId" entity-alias="classificationType" field="enumId"/>
        <alias name="classificationTypeDescription" entity-alias="classificationType" field="description"/>
        <alias name="parentClassificationDescription" entity-alias="parentClass" field="description"/>
        <entity-condition>
            <date-filter/>
        </entity-condition>
    </view-entity>
    <view-entity entity-name="PartyDetailExt" package="banqio.party">
        <member-entity entity-alias="party" entity-name="mantle.party.Party"/>
        <member-entity entity-alias="partyType" entity-name="moqui.basic.Enumeration" join-from-alias="party">
            <key-map field-name="partyTypeEnumId"/>
        </member-entity>
        <member-entity entity-alias="person" entity-name="mantle.party.Person" join-from-alias="party" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="organization" entity-name="mantle.party.Organization" join-from-alias="party" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="maritalStatus" entity-name="moqui.basic.Enumeration" join-from-alias="person" join-optional="true">
            <key-map field-name="maritalStatusEnumId"/>
        </member-entity>
        <member-entity entity-alias="employmentStatus" entity-name="moqui.basic.Enumeration" join-from-alias="person" join-optional="true">
            <key-map field-name="employmentStatusEnumId"/>
        </member-entity>
        <member-entity entity-alias="residenceStatus" entity-name="moqui.basic.Enumeration" join-from-alias="person" join-optional="true">
            <key-map field-name="residenceStatusEnumId"/>
        </member-entity>

        <alias-all entity-alias="party">
            <exclude field="ownerPartyId"/>
            <exclude field="dataSourceId"/>
            <exclude field="gatewayCimId"/>
            <exclude field="shippingInstructions"/>
            <exclude field="hasDuplicates"/>
            <exclude field="lastDupCheckDate"/>
            <exclude field="mergedToPartyId"/>
        </alias-all>
        <alias-all entity-alias="person">
            <exclude field="partyId"/>
        </alias-all>
        <alias-all entity-alias="organization">
            <exclude field="partyId"/>
            <exclude field="officeSiteName"/>
        </alias-all>
        <alias name="lastUpdatedStamp" entity-alias="party" field="lastUpdatedStamp"/>
        <alias name="partyTypeDescription" entity-alias="partyType" field="description"/>
        <alias name="maritalStatusDescription" entity-alias="maritalStatus" field="description"/>
        <alias name="employmentStatusDescription" entity-alias="employmentStatus" field="description"/>
        <alias name="residenceStatusDescription" entity-alias="residenceStatus" field="description"/>
        
        <entity-condition>
            <econdition field-name="partyId" operator="not-equals" value="_NA_"/>
        </entity-condition>
    </view-entity>
    <view-entity entity-name="PartyIdentificationDetail" package="banqio.party">
        <member-entity entity-alias="identification" entity-name="mantle.party.PartyIdentification"/>
        <member-entity entity-alias="identificationType" entity-name="moqui.basic.Enumeration" join-from-alias="identification">
            <key-map field-name="partyIdTypeEnumId"/>
        </member-entity>
        <member-entity entity-alias="party" entity-name="mantle.party.Party" join-from-alias="identification" join-optional="true">
            <key-map field-name="issuedByPartyId"/>
        </member-entity>
        <member-entity entity-alias="person" entity-name="mantle.party.Person" join-from-alias="party" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="organization" entity-name="mantle.party.Organization" join-from-alias="party" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>

        <alias-all entity-alias="identification"/>
        <alias name="firstName" entity-alias="person" field="firstName"/>
        <alias name="middleName" entity-alias="person" field="middleName"/>
        <alias name="lastName" entity-alias="person" field="lastName"/>
        <alias name="organizationName" entity-alias="organization" field="organizationName"/>
        <alias name="identificationTypeDescription" entity-alias="identificationType" field="description"/>
    </view-entity>
    <view-entity entity-name="PartyContentDetail" package="banqio.party">
        <member-entity entity-alias="content" entity-name="mantle.party.PartyContent"/>
        <member-entity entity-alias="partyContentType" entity-name="moqui.basic.Enumeration" join-from-alias="content">
            <key-map field-name="partyContentTypeEnumId"/>
        </member-entity>
        <member-entity entity-alias="inputUser" entity-name="moqui.security.UserAccount" join-from-alias="content" join-optional="true">
            <key-map field-name="userId"/>
        </member-entity>

        <alias-all entity-alias="content"/>
        <alias name="partyContentTypeDescription" entity-alias="partyContentType" field="description"/>
        <alias name="inputUserFullName" entity-alias="inputUser" field="userFullName"/>
    </view-entity>
    <view-entity entity-name="PartyBadgeDetail" package="banqio.party">
        <member-entity entity-alias="badge" entity-name="mantle.party.PartyBadge"/>
        <member-entity entity-alias="party" entity-name="mantle.party.Party" join-from-alias="badge">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="organization" entity-name="mantle.party.Organization" join-from-alias="badge" join-optional="true">
            <key-map field-name="organizationPartyId" related="partyId"/>
        </member-entity>

        <alias-all entity-alias="badge"/>
        <alias name="organizationName" entity-alias="organization" field="organizationName"/>

        <entity-condition>
            <date-filter/>
        </entity-condition>
    </view-entity>
    <view-entity entity-name="PartyNoteDetail" package="banqio.party">
        <member-entity entity-alias="note" entity-name="mantle.party.PartyNote"/>
        <member-entity entity-alias="inputUser" entity-name="moqui.security.UserAccount" join-from-alias="note">
            <key-map field-name="userId"/>
        </member-entity>

        <alias-all entity-alias="note"/>
        <alias name="userFullName" entity-alias="inputUser" field="userFullName"/>
    </view-entity>
    <view-entity entity-name="PartyRelationshipDetail" package="banqio.party">
        <member-entity entity-alias="relationship" entity-name="mantle.party.PartyRelationship"/>
        <member-entity entity-alias="relationshipType" entity-name="moqui.basic.Enumeration" join-from-alias="relationship">
            <key-map field-name="relationshipTypeEnumId"/>
        </member-entity>
        <member-entity entity-alias="fromParty" entity-name="mantle.party.Party" join-from-alias="relationship">
            <key-map field-name="fromPartyId" related="partyId"/>
        </member-entity>
        <member-entity entity-alias="fromPerson" entity-name="mantle.party.Person" join-from-alias="fromParty" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="fromOrganization" entity-name="mantle.party.Organization" join-from-alias="fromParty" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="toParty" entity-name="mantle.party.Party" join-from-alias="relationship">
            <key-map field-name="toPartyId" related="partyId"/>
        </member-entity>
        <member-entity entity-alias="toPerson" entity-name="mantle.party.Person" join-from-alias="toParty" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="toOrganization" entity-name="mantle.party.Organization" join-from-alias="toParty" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>

        <alias-all entity-alias="relationship"/>
        <alias name="relationshipTypeDescription" entity-alias="relationshipType" field="description"/>
        <alias name="fromPartyExternalId" entity-alias="fromParty" field="externalId"/>
        <alias name="fromPartyFirstName" entity-alias="fromPerson" field="firstName"/>
        <alias name="fromPartyMiddleName" entity-alias="fromPerson" field="middleName"/>
        <alias name="fromPartyLastName" entity-alias="fromPerson" field="lastName"/>
        <alias name="fromPartyOrganizationName" entity-alias="fromOrganization" field="organizationName"/>
        <alias name="toPartyExternalId" entity-alias="toParty" field="externalId"/>
        <alias name="toPartyFirstName" entity-alias="toPerson" field="firstName"/>
        <alias name="toPartyMiddleName" entity-alias="toPerson" field="middleName"/>
        <alias name="toPartyLastName" entity-alias="toPerson" field="lastName"/>
        <alias name="toPartyOrganizationName" entity-alias="toOrganization" field="organizationName"/>

        <entity-condition>
            <date-filter/>
        </entity-condition>
    </view-entity>
    <view-entity entity-name="PartyRoleTypeDetail" package="banqio.party">
        <member-entity entity-alias="party" entity-name="mantle.party.Party"/>
        <member-entity entity-alias="partyType" entity-name="moqui.basic.Enumeration" join-from-alias="party">
            <key-map field-name="partyTypeEnumId"/>
        </member-entity>
        <member-entity entity-alias="person" entity-name="mantle.party.Person" join-from-alias="party" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="organization" entity-name="mantle.party.Organization" join-from-alias="party" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="maritalStatus" entity-name="moqui.basic.Enumeration" join-from-alias="person" join-optional="true">
            <key-map field-name="maritalStatusEnumId"/>
        </member-entity>
        <member-entity entity-alias="employmentStatus" entity-name="moqui.basic.Enumeration" join-from-alias="person" join-optional="true">
            <key-map field-name="employmentStatusEnumId"/>
        </member-entity>
        <member-entity entity-alias="residenceStatus" entity-name="moqui.basic.Enumeration" join-from-alias="person" join-optional="true">
            <key-map field-name="residenceStatusEnumId"/>
        </member-entity>
        <member-entity entity-alias="roleType" entity-name="mantle.party.PartyRole" join-from-alias="party">
            <key-map field-name="partyId"/>
        </member-entity>

        <alias-all entity-alias="party">
            <exclude field="ownerPartyId"/>
            <exclude field="dataSourceId"/>
            <exclude field="gatewayCimId"/>
            <exclude field="shippingInstructions"/>
            <exclude field="hasDuplicates"/>
            <exclude field="lastDupCheckDate"/>
            <exclude field="mergedToPartyId"/>
        </alias-all>
        <alias-all entity-alias="person">
            <exclude field="partyId"/>
        </alias-all>
        <alias-all entity-alias="organization">
            <exclude field="partyId"/>
            <exclude field="officeSiteName"/>
        </alias-all>
        <alias name="partyTypeDescription" entity-alias="partyType" field="description"/>
        <alias name="maritalStatusDescription" entity-alias="maritalStatus" field="description"/>
        <alias name="employmentStatusDescription" entity-alias="employmentStatus" field="description"/>
        <alias name="residenceStatusDescription" entity-alias="residenceStatus" field="description"/>
        <alias name="roleTypeId" entity-alias="roleType" field="roleTypeId"/>

        <entity-condition>
            <econdition field-name="partyId" operator="not-equals" value="_NA_"/>
        </entity-condition>
    </view-entity>

    <!-- Communication Event-->
    <view-entity entity-name="CommunicationEventDetail" package="banqio.party.communication">
        <member-entity entity-alias="communicationEvent" entity-name="mantle.party.communication.CommunicationEvent"/>
        <member-entity entity-alias="contactMechType" entity-name="moqui.basic.Enumeration" join-from-alias="communicationEvent" join-optional="true">
            <key-map field-name="contactMechTypeEnumId"/>
        </member-entity>
        <member-entity entity-alias="eventType" entity-name="mantle.party.communication.CommunicationEventType" join-from-alias="communicationEvent">
            <key-map field-name="communicationEventTypeId"/>
        </member-entity>
        <member-entity entity-alias="status" entity-name="moqui.basic.StatusItem" join-from-alias="communicationEvent" join-optional="true">
            <key-map field-name="statusId"/>
        </member-entity>
        <member-entity entity-alias="fromParty" entity-name="mantle.party.Party" join-from-alias="communicationEvent">
            <key-map field-name="fromPartyId"/>
        </member-entity>
        <member-entity entity-alias="fromPerson" entity-name="mantle.party.Person" join-from-alias="fromParty" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="fromOrganization" entity-name="mantle.party.Organization" join-from-alias="fromParty" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="toParty" entity-name="mantle.party.Party" join-from-alias="communicationEvent">
            <key-map field-name="toPartyId"/>
        </member-entity>
        <member-entity entity-alias="toPerson" entity-name="mantle.party.Person" join-from-alias="toParty" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="toOrganization" entity-name="mantle.party.Organization" join-from-alias="toParty" join-optional="true">
            <key-map field-name="partyId"/>
        </member-entity>
        <member-entity entity-alias="reason" entity-name="moqui.basic.Enumeration" join-from-alias="communicationEvent" join-optional="true">
            <key-map field-name="reasonEnumId"/>
        </member-entity>

        <alias-all entity-alias="communicationEvent">
            <exclude field="parentCommEventId"/>
            <exclude field="rootCommEventId"/>
            <exclude field="fromContactMechId"/>
            <exclude field="toContactMechId"/>
            <exclude field="fromRoleTypeId"/>
            <exclude field="toRoleTypeId"/>
            <exclude field="contentType"/>
            <exclude field="contactListId"/>
            <exclude field="emailMessageId"/>
        </alias-all>
        <alias name="communicationEventTypeDescription" entity-alias="eventType" field="description"/>
        <alias name="contactMechTypeDescription" entity-alias="contactMechType" field="description"/>
        <alias name="statusDescription" entity-alias="status" field="description"/>
        <alias name="typeDescription" entity-alias="eventType" field="description"/>
        <alias name="fromPartyFirstName" entity-alias="fromPerson" field="firstName"/>
        <alias name="fromPartyMiddleName" entity-alias="fromPerson" field="middleName"/>
        <alias name="fromPartyLastName" entity-alias="fromPerson" field="lastName"/>
        <alias name="fromPartyOrganizationName" entity-alias="fromOrganization" field="organizationName"/>
        <alias name="toPartyFirstName" entity-alias="toPerson" field="firstName"/>
        <alias name="toPartyMiddleName" entity-alias="toPerson" field="middleName"/>
        <alias name="toPartyLastName" entity-alias="toPerson" field="lastName"/>
        <alias name="toPartyOrganizationName" entity-alias="toOrganization" field="organizationName"/>
        <alias name="reasonDescription" entity-alias="reason" field="description"/>
        <alias name="reasonEnumId" entity-alias="reason" field="enumId"/>
    </view-entity>
    <view-entity entity-name="CommunicationEventContentDetail" package="banqio.party.communication">
        <member-entity entity-alias="communicationEventContent" entity-name="mantle.party.communication.CommunicationEventContent"/>
        <member-entity entity-alias="contentType" entity-name="moqui.basic.Enumeration" join-from-alias="communicationEventContent">
            <key-map field-name="contentTypeEnumId"/>
        </member-entity>
        <member-entity entity-alias="inputUser" entity-name="moqui.security.UserAccount" join-from-alias="communicationEventContent" join-optional="true">
            <key-map field-name="userId"/>
        </member-entity>

        <alias-all entity-alias="communicationEventContent"/>
        <alias name="contentTypeDescription" entity-alias="contentType" field="description"/>
        <alias name="inputUserFullName" entity-alias="inputUser" field="userFullName"/>
    </view-entity>

</entities>