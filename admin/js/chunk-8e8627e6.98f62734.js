(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e8627e6"],{"0d28":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"vs-con-loading__container",attrs:{id:"loading-container"}},[r("Report"+e.dataLayout,{key:Date.now(),tag:"component",attrs:{parent:this}})],1)},o=[],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nv-card",[r("vs-table",{staticClass:"mb-base",attrs:{data:e.parent.reportTableData,noDataText:e.parent.reportTableNoDataText,sst:!0,search:""},on:{search:e.parent.filterReportTable,sort:e.parent.orderReportTable},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.data;return e._l(a,function(t,o){return r("vs-tr",{key:o,attrs:{data:t}},[r("vs-td",{attrs:{data:a[o].reportName}},[e.$acl.check("isReportRun")?[r("router-link",{attrs:{to:{name:"RunReport",params:{id:a[o].reportId}}}},[e._v(e._s(a[o].reportName))])]:[e._v("\n            "+e._s(a[o].reportName)+"\n          ")]],2),r("vs-td",{attrs:{data:a[o].categoryName}},[e._v("\n          "+e._s(e._f("placeholder")(a[o].categoryName,"-"))+"\n        ")])],1)})}}])},[r("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[r("div",{staticClass:"flex flex-wrap-reverse items-center"},[r("vs-button",{staticClass:"p-3",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:e.parent.reportTableBusy},on:{click:e.parent.refreshReportTable}},[e._v(e._s(e.$t("REFRESH")))])],1),r("div",{staticClass:"flex justify-end mr-4"},[r("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[r("span",{staticClass:"mx-2"},[e._v(e._s(e.parent.reportTablePagingInfo))]),r("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[r("span",{staticClass:"far fa-angle-down text-primary"}),r("vs-dropdown-menu",e._l(e.parent.tablePageOptions,function(t,a){return r("vs-dropdown-item",{key:a,on:{click:function(r){e.parent.reportTablePerPage=t}}},[r("span",[e._v(e._s(t))])])}),1)],1)],1)])]),r("template",{slot:"thead"},[r("vs-th",{attrs:{"sort-key":"reportName"}},[e._v("\n        "+e._s(this.$t("REPORT_NAME"))+"\n      ")]),r("vs-th",{attrs:{"sort-key":"categoryName"}},[e._v("\n        "+e._s(this.$t("CATEGORY"))+"\n      ")])],1)],2),r("vs-pagination",{attrs:{total:e.parent.reportTableTotalPages,max:e.parent.maxPaginationItems},model:{value:e.parent.reportTableCurrentPage,callback:function(t){e.$set(e.parent,"reportTableCurrentPage",t)},expression:"parent.reportTableCurrentPage"}})],1)},s=[],i={methods:{negativeNumberStyle:function(e){return 0===e?"":e<0?"text-danger":"text-success"},positiveNumberStyle:function(e){return 0===e?"":e>0?"text-danger":"text-success"}}},p=i,l={name:"report-list-layout",mixins:[p],props:{parent:{type:Object,required:!0}}},c=l,u=r("2877"),d=Object(u["a"])(c,n,s,!1,null,null,null),b=d.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("nv-card",{staticClass:"mb-base"},[r("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between"},[r("div",{staticClass:"flex flex-wrap-reverse items-center"},[r("vs-button",{staticClass:"p-3",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:e.parent.reportTableBusy},on:{click:e.parent.refreshReportTable}},[e._v(e._s(e.$t("REFRESH")))])],1),r("div",{staticClass:"flex justify-end"},[r("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[r("span",{staticClass:"mx-2"},[e._v(e._s(e.parent.reportTablePagingInfo))])])])])]),e._l(e.reportCategories,function(t,a){return r("div",{key:a,staticClass:"nv-row"},[r("div",{staticClass:"nv-col w-full mb-base"},[r("h3",[e._v(e._s(a))])]),e._l(t,function(t,a){return r("div",{key:a,staticClass:"nv-col w-full sm:w-1/2"},[r("nv-card",{staticClass:"mb-base"},[r("div",{staticClass:"mb-4"},[r("h4",[t.iconClass?r("i",{class:[t.iconClass,"mr-1"]}):e._e(),e._v(" "+e._s(e._f("placeholder")(t.reportName,"-")))])]),r("div",[t.browseNotes?r("div",{staticClass:"nv-row mb-4"},[r("div",{staticClass:"nv-col w-full"},[r("div",{staticClass:"text-grey-dark"},[e._v(e._s(t.browseNotes))])])]):e._e()]),r("vs-divider"),r("div",{staticClass:"flex justify-end"},[e.$acl.check("isReportRun")?r("vs-button",{staticClass:"p-3 ml-4",attrs:{type:"filled",iconPack:"far",icon:"fa-play"},on:{click:function(r){return e.reportRun(t.reportId)}}},[e._v(e._s(e.$t("RUN")))]):e._e()],1)],1)],1)})],2)}),r("vs-pagination",{attrs:{total:e.parent.reportTableTotalPages,max:e.parent.maxPaginationItems},model:{value:e.parent.reportTableCurrentPage,callback:function(t){e.$set(e.parent,"reportTableCurrentPage",t)},expression:"parent.reportTableCurrentPage"}})],2)},T=[],m={name:"report-card-layout",mixins:[p],props:{parent:{type:Object,required:!0}},methods:{reportRun:function(e){this.$router.push({name:"RunReport",params:{id:e}})}},computed:{reportCategories:function(){for(var e={},t=0;t<this.parent.reportTableData.length;t++){var r=this.parent.reportTableData[t].categoryName;e.hasOwnProperty(r)?e[r].push(this.parent.reportTableData[t]):e[r]=[this.parent.reportTableData[t]]}return e}}},h=m,v=Object(u["a"])(h,f,T,!1,null,null,null),g=v.exports,y=r("4013"),R=r("93b8"),C=r("b664"),_={mixins:[R["a"],C["a"]],props:{defaultReportTableFilter:{type:String,default:null},defaultReportTableOrderBy:{type:String,default:null},runnableOnly:{type:Boolean,default:!1},disabled:{type:String,default:null}},data:function(){return{reportTableData:[],reportTableFilterTimer:null,reportTableFilter:this.defaultReportTableFilter,reportTableOrderBy:this.defaultReportTableOrderBy,reportTableContainer:"loading-container",reportTableBusy:!1,reportTableTotalRows:0,reportTableCurrentPage:1,reportTablePerPage:10}},computed:{reportTableNoDataText:function(){return this.reportTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},reportTableTotalPages:function(){return Math.ceil(this.reportTableTotalRows/this.reportTablePerPage)},reportTablePagingInfo:function(){return this.pagingInfo(this.reportTableCurrentPage,this.reportTablePerPage,this.reportTableTotalRows)}},methods:{loadReportTableData:function(e){var t=this;this.reportTableBusy=!0,this.reportTableContainer=e||this.reportTableContainer,this.startLoading(this.reportTableContainer),y["a"].reportApps({pageIndex:this.reportTableCurrentPage-1,pageSize:this.reportTablePerPage,filter:this.reportTableFilter,orderByField:this.reportTableOrderBy,appId:this.$store.getters.appId,runnableOnly:this.runnableOnly,disabled:this.disabled}).then(function(e){t.stopLoading(t.reportTableContainer),t.reportTableBusy=!1,t.reportTableTotalRows=e.data.totalRows,t.reportTableData=e.data.reportAppList||[]}).catch(function(e){t.stopLoading(t.reportTableContainer),t.reportTableBusy=!1,t.$emit("show-alert","danger",e.response.data.errors)})},refreshReportTable:function(){this.loadReportTableData()},filterReportTable:function(e){var t=this;this.reportTableFilter!==e?(clearTimeout(this.reportTableFilterTimer),this.reportTableFilterTimer=setTimeout(function(){t.reportTableFilter=e,t.loadReportTableData()},"750")):clearTimeout(this.reportTableFilterTimer)},orderReportTable:function(e,t){this.reportTableOrderBy=(t?"":"-")+e,this.loadReportTableData()}},watch:{reportTableCurrentPage:function(){this.refreshReportTable()},reportTablePerPage:function(){this.refreshReportTable()}}},w=_,x={name:"report-browse",mixins:[w],data:function(){return{dataLayout:"ListLayout"}},components:{ReportListLayout:b,ReportCardLayout:g},mounted:function(){this.loadReportTableData("loading-container",!0)},created:function(){var e=this;this.$eventHub.$on("toolClicked",function(t){e.dataLayout=t})},beforeDestroy:function(){var e=this;this.$eventHub.$off("toolClicked",function(t){e.dataLayout=t})}},P=x,O=Object(u["a"])(P,a,o,!1,null,null,null);t["default"]=O.exports},4013:function(e,t,r){"use strict";var a=r("36ad");t["a"]={reports:function(e){return Object(a["a"])().get("/s1/report/report",{params:e})},createReport:function(e){return Object(a["a"])().post("/s1/report/report",e)},modifyReport:function(e){return Object(a["a"])().patch("/s1/report/report",e)},reportParameters:function(e){return Object(a["a"])().get("/s1/report/report/".concat(e.reportId,"/parameter"),{params:e})},createReportParameter:function(e){return Object(a["a"])().post("/s1/report/report/".concat(e.reportId,"/parameter"),e)},modifyReportParameter:function(e){return Object(a["a"])().patch("/s1/report/report/".concat(e.reportId,"/parameter"),e)},reportPrices:function(e){return Object(a["a"])().get("/s1/report/report/".concat(e.reportId,"/price"),{params:e})},createReportPrice:function(e){return Object(a["a"])().post("/s1/report/report/".concat(e.reportId,"/price"),e)},modifyReportPrice:function(e){return Object(a["a"])().patch("/s1/report/report/".concat(e.reportId,"/price"),e)},expireReportPrice:function(e){return Object(a["a"])().delete("/s1/report/report/".concat(e.reportId,"/price"),{params:e})},reportApps:function(e){return Object(a["a"])().get("/s1/report/report/app",{params:e})},createReportApp:function(e){return Object(a["a"])().post("/s1/report/report/app",e)},deleteReportApp:function(e){return Object(a["a"])().delete("/s1/report/report/app",{params:e})},runReport:function(e){return Object(a["a"])().post("/s1/report/report/".concat(e.reportId,"/run"),e)},reportWorkflowInstances:function(e){return Object(a["a"])().get("/s1/report/report/workflow/instance",{params:e})}}}}]);
//# sourceMappingURL=chunk-8e8627e6.98f62734.js.map