(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c0857"],{"41ae":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"loading-container"}},[a("nv-card",[a("vs-table",{staticClass:"mb-base",attrs:{data:e.agreementTableData,noDataText:e.agreementTableNoDataText,sst:!0,search:""},on:{search:e.filterAgreementTable,sort:e.orderAgreementTable},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data;return e._l(r,function(t,n){return a("vs-tr",{key:n,attrs:{data:t}},[a("vs-td",{attrs:{data:r[n].agreementId}},[a("router-link",{attrs:{to:{name:"ViewAgreement",params:{id:r[n].agreementId}}}},[e._v(e._s(r[n].agreementId))])],1),a("vs-td",{attrs:{data:r[n].customerName}},[a("span",{class:e.disabledClass(r[n])},[e._v(e._s(r[n].customerName))])]),a("vs-td",{attrs:{data:r[n].type}},[e._v("\n            "+e._s(r[n].type)+"\n          ")]),a("vs-td",{attrs:{data:r[n].frequency}},[e._v("\n            "+e._s(r[n].frequency)+"\n          ")]),a("vs-td",{attrs:{data:r[n].fromDate}},[e._v("\n            "+e._s(r[n].fromDate)+"\n          ")]),a("vs-td",{attrs:{data:r[n].toDate}},[e._v("\n            "+e._s(r[n].toDate)+"\n          ")]),a("vs-td",{attrs:{data:r[n].lastRunDate}},[e._v("\n            "+e._s(r[n].lastRunDate)+"\n          ")])],1)})}}])},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-end",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex justify-end mr-4"},[a("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[a("span",{staticClass:"mx-2"},[e._v(e._s(e.agreementTablePagingInfo))]),a("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[a("span",{staticClass:"far fa-angle-down text-primary"}),a("vs-dropdown-menu",e._l(e.tablePageOptions,function(t,r){return a("vs-dropdown-item",{key:r,on:{click:function(a){e.agreementTablePerPage=t}}},[a("span",[e._v(e._s(t))])])}),1)],1)],1)])]),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"agreementId"}},[e._v("\n          "+e._s(this.$t("ID"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"customerId"}},[e._v("\n          "+e._s(this.$t("CUSTOMER_ID"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"type"}},[e._v("\n          "+e._s(this.$t("TYPE"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"frequency"}},[e._v("\n          "+e._s(this.$t("FREQUENCY"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"fromDate"}},[e._v("\n          "+e._s(this.$t("FROM_DATE"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"toDate"}},[e._v("\n          "+e._s(this.$t("TO_DATE"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"lastRunDate"}},[e._v("\n          "+e._s(this.$t("LAST_RUN_DATE"))+"\n        ")])],1)],2),a("vs-pagination",{attrs:{total:e.agreementTableTotalPages,max:e.maxPaginationItems},model:{value:e.agreementTableCurrentPage,callback:function(t){e.agreementTableCurrentPage=t},expression:"agreementTableCurrentPage"}})],1)],1)},n=[],s=a("36ad"),l={agreements:function(e){return Object(s["a"])().get("/s1/sweep/agreement",{params:e})},secondaryAccounts:function(e){return Object(s["a"])().get("/s1/sweep/agreement/".concat(e.agreementId,"/secondaryAccount"),{params:e})},runs:function(e){return Object(s["a"])().get("/s1/sweep/agreement/".concat(e.agreementId,"/run"),{params:e})}},i=a("93b8"),o=a("b664"),g={mixins:[i["a"],o["a"]],props:{defaultAgreementTableFilter:{type:String,default:null},defaultAgreementTableOrderBy:{type:String,default:null}},data:function(){return{agreementTableData:[],agreementTableFilterTimer:null,agreementTableFilter:this.defaultAgreementTableFilter,agreementTableOrderBy:this.defaultAgreementTableOrderBy,agreementTableContainer:"loading-container",agreementTableBusy:!1,agreementTableTotalRows:0,agreementTableCurrentPage:1,agreementTablePerPage:10}},computed:{agreementTableNoDataText:function(){return this.agreementTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},agreementTableTotalPages:function(){return Math.ceil(this.agreementTableTotalRows/this.agreementTablePerPage)},agreementTablePagingInfo:function(){return this.pagingInfo(this.agreementTableCurrentPage,this.agreementTablePerPage,this.agreementTableTotalRows)}},methods:{loadAgreementTableData:function(e){var t=this;this.agreementTableBusy=!0,this.agreementTableContainer=e||this.agreementTableContainer,this.startLoading(this.agreementTableContainer),l.agreementes({pageIndex:this.agreementTableCurrentPage-1,pageSize:this.agreementTablePerPage,filter:this.agreementTableFilter,orderByField:this.agreementTableOrderBy}).then(function(e){t.stopLoading(t.agreementTableContainer),t.agreementTableBusy=!1,t.agreementTableTotalRows=e.data.totalRows,t.agreementTableData=e.data.agreementList||[]}).catch(function(e){t.stopLoading(t.agreementTableContainer),t.agreementTableBusy=!1,t.$emit("show-alert","danger",e.response.data.errors)})},refreshAgreementTable:function(){this.loadAgreementTableData()},filterAgreementTable:function(e){var t=this;this.agreementTableFilter!==e?(clearTimeout(this.agreementTableFilterTimer),this.agreementTableFilterTimer=setTimeout(function(){t.agreementTableFilter=e,t.loadAgreementTableData()},"750")):clearTimeout(this.agreementTableFilterTimer)},orderAgreementTable:function(e,t){this.agreementTableOrderBy=(t?"":"-")+e,this.loadAgreementTableData()}},watch:{agreementTableCurrentPage:function(){this.refreshAgreementTable()},agreementTablePerPage:function(){this.refreshAgreementTable()}}},m=g,d={name:"agreement-browse",mixins:[m]},u=d,T=a("2877"),b=Object(T["a"])(u,r,n,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0c0857.220525b0.js.map