(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cab03226"],{6205:function(e,t,a){"use strict";var s=a("19e6"),r=a("9a2e"),l=a("93b8"),o=a("b664"),i={mixins:[r["a"],l["a"],o["a"]],props:{defaultUserTableFilter:{class:String,default:null},defaultUserTableOrderBy:{type:String,default:null},disabled:{type:String,default:null}},data:function(){return{userData:[],userTableData:[],userTableFilterTimer:null,userTableFilter:this.defaultUserTableFilter,userTableOrderBy:this.defaultUserTableOrderBy,userTableContainer:"loading-container",userTableBusy:!1,userTableTotalRows:0,userTableCurrentPage:1,userTablePerPage:10}},computed:{userTableNoDataText:function(){return this.userTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},userTableTotalPages:function(){return Math.ceil(this.userTableTotalRows/this.userTablePerPage)},userTablePagingInfo:function(){return this.pagingInfo(this.userTableCurrentPage,this.userTablePerPage,this.userTableTotalRows)}},methods:{loadUserTableData:function(e){var t=this;this.userTableBusy=!0,this.userTableContainer=e||this.userTableContainer,this.startLoading(this.userTableContainer),s["a"].users({pageIndex:this.userTableCurrentPage-1,pageSize:this.userTablePerPage,filter:this.userTableFilter,orderByField:this.userTableOrderBy,disabled:this.disabled}).then(function(e){t.stopLoading(t.userTableContainer),t.userTableBusy=!1,t.userTableTotalRows=e.data.totalRows,t.userTableData=e.data.userList||[]}).catch(function(e){t.stopLoading(t.userTableContainer),t.userTableBusy=!1,t.$emit("show-alert","danger",e.response.data.errors)})},refreshUserTable:function(){this.loadUserTableData()},filterUserTable:function(e){var t=this;this.userTableFilter!==e?(clearTimeout(this.userTableFilterTimer),this.userTableFilterTimer=setTimeout(function(){t.userTableFilter=e,t.loadUserTableData()},"750")):clearTimeout(this.userTableFilterTimer)},orderUserTable:function(e,t){this.userTableOrderBy=(t?"":"-")+e,this.loadUserTableData()}},watch:{userTableCurrentPage:function(){this.refreshUserTable()},userTablePerPage:function(){this.refreshUserTable()}}};t["a"]=i},"96b8":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("user-popup",{attrs:{title:e.title,popupRef:e.popupRef,active:e.popupActive,defaultUserTableFilter:e.defaultTableFilter,disabled:e.disabled},on:{"select-row":e.selectRow,close:function(t){e.popupActive=!1}}}),a("vue-simple-suggest",{ref:e.suggestRef,attrs:{list:e.getList,debounce:200,"nullable-select":!0,"value-attribute":e.valueField,"display-attribute":e.displayField},on:{select:e.selectSuggestion},scopedSlots:e._u([{key:"misc-item-above",fn:function(t){var s=t.suggestions,r=t.query;return[a("div",{staticClass:"misc-item"},[a("span",[e._v(e._s(e.$t("SEARCHING_FOR"))+" '"+e._s(r)+"'.")])]),s.length>0?[a("div",{staticClass:"misc-item"},[a("span",[e._v(e._s(s.length)+" "+e._s(e.$t("RESULTS_FOUND"))+" ...")])]),a("hr")]:e.loading?e._e():a("div",{staticClass:"misc-item"},[a("span",[e._v(e._s(e.$t("NO_RESULTS_FOUND")))])])]}},{key:"suggestion-item",fn:function(t){return a("div",{attrs:{title:t.suggestion.description}},[a("div",{staticClass:"text"},[a("span",{domProps:{innerHTML:e._s(e.boldenSuggestion(t))}})])])}},{key:"misc-item-below",fn:function(t){var s=t.suggestions;return e.loading?a("div",{staticClass:"misc-item"},[a("span",[e._v(e._s(e.$t("LOADING"))+" ...")]),e._v("\n      "+e._s(s)+"\n    ")]):e._e()}}],null,!0),model:{value:e.mutableRecordDisplay,callback:function(t){e.mutableRecordDisplay=t},expression:"mutableRecordDisplay"}},[a("div",{staticClass:"g"},[a("nv-input-group",[a("vs-input",{staticClass:"w-full lookup-input",model:{value:e.mutableRecordDisplay,callback:function(t){e.mutableRecordDisplay=t},expression:"mutableRecordDisplay"}}),a("template",{slot:"append"},[a("div",{staticClass:"append-text btn-addon"},[a("vs-button",{attrs:{disabled:!e.mutableRecordDisplay,color:"primary"},on:{click:e.clear}},[a("i",{staticClass:"far fa-eraser"})]),a("vs-button",{attrs:{color:"primary"},on:{click:function(t){e.popupActive=!0}}},[a("i",{staticClass:"far fa-search"})])],1)])],2)],1)])],1)},r=[],l=a("e229"),o=a.n(l),i=a("d5c2"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vs-popup",{attrs:{fullscreen:"",title:e.title,active:e.activeInternal},on:{"update:active":function(t){e.activeInternal=t}}},[a("div",{ref:e.popupRef,staticClass:"vs-con-loading__container"},[a("vs-table",{staticClass:"mb-base",attrs:{data:e.userTableData,noDataText:e.userTableNoDataText,sst:!0,search:""},on:{search:e.filterUserTable,sort:e.orderUserTable,selected:e.selectRow},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.data;return e._l(s,function(t,r){return a("vs-tr",{key:r,attrs:{data:t}},[a("vs-td",{attrs:{data:s[r].userId}},[e._v("\n            "+e._s(s[r].userId)+"\n          ")]),a("vs-td",{attrs:{data:s[r].userFullName}},[a("span",{class:e.disabledClass(s[r])},[e._v(e._s(e._f("placeholder")(s[r].userFullName,"-")))])]),a("vs-td",{attrs:{data:s[r].username}},[e._v("\n            "+e._s(s[r].username)+"\n          ")])],1)})}}])},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex flex-wrap-reverse items-center"},[a("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:e.userTableBusy},on:{click:function(t){return e.loadUserTableData(e.popupRef)}}},[e._v(e._s(e.$t("REFRESH")))])],1),a("div",{staticClass:"flex justify-end mr-4"},[a("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[a("span",{staticClass:"mx-2"},[e._v(e._s(e.userTablePagingInfo))]),a("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[a("span",{staticClass:"far fa-angle-down text-primary"}),a("vs-dropdown-menu",e._l(e.tablePageOptions,function(t,s){return a("vs-dropdown-item",{key:s,on:{click:function(a){e.userTablePerPage=t}}},[a("span",[e._v(e._s(t))])])}),1)],1)],1)])]),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"userId"}},[e._v("\n          "+e._s(this.$t("ID"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"userFullName"}},[e._v("\n          "+e._s(this.$t("USER_FULL_NAME"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"username"}},[e._v("\n          "+e._s(this.$t("USERNAME"))+"\n        ")])],1)],2),a("vs-pagination",{attrs:{total:e.userTableTotalPages,max:e.maxPaginationItems},model:{value:e.userTableCurrentPage,callback:function(t){e.userTableCurrentPage=t},expression:"userTableCurrentPage"}})],1)])},u=[],c=a("89b6"),d=a("6205"),p={name:"user-popup",mixins:[c["a"],d["a"]],mounted:function(){this.loadUserTableData(this.popupRef)},beforeDestroy:function(){this.$el.remove()}},f=p,b=a("2877"),T=Object(b["a"])(f,n,u,!1,null,null,null),m=T.exports,v=a("19e6"),h={name:"user-lookup",mixins:[i["a"]],components:{VueSimpleSuggest:o.a,UserPopup:m},props:{disabled:{type:String,default:null}},methods:{getList:function(e){var t=this,a=this;return a.loading=!0,new Promise(function(s,r){return v["a"].users({pageIndex:0,pageSize:10,orderByField:"userFullName",filter:e,disabled:t.disabled}).then(function(e){a.loading=!1;var t=e.data.userList||[];s(t)}).catch(function(e){a.loading=!1,r(e)})})}}},w=h,_=Object(b["a"])(w,s,r,!1,null,null,null);t["a"]=_.exports},ba8b:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.alertActive?a("div",{staticClass:"alert-container"},[a("vs-alert",{staticClass:"mb-5",attrs:{active:e.alertActive,color:e.alertVariant,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(t){e.alertActive=t}}},[a("p",[e._v(e._s(e.alertMessage))])])],1):e._e(),a("nv-card",[a("div",{staticClass:"flex flex-wrap-reverse items-center mb-base"},[a("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-chevron-left","icon-pack":"far"},on:{click:e.cancel}},[e._v(e._s(e.$t("BACK")))]),e.$acl.check("isNucleusAll")?a("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-pen","icon-pack":"far"},on:{click:e.modify}},[e._v(e._s(e.$t("MODIFY")))]):e._e()],1),a("div",{staticClass:"row hover mb-base"},[a("p",{staticClass:"info-row"},[a("span",[e._v(e._s(e.$t("ID"))+":")]),a("span",[e._v(e._s(e.userGroup.userGroupId))])]),a("p",{staticClass:"info-row"},[a("span",[e._v(e._s(e.$t("GROUP_NAME"))+":")]),a("span",[e._v(e._s(e._f("placeholder")(e.userGroup.description,"-")))])]),a("p",{staticClass:"info-row"},[a("span",[e._v(e._s(e.$t("TYPE"))+":")]),a("span",[e._v(e._s(e._f("placeholder")(e.userGroup.groupTypeDescription,"-")))])]),e.userGroup.ipAllowed?a("p",{staticClass:"info-row"},[a("span",[e._v(e._s(e.$t("IPS_ALLOWED"))+":")]),a("span",[e._v(e._s(e._f("placeholder")(e.userGroup.ipAllowed,"-")))])]):e._e()]),e.userGroup.wiki?a("div",{staticClass:"code-editor p-4 mb-base"},[a("markdown-it-vue",{attrs:{content:e.userGroup.wiki}})],1):e._e(),a("vs-tabs",[a("vs-tab",{attrs:{label:e.$t("MEMBERS")}},[a("user-group-member",{attrs:{userGroupId:e.userGroupId},on:{"show-alert":e.showAlert}})],1),a("vs-tab",{attrs:{label:e.$t("ACL")}},[a("user-group-acl",{attrs:{userGroupId:e.userGroupId},on:{"show-alert":e.showAlert}})],1),a("vs-tab",{attrs:{label:e.$t("WORKFLOW")}},[a("user-group-workflow",{attrs:{userGroupId:e.userGroupId},on:{"show-alert":e.showAlert}})],1)],1)],1)],1)},r=[],l=a("a34a"),o=a.n(l),i=a("946b"),n=a("19e6"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"user-loading-container"}},[e.userFormVisible?a("div",{staticClass:"inline-form p-4 mb-base"},[a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col w-full required"},[a("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("USER")))]),a("user-lookup",{attrs:{title:e.$t("USER"),valueField:"userId",displayField:"userFullName"},on:{"select-record":e.selectUserRecord}})],1)]),a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col sm:w-1/2 w-full"},[a("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("FROM_DATE")))]),a("nv-input-group",[a("template",{slot:"append"},[a("div",{staticClass:"append-text bg-dark"},[a("i",{staticClass:"far fa-calendar-alt"})])]),a("datepicker",{staticClass:"w-full",attrs:{placeholder:e.$t("SELECT_DATE"),format:e.dateFormat},model:{value:e.fromDate,callback:function(t){e.fromDate=t},expression:"fromDate"}})],2)],1),a("div",{staticClass:"nv-col sm:w-1/2 w-full"},[a("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("TO_DATE")))]),a("nv-input-group",[a("template",{slot:"append"},[a("div",{staticClass:"append-text bg-dark"},[a("i",{staticClass:"far fa-calendar-alt"})])]),a("datepicker",{staticClass:"w-full",attrs:{placeholder:e.$t("SELECT_DATE"),format:e.dateFormat},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],2)],1)]),a("div",{staticClass:"nv-row"},[a("div",{staticClass:"nv-col sm:w-1/2 w-full"},[a("div",{staticClass:"flex justify-left"},[a("vs-button",{staticClass:"px-5 py-3 mr-2",attrs:{color:"primary",type:"filled"},on:{click:e.createUserGroupMember}},[e._v(e._s(e.$t("SUBMIT")))]),a("vs-button",{staticClass:"px-5 py-3 mr-2",attrs:{color:"primary",type:"border"},on:{click:e.hideUserForm}},[e._v(e._s(e.$t("CANCEL")))])],1)])])]):e._e(),a("vs-table",{staticClass:"mb-base",attrs:{data:e.userTableData,noDataText:e.userTableNoDataText,sst:!0,search:""},on:{search:e.filterUserTable,sort:e.orderUserTable},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.data;return e._l(s,function(t,r){return a("vs-tr",{key:r,attrs:{data:t}},[a("vs-td",{attrs:{data:s[r].userId}},[a("router-link",{attrs:{to:{name:"ViewUser",params:{id:s[r].userId}}}},[e._v(e._s(s[r].userId))])],1),a("vs-td",{attrs:{data:s[r].userFullName}},[e._v("\n          "+e._s(s[r].userFullName)+"\n        ")]),a("vs-td",{attrs:{data:s[r].username}},[e._v("\n          "+e._s(s[r].username)+"\n        ")]),a("vs-td",{attrs:{data:s[r].fromDate}},[e._v("\n          "+e._s(e._f("formatUnixDate")(s[r].fromDate))+"\n        ")]),a("vs-td",{attrs:{data:s[r].thruDate}},[e._v("\n          "+e._s(e._f("formatUnixDate")(s[r].thruDate))+"\n        ")]),e.$acl.check("isNucleusAll")?a("vs-td",{attrs:{data:s[r].options}},[a("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"danger"},on:{click:function(t){return e.expireUserGroupMember(s[r])}}},[e._v(e._s(e.$t("EXPIRE")))])],1):e._e()],1)})}}])},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex flex-wrap-reverse items-center"},[e.$acl.check("isNucleusAll")?a("vs-button",{staticClass:"p-3 mr-4",attrs:{disabled:e.userFormVisible,color:"primary",type:"filled",icon:"fa-plus","icon-pack":"far"},on:{click:e.showUserForm}},[e._v(e._s(e.$t("ADD")))]):e._e(),a("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:e.userTableBusy},on:{click:e.refreshUserTable}},[e._v(e._s(e.$t("REFRESH")))])],1),a("div",{staticClass:"flex justify-end mr-4"},[a("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[a("span",{staticClass:"mx-2"},[e._v(e._s(e.userTablePagingInfo))]),a("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[a("span",{staticClass:"far fa-angle-down text-primary"}),a("vs-dropdown-menu",e._l(e.tablePageOptions,function(t,s){return a("vs-dropdown-item",{key:s,on:{click:function(a){e.userTablePerPage=t}}},[a("span",[e._v(e._s(t))])])}),1)],1)],1)])]),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"userId"}},[e._v("\n        "+e._s(this.$t("ID"))+"\n      ")]),a("vs-th",{attrs:{"sort-key":"userFullName"}},[e._v("\n        "+e._s(this.$t("USER_FULL_NAME"))+"\n      ")]),a("vs-th",{attrs:{"sort-key":"username"}},[e._v("\n        "+e._s(this.$t("USERNAME"))+"\n      ")]),a("vs-th",{attrs:{"sort-key":"fromDate"}},[e._v("\n        "+e._s(this.$t("FROM_DATE"))+"\n      ")]),a("vs-th",{attrs:{"sort-key":"thruDate"}},[e._v("\n        "+e._s(this.$t("TO_DATE"))+"\n      ")]),e.$acl.check("isNucleusAll")?a("vs-th",[e._v("\n        "+e._s(this.$t("OPTIONS"))+"\n      ")]):e._e()],1)],2),a("vs-pagination",{attrs:{total:e.userTableTotalPages,max:e.maxPaginationItems},model:{value:e.userTableCurrentPage,callback:function(t){e.userTableCurrentPage=t},expression:"userTableCurrentPage"}})],1)},c=[],d=a("5f4f"),p=a("93b8"),f=a("b664"),b=a("6205"),T=a("96b8"),m=a("fa33"),v={name:"user-group-member",mixins:[d["a"],p["a"],f["a"],b["a"]],components:{UserLookup:T["a"],Datepicker:m["a"]},props:{userGroupId:{type:String,required:!0}},data:function(){return{userTableData:[],userTableFilter:null,userTableFilterTimer:null,userTableOrderBy:null,userTableContainer:"user-loading-container",userTableBusy:!1,userTableTotalRows:0,userTableCurrentPage:1,userTablePerPage:10,userFormVisible:!1,userId:"",fromDate:null,toDate:null}},computed:{userTableNoDataText:function(){return this.userTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},userTableTotalPages:function(){return Math.ceil(this.userTableTotalRows/this.userTablePerPage)},userTablePagingInfo:function(){return this.pagingInfo(this.userTableCurrentPage,this.userTablePerPage,this.userTableTotalRows)}},methods:{loadUserTableData:function(e){var t=this;this.userTableBusy=!0,this.userTableContainer=e||this.userTableContainer,this.startLoading(this.userTableContainer),n["a"].userGroupMembers({pageIndex:this.userTableCurrentPage-1,pageSize:this.userTablePerPage,filter:this.userTableFilter,orderByField:this.userTableOrderBy,userGroupId:this.userGroupId}).then(function(e){t.stopLoading(t.userTableContainer),t.userTableBusy=!1,t.userTableTotalRows=e.data.totalRows,t.userTableData=e.data.userGroupMemberList||[]})},refreshUserTable:function(){this.loadUserTableData()},filterUserTable:function(e){var t=this;this.userTableFilter!==e?(clearTimeout(this.userTableFilterTimer),this.userTableFilterTimer=setTimeout(function(){t.userTableFilter=e,t.loadUserTableData()},"750")):clearTimeout(this.userTableFilterTimer)},orderUserTable:function(e,t){this.userTableOrderBy=(t?"":"-")+e,this.loadUserTableData()},showUserForm:function(){this.userFormVisible=!0},hideUserForm:function(){this.userFormVisible=!1},selectUserRecord:function(e){this.userId=e.userId||""},createUserGroupMember:function(){var e=this;n["a"].createUserGroupMember({userGroupId:this.userGroupId,userId:this.userId,fromDate:this.getTime(this.fromDate),toDate:this.getTime(this.toDate)}).then(function(t){e.refreshUserTable(),e.hideUserForm()}).catch(function(t){e.$emit("show-alert","danger",t.response.data.errors)})},expireUserGroupMember:function(e){var t=this;n["a"].expireUserGroupMember({userGroupId:this.userGroupId,userId:e.userId,fromDate:e.fromDate}).then(function(e){200===e.status&&t.refreshUserTable()}).catch(function(e){t.$emit("show-alert","danger",e.response.data.errors)})}},mounted:function(){this.loadUserTableData()},watch:{userTableCurrentPage:function(){this.refreshUserTable()},userTablePerPage:function(){this.refreshUserTable()}}},h=v,w=a("2877"),_=Object(w["a"])(h,u,c,!1,null,null,null),g=_.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"acl-loading-container"}},[e.aclFormVisible?a("div",{staticClass:"inline-form p-4 mb-base"},[a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[a("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("OBJECT_TYPE")))]),a("vs-select",{staticClass:"w-full",attrs:{autocomplete:"",placeholder:e.$t("SELECT_VALUE")},model:{value:e.objectTypeEnumId,callback:function(t){e.objectTypeEnumId=t},expression:"objectTypeEnumId"}},e._l(e.objectTypes,function(e,t){return a("vs-select-item",{key:t,attrs:{value:e.enumId,text:e.description}})}),1)],1),"OBJ_REPORT"===e.objectTypeEnumId?a("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[a("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("OBJECT_ID")))]),a("report-lookup",{attrs:{title:e.$t("REPORT"),valueField:"pseudoId",displayField:"reportName"},on:{"select-record":e.selectReportRecord}})],1):a("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[a("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("OBJECT_ID")))]),a("vs-input",{staticClass:"w-full",attrs:{disabled:"OBJ_ANY"===e.objectTypeEnumId},model:{value:e.objectId,callback:function(t){e.objectId=t},expression:"objectId"}})],1)]),a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[a("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("PERMISSION_TYPE")))]),a("vs-select",{staticClass:"w-full",attrs:{autocomplete:"",placeholder:e.$t("SELECT_VALUE")},model:{value:e.permissionTypeEnumId,callback:function(t){e.permissionTypeEnumId=t},expression:"permissionTypeEnumId"}},e._l(e.permissionTypes,function(e,t){return a("vs-select-item",{key:t,attrs:{value:e.enumId,text:e.description}})}),1)],1),a("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[a("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("POSITION")))]),a("div",{staticClass:"flex"},[a("vs-input-number",{attrs:{min:"1",disabled:"OBJ_ANY"===e.objectTypeEnumId},model:{value:e.position,callback:function(t){e.position=t},expression:"position"}})],1)])]),a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col sm:w-1/2 w-full"},[a("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("FROM_DATE")))]),a("nv-input-group",[a("template",{slot:"append"},[a("div",{staticClass:"append-text bg-dark"},[a("i",{staticClass:"far fa-calendar-alt"})])]),a("datepicker",{staticClass:"w-full",attrs:{placeholder:e.$t("SELECT_DATE"),format:e.dateFormat},model:{value:e.fromDate,callback:function(t){e.fromDate=t},expression:"fromDate"}})],2)],1),a("div",{staticClass:"nv-col sm:w-1/2 w-full"},[a("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("TO_DATE")))]),a("nv-input-group",[a("template",{slot:"append"},[a("div",{staticClass:"append-text bg-dark"},[a("i",{staticClass:"far fa-calendar-alt"})])]),a("datepicker",{staticClass:"w-full",attrs:{placeholder:e.$t("SELECT_DATE"),format:e.dateFormat},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],2)],1)]),a("div",{staticClass:"nv-row"},[a("div",{staticClass:"nv-col sm:w-1/2 w-full"},[a("div",{staticClass:"flex justify-left"},[a("vs-button",{staticClass:"px-5 py-3 mr-2",attrs:{color:"primary",type:"filled"},on:{click:e.createUserGroupAcl}},[e._v(e._s(e.$t("SUBMIT")))]),a("vs-button",{staticClass:"px-5 py-3 mr-2",attrs:{color:"primary",type:"border"},on:{click:e.hideAclForm}},[e._v(e._s(e.$t("CANCEL")))])],1)])])]):e._e(),a("vs-table",{staticClass:"mb-base",attrs:{data:e.aclTableData,noDataText:e.aclTableNoDataText,sst:!0,search:""},on:{search:e.filterAclTable,sort:e.orderAclTable},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.data;return e._l(s,function(t,r){return a("vs-tr",{key:r,attrs:{data:t}},[a("vs-td",{attrs:{data:s[r].position}},[e._v("\n          "+e._s(s[r].position)+"\n        ")]),a("vs-td",{attrs:{data:s[r].objectTypeDescription}},[e._v("\n          "+e._s(s[r].objectTypeDescription)+"\n        ")]),a("vs-td",{attrs:{data:s[r].objectId}},[e._v("\n          "+e._s(e._f("placeholder")(s[r].objectId,"-"))+"\n        ")]),a("vs-td",{attrs:{data:s[r].permissionTypeDescription}},[e._v("\n          "+e._s(s[r].permissionTypeDescription)+"\n        ")]),a("vs-td",{attrs:{data:s[r].fromDate}},[e._v("\n          "+e._s(e._f("formatUnixDate")(s[r].fromDate))+"\n        ")]),a("vs-td",{attrs:{data:s[r].toDate}},[e._v("\n          "+e._s(e._f("formatUnixDate")(s[r].toDate))+"\n        ")]),e.$acl.check("isNucleusAll")?a("vs-td",{attrs:{data:s[r].options}},[a("div",{staticClass:"flex"},["OBJ_ANY"!==s[r].objectTypeEnumId?a("vs-button",{staticClass:"p-1 mr-1",attrs:{color:"primary","icon-pack":"far",icon:"fa-arrow-up"},on:{click:function(t){return e.moveUp(s[r])}}}):e._e(),"OBJ_ANY"!==s[r].objectTypeEnumId?a("vs-button",{staticClass:"p-1 mr-1",attrs:{color:"primary","icon-pack":"far",icon:"fa-arrow-down"},on:{click:function(t){return e.moveDown(s[r])}}}):e._e(),a("vs-button",{staticClass:"p-3 mr-1",attrs:{color:"danger"},on:{click:function(t){return e.expireUserGroupAcl(s[r])}}},[e._v(e._s(e.$t("EXPIRE")))])],1)]):e._e()],1)})}}])},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex flex-wrap-reverse items-center"},[e.$acl.check("isNucleusAll")?a("vs-button",{staticClass:"p-3 mr-4",attrs:{disabled:e.aclFormVisible,color:"primary",type:"filled",icon:"fa-plus","icon-pack":"far"},on:{click:e.showAclForm}},[e._v(e._s(e.$t("ADD")))]):e._e(),a("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:e.aclTableBusy},on:{click:e.refreshAclTable}},[e._v(e._s(e.$t("REFRESH")))])],1),a("div",{staticClass:"flex justify-end mr-4"},[a("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[a("span",{staticClass:"mx-2"},[e._v(e._s(e.aclTablePagingInfo))]),a("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[a("span",{staticClass:"far fa-angle-down text-primary"}),a("vs-dropdown-menu",e._l(e.tablePageOptions,function(t,s){return a("vs-dropdown-item",{key:s,on:{click:function(a){e.aclTablePerPage=t}}},[a("span",[e._v(e._s(t))])])}),1)],1)],1)])]),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"position"}},[e._v("#")]),a("vs-th",[e._v("\n        "+e._s(this.$t("OBJECT_TYPE"))+"\n      ")]),a("vs-th",[e._v("\n        "+e._s(this.$t("OBJECT_ID"))+"\n      ")]),a("vs-th",[e._v("\n        "+e._s(this.$t("PERMISSION_TYPE"))+"\n      ")]),a("vs-th",[e._v("\n        "+e._s(this.$t("FROM_DATE"))+"\n      ")]),a("vs-th",[e._v("\n        "+e._s(this.$t("TO_DATE"))+"\n      ")]),e.$acl.check("isNucleusAll")?a("vs-th",[e._v("\n        "+e._s(this.$t("OPTIONS"))+"\n      ")]):e._e()],1)],2),a("vs-pagination",{attrs:{total:e.aclTableTotalPages,max:e.maxPaginationItems},model:{value:e.aclTableCurrentPage,callback:function(t){e.aclTableCurrentPage=t},expression:"aclTableCurrentPage"}})],1)},y=[],C=a("971c"),D=a("a601"),I=a("5961");function P(e,t,a,s,r,l,o){try{var i=e[l](o),n=i.value}catch(u){return void a(u)}i.done?t(n):Promise.resolve(n).then(s,r)}function x(e){return function(){var t=this,a=arguments;return new Promise(function(s,r){var l=e.apply(t,a);function o(e){P(l,s,r,o,i,"next",e)}function i(e){P(l,s,r,o,i,"throw",e)}o(void 0)})}}var F={name:"user-group-acl",mixins:[C["a"],d["a"],p["a"],f["a"]],components:{Datepicker:m["a"],ReportLookup:I["a"]},props:{userGroupId:{type:String,required:!0}},data:function(){return{aclTableData:[],aclTableFilter:null,aclTableFilterTimer:null,aclTableOrderBy:"position",aclTableContainer:"acl-loading-container",aclTableBusy:!1,aclTableTotalRows:0,aclTableCurrentPage:1,aclTablePerPage:10,aclFormVisible:!1,position:1,objectId:"",objectTypeEnumId:"OBJ_ANY",objectTypes:[],permissionTypeEnumId:"PERM_NONE",permissionTypes:[],fromDate:null,toDate:null}},computed:{aclTableNoDataText:function(){return this.aclTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},aclTableTotalPages:function(){return Math.ceil(this.aclTableTotalRows/this.aclTablePerPage)},aclTablePagingInfo:function(){return this.pagingInfo(this.aclTableCurrentPage,this.aclTablePerPage,this.aclTableTotalRows)}},methods:{load:function(){var e=x(o.a.mark(function e(){var t;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this,D["a"].enumerations({enumTypeId:"ObjectType",orderByField:"sequenceNum,description"}).then(function(e){t.objectTypes=e.data.enumerationList||[]}),D["a"].enumerations({enumTypeId:"PermissionType",orderByField:"sequenceNum,description"}).then(function(e){t.permissionTypes=e.data.enumerationList||[]});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),loadAclTableData:function(e){var t=this;this.aclTableBusy=!0,this.aclTableContainer=e||this.aclTableContainer,this.startLoading(this.aclTableContainer),n["a"].userGroupAcls({pageIndex:this.aclTableCurrentPage-1,pageSize:this.aclTablePerPage,filter:this.aclTableFilter,orderByField:this.aclTableOrderBy,userGroupId:this.userGroupId}).then(function(e){t.stopLoading(t.aclTableContainer),t.aclTableBusy=!1,t.aclTableTotalRows=e.data.totalRows,t.aclTableData=e.data.userGroupAclList||[]})},refreshAclTable:function(){this.loadAclTableData()},filterAclTable:function(e){var t=this;this.aclTableFilter!==e?(clearTimeout(this.aclTableFilterTimer),this.aclTableFilterTimer=setTimeout(function(){t.aclTableFilter=e,t.loadAclTableData()},"750")):clearTimeout(this.aclTableFilterTimer)},orderAclTable:function(e,t){this.aclTableOrderBy=(t?"":"-")+e,this.loadAclTableData()},showAclForm:function(){this.aclFormVisible=!0},hideAclForm:function(){this.aclFormVisible=!1},createUserGroupAcl:function(){var e=this;n["a"].createUserGroupAcl({userGroupId:this.userGroupId,position:this.position,objectId:this.objectId,objectTypeEnumId:this.objectTypeEnumId,permissionTypeEnumId:this.permissionTypeEnumId,fromDate:this.getTime(this.fromDate),toDate:this.getTime(this.toDate)}).then(function(t){e.refreshAclTable(),e.hideAclForm()}).catch(function(t){e.$emit("show-alert","danger",t.response.data.errors)})},expireUserGroupAcl:function(e){var t=this;n["a"].expireUserGroupAcl({userGroupId:this.userGroupId,itemId:e.itemId}).then(function(e){200===e.status&&t.refreshAclTable()}).catch(function(e){t.$emit("show-alert","danger",e.response.data.errors)})},moveUp:function(e){var t=this;n["a"].modifyUserGroupAcl({userGroupId:this.userGroupId,itemId:e.itemId,position:e.position-1}).then(function(e){t.refreshAclTable()}).catch(function(e){t.$emit("show-alert","danger",e.response.data.errors)})},moveDown:function(e){var t=this;n["a"].modifyUserGroupAcl({userGroupId:this.userGroupId,itemId:e.itemId,position:e.position+1}).then(function(e){t.refreshAclTable()}).catch(function(e){t.$emit("show-alert","danger",e.response.data.errors)})},selectReportRecord:function(e){this.objectId=e.pseudoId}},mounted:function(){this.load(),this.loadAclTableData()},watch:{aclTableCurrentPage:function(){this.refreshAclTable()},aclTablePerPage:function(){this.refreshAclTable()},objectTypeEnumId:function(){this.objectId=""}}},E=F,A=Object(w["a"])(E,k,y,!1,null,null,null),$=A.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"workflow-loading-container"}},[a("vs-table",{staticClass:"mb-base",attrs:{data:e.workflowTableData,noDataText:e.workflowTableNoDataText,sst:!0,search:""},on:{search:e.filterWorkflowTable,sort:e.orderWorkflowTable},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.data;return e._l(s,function(t,r){return a("vs-tr",{key:r,attrs:{data:t}},[a("vs-td",{attrs:{data:s[r].workflowId}},[a("router-link",{attrs:{to:{name:"ViewWorkflow",params:{id:s[r].workflowId}}}},[e._v(e._s(s[r].workflowId))])],1),a("vs-td",{attrs:{data:s[r].workflowName}},[e._v("\n          "+e._s(s[r].workflowName)+"\n        ")]),a("vs-td",{attrs:{data:s[r].workflowTypeName}},[e._v("\n          "+e._s(s[r].workflowTypeName)+"\n        ")])],1)})}}])},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex flex-wrap-reverse items-center"},[a("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:e.workflowTableBusy},on:{click:e.refreshWorkflowTable}},[e._v(e._s(e.$t("REFRESH")))])],1),a("div",{staticClass:"flex justify-end mr-4"},[a("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[a("span",{staticClass:"mx-2"},[e._v(e._s(e.workflowTablePagingInfo))]),a("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[a("span",{staticClass:"far fa-angle-down text-primary"}),a("vs-dropdown-menu",e._l(e.tablePageOptions,function(t,s){return a("vs-dropdown-item",{key:s,on:{click:function(a){e.workflowTablePerPage=t}}},[a("span",[e._v(e._s(t))])])}),1)],1)],1)])]),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"workflowId"}},[e._v("\n        "+e._s(this.$t("ID"))+"\n      ")]),a("vs-th",{attrs:{"sort-key":"workflowName"}},[e._v("\n        "+e._s(this.$t("WORKFLOW_NAME"))+"\n      ")]),a("vs-th",{attrs:{"sort-key":"workflowTypeName"}},[e._v("\n        "+e._s(this.$t("WORKFLOW_TYPE"))+"\n      ")])],1)],2),a("vs-pagination",{attrs:{total:e.workflowTableTotalPages,max:e.maxPaginationItems},model:{value:e.workflowTableCurrentPage,callback:function(t){e.workflowTableCurrentPage=t},expression:"workflowTableCurrentPage"}})],1)},O=[],R={name:"user-group-workflow",mixins:[p["a"],f["a"]],props:{userGroupId:{type:String,required:!0}},data:function(){return{workflowTableData:[],workflowTableFilter:null,workflowTableFilterTimer:null,workflowTableOrderBy:null,workflowTableContainer:"workflow-loading-container",workflowTableBusy:!1,workflowTableTotalRows:0,workflowTableCurrentPage:1,workflowTablePerPage:10}},computed:{workflowTableNoDataText:function(){return this.workflowTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},workflowTableTotalPages:function(){return Math.ceil(this.workflowTableTotalRows/this.workflowTablePerPage)},workflowTablePagingInfo:function(){return this.pagingInfo(this.workflowTableCurrentPage,this.workflowTablePerPage,this.workflowTableTotalRows)}},methods:{loadWorkflowTableData:function(e){var t=this;this.workflowTableBusy=!0,this.workflowTableContainer=e||this.workflowTableContainer,this.startLoading(this.workflowTableContainer),n["a"].userGroupWorkflowInitiators({pageIndex:this.workflowTableCurrentPage-1,pageSize:this.workflowTablePerPage,filter:this.workflowTableFilter,orderByField:this.workflowTableOrderBy,userGroupId:this.userGroupId}).then(function(e){t.stopLoading(t.workflowTableContainer),t.workflowTableBusy=!1,t.workflowTableTotalRows=e.data.totalRows,t.workflowTableData=e.data.workflowInitiatorList||[]})},refreshWorkflowTable:function(){this.loadWorkflowTableData()},filterWorkflowTable:function(e){var t=this;this.workflowTableFilter!==e?(clearTimeout(this.workflowTableFilterTimer),this.workflowTableFilterTimer=setTimeout(function(){t.workflowTableFilter=e,t.loadWorkflowTableData()},"750")):clearTimeout(this.workflowTableFilterTimer)},orderWorkflowTable:function(e,t){this.workflowTableOrderBy=(t?"":"-")+e,this.loadWorkflowTableData()}},mounted:function(){this.loadWorkflowTableData()},watch:{workflowTableCurrentPage:function(){this.refreshWorkflowTable()},workflowTablePerPage:function(){this.refreshWorkflowTable()}}},G=R,N=Object(w["a"])(G,U,O,!1,null,null,null),B=N.exports,S=a("48cd"),L=a.n(S);function j(e,t,a,s,r,l,o){try{var i=e[l](o),n=i.value}catch(u){return void a(u)}i.done?t(n):Promise.resolve(n).then(s,r)}function M(e){return function(){var t=this,a=arguments;return new Promise(function(s,r){var l=e.apply(t,a);function o(e){j(l,s,r,o,i,"next",e)}function i(e){j(l,s,r,o,i,"throw",e)}o(void 0)})}}var W={name:"user-group-view",mixins:[i["a"]],components:{UserGroupMember:g,UserGroupAcl:$,UserGroupWorkflow:B,MarkdownItVue:L.a},data:function(){return{userGroup:{},userGroupId:this.$route.params.id,popupActive:!1}},methods:{load:function(){var e=M(o.a.mark(function e(){var t;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this,n["a"].userGroups({userGroupId:this.$route.params.id}).then(function(e){t.userGroup=e.data.userGroupList[0]||{}});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$router.back()},modify:function(){this.$router.push({name:"ModifyUserGroup",params:{id:this.$route.params.id}})}},mounted:function(){this.load()}},V=W,J=Object(w["a"])(V,s,r,!1,null,null,null);t["default"]=J.exports}}]);
//# sourceMappingURL=chunk-cab03226.6042b22d.js.map