(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b5ad69e4"],{"1e3c":function(t,e,a){"use strict";var s=a("36ad");e["a"]={contactMechPurposes:function(t){return Object(s["a"])().get("/s1/nucleus/contactMech/purpose",{params:t})}}},"440b":function(t,e,a){"use strict";var s=a("36ad");e["a"]={branches:function(t){return Object(s["a"])().get("/s1/bank/branch",{params:t})},createBranch:function(t){return Object(s["a"])().post("/s1/bank/branch",t)},modifyBranch:function(t){return Object(s["a"])().patch("/s1/bank/branch",t)},contactMechs:function(t){return Object(s["a"])().get("/s1/bank/branch/".concat(t.branchId,"/contactMech"),{params:t})},createContactMech:function(t){return Object(s["a"])().post("/s1/bank/branch/".concat(t.branchId,"/contactMech"),t)},deleteContactMech:function(t){return Object(s["a"])().delete("/s1/bank/branch/".concat(t.branchId,"/contactMech"),{params:t})},workShifts:function(t){return Object(s["a"])().get("/s1/bank/branch/".concat(t.branchId,"/workShift"),{params:t})},createWorkShift:function(t){return Object(s["a"])().post("/s1/bank/branch/".concat(t.branchId,"/workShift"),t)},deleteWorkShift:function(t){return Object(s["a"])().delete("/s1/bank/branch/".concat(t.branchId,"/workShift"),{params:t})},branchFunctions:function(t){return Object(s["a"])().get("/s1/bank/branch/".concat(t.branchId,"/bankFunction"),{params:t})}}},4781:function(t,e,a){"use strict";var s={methods:{timeFromString:function(t){var e=t.split(":");return{HH:e[0],mm:e[1],ss:e[2]}},timeToString:function(t){return t.HH+":"+t.mm+":"+t.ss}}};e["a"]=s},"517f":function(t,e,a){t.exports=a("fea2")},"889f":function(t,e,a){"use strict";var s=a("a25b"),n=a.n(s);n.a},"946b":function(t,e,a){"use strict";var s={data:function(){return{alertActive:!1,alertMessage:this.$t("UNKNOWN_ERROR"),alertVariant:"danger"}},methods:{showAlert:function(t,e){this.alertMessage=e||this.$t("UNKNOWN_ERROR"),this.alertVariant=t,this.alertActive=!0},showSuccessAlert:function(t){this.showAlert("success",t)},showDangerAlert:function(t){this.showAlert("danger",t)},showWarningAlert:function(t){this.showAlert("warning",t)},showInfoAlert:function(t){this.showAlert("info",t)}}};e["a"]=s},"9a2e":function(t,e,a){"use strict";var s={methods:{disabledClass:function(t){return"Y"===t.disabled?"line-through":""}}};e["a"]=s},a25b:function(t,e,a){},a601:function(t,e,a){"use strict";var s=a("36ad");e["a"]={enumerations:function(t){return Object(s["a"])().get("/s1/commons/basic/enumeration",{params:t})}}},be01:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.alertActive?a("div",{staticClass:"alert-container"},[a("vs-alert",{staticClass:"mb-5",attrs:{active:t.alertActive,color:t.alertVariant,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(e){t.alertActive=e}}},[a("p",[t._v(t._s(t.alertMessage))])])],1):t._e(),a("nv-card",[a("div",{staticClass:"flex flex-wrap-reverse items-center mb-base"},[a("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-chevron-left","icon-pack":"far"},on:{click:t.cancel}},[t._v(t._s(t.$t("BACK")))]),t.$acl.check("isBankAll")?a("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-pen","icon-pack":"far"},on:{click:t.modify}},[t._v(t._s(t.$t("MODIFY")))]):t._e()],1),a("div",{staticClass:"vs-row flex hover mb-base"},[a("div",{staticClass:"nv-col sm:w-1/2 w-full p-2"},[a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("ID"))+":")]),a("span",[t._v(t._s(t.branch.branchId))])]),a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("EXTERNAL_ID"))+":")]),a("span",[t._v(t._s(t._f("placeholder")(t.branch.externalBranchId,"-")))])]),a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("BRANCH_NAME"))+":")]),a("span",[a("span",{class:t.disabledClass(t.branch)},[t._v(t._s(t._f("placeholder")(t.branch.branchName,"-")))])])]),a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("BANK"))+":")]),a("span",[t.branch.bankId?a("router-link",{attrs:{to:{name:"ViewBank",params:{id:t.branch.bankId}}}},[t._v(t._s(t._f("placeholder")(t.branch.bankName,"-")))]):t._e()],1)]),a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("SWIFT_CODE"))+":")]),a("span",[t._v(t._s(t._f("placeholder")(t.branch.swiftCode,"-")))])]),a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("LOCAL_CODE"))+":")]),a("span",[t._v(t._s(t._f("placeholder")(t.branch.localCode,"-")))])]),a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("RECORD_KEY"))+":")]),a("span",[t._v(t._s(t._f("placeholder")(t.branch.recordKey,"-")))])]),a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("ACCEPTS_PAYMENTS"))+":")]),a("span",[t._v(t._s(t._f("prettyBool")(t.branch.acceptsPayments)))])]),a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("CREATION_DATE"))+":")]),a("span",[t._v(t._s(t._f("formatUnixTimestamp")(t.branch.creationDate)))])])]),a("div",{staticClass:"nv-col sm:w-1/2 w-full p-2"},[a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("ADDRESS_1"))+":")]),a("span",[t._v(t._s(t._f("placeholder")(t.branch.address1,"-")))])]),a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("ADDRESS_2"))+":")]),a("span",[t._v(t._s(t._f("placeholder")(t.branch.address2,"-")))])]),a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("DISTRICT"))+":")]),a("span",[t._v(t._s(t._f("placeholder")(t.branch.district,"-")))])]),a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("CITY"))+":")]),a("span",[t._v(t._s(t._f("placeholder")(t.branch.city,"-")))])]),a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("PROVINCE"))+":")]),a("span",[t._v(t._s(t._f("placeholder")(t.branch.province,"-")))])]),a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("COUNTRY"))+":")]),a("span",[t._v(t._s(t._f("placeholder")(t.branch.countryName,"-")))])]),a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("POSTAL_CODE"))+":")]),a("span",[t._v(t._s(t._f("placeholder")(t.branch.postalCode,"-"))+" "+t._s(t._f("placeholder")(t.branch.postalCodeExt,"")))])]),a("p",{staticClass:"info-row"},[a("span",[t._v(t._s(t.$t("PO_BOX"))+":")]),a("span",[t._v(t._s(t._f("placeholder")(t.branch.poBox,"-")))])])])]),t.bankFunctionList.length>0?a("vs-collapse",{staticClass:"mb-base",attrs:{type:"border"}},[a("vs-collapse-item",{attrs:{open:!0}},[a("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n          "+t._s(t.$t("FUNCTIONS"))+"\n        ")]),a("div",{staticClass:"vs-row flex justify-start"},t._l(t.bankFunctionList,function(e,s){return a("div",{key:s,staticClass:"nv-col sm:w-1/6 w-full p-2"},[a("i",{staticClass:"text-primary mr-1",class:e.iconClass}),a("span",{class:t.disabledClass(e)},[t._v(t._s(e.functionName))])])}),0)])],1):t._e(),a("vs-tabs",[a("vs-tab",{attrs:{label:t.$t("CONTACTS")}},[a("branch-contact",{attrs:{branchId:t.branchId},on:{"show-alert":t.showAlert}})],1),a("vs-tab",{attrs:{label:t.$t("WORK_SHIFTS")}},[a("branch-work-shift",{attrs:{branchId:t.branchId},on:{"show-alert":t.showAlert}})],1)],1)],1)],1)},n=[],i=a("a34a"),r=a.n(i),c=a("440b"),o=a("946b"),l=a("9a2e"),h=a("b664"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"contact-loading-container"}},[t.contactMechFormVisible?a("div",{staticClass:"inline-form p-4 mb-base"},[a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col sm:w w-full"},[a("div",{staticClass:"flex justify-end"},[t._m(0),a("vs-switch",{staticClass:"mx-2",model:{value:t.contactMechEmail,callback:function(e){t.contactMechEmail=e},expression:"contactMechEmail"}}),t._m(1)],1)])]),a("div",{staticClass:"nv-row mb-4"},[t.contactMechEmail?t._e():a("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[a("label",[t._v(t._s(t.$t("PHONE_NUMBER")))]),a("div",[a("div",{staticClass:"float-left mx-2 pt-2"},[t._v("+")]),a("vs-input",{staticClass:"float-left w-16",attrs:{title:t.$t("COUNTRY_CODE")},model:{value:t.countryCode,callback:function(e){t.countryCode=e},expression:"countryCode"}}),a("span",{staticClass:"float-left mx-2 pt-2"},[t._v("-")]),a("vs-input",{staticClass:"float-left w-16",attrs:{title:t.$t("AREA_CODE")},model:{value:t.areaCode,callback:function(e){t.areaCode=e},expression:"areaCode"}}),a("span",{staticClass:"float-left mx-2 pt-2"},[t._v("-")]),a("vs-input",{staticClass:"float-left w-100",attrs:{title:t.$t("PHONE_NUMBER")},model:{value:t.contactNumber,callback:function(e){t.contactNumber=e},expression:"contactNumber"}}),a("span",{staticClass:"float-left mx-2 pt-2"},[t._v("x")]),a("vs-input",{staticClass:"float-left w-16",attrs:{title:t.$t("EXTENSION")},model:{value:t.extension,callback:function(e){t.extension=e},expression:"extension"}}),a("div",{staticClass:"clearfix"})],1)]),t.contactMechEmail?a("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[a("label",[t._v(t._s(t.$t("EMAIL_ADDRESS")))]),a("vs-input",{staticClass:"w-full",attrs:{type:"email",title:t.$t("EMAIL_ADDRESS")},model:{value:t.infoString,callback:function(e){t.infoString=e},expression:"infoString"}})],1):t._e(),a("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[a("label",[t._v(t._s(t.$t("PURPOSE")))]),a("vs-select",{staticClass:"w-full",attrs:{autocomplete:"",placeholder:t.$t("SELECT_VALUE")},model:{value:t.contactMechPurposeId,callback:function(e){t.contactMechPurposeId=e},expression:"contactMechPurposeId"}},t._l(t.contactMechPurposes,function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.contactMechPurposeId,text:t.description}})}),1)],1)]),a("div",{staticClass:"nv-row"},[a("div",{staticClass:"nv-col sm:w-1/2 w-full"},[a("div",{staticClass:"flex justify-left"},[a("vs-button",{staticClass:"px-5 py-3 mr-2",attrs:{color:"primary",type:"filled"},on:{click:t.createBranchContactMech}},[t._v(t._s(t.$t("SUBMIT")))]),a("vs-button",{staticClass:"px-5 py-3 mr-2",attrs:{color:"primary",type:"border"},on:{click:t.hideContactMechForm}},[t._v(t._s(t.$t("CANCEL")))])],1)])])]):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.contactMechCardLayout,expression:"!contactMechCardLayout"}]},[a("vs-table",{staticClass:"mb-base",attrs:{data:t.contactMechTableData,noDataText:t.contactMechTableNoDataText,sst:!0,search:""},on:{search:t.filterContactMechTable,sort:t.orderContactMechTable},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,function(e,n){return a("vs-tr",{key:n,attrs:{data:e}},[a("vs-td",{attrs:{data:s[n].contactMechTypeDescription}},[t._v("\n            "+t._s(s[n].contactMechTypeDescription)+"\n          ")]),a("vs-td",{attrs:{data:s[n].details}},[t._v("\n            "+t._s(t._f("placeholder")(t.contactMechDetails(s[n]),"-"))+"\n          ")]),a("vs-td",{attrs:{data:s[n].contactMechPurposeDescription}},[t._v("\n            "+t._s(s[n].contactMechPurposeDescription)+"\n          ")]),a("vs-td",{attrs:{data:s[n].options}},[a("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"danger","icon-pack":"far",icon:"fa-trash-alt"},on:{click:function(e){return t.deleteBranchContactMech(s[n].contactMechId)}}},[t._v(t._s(t.$t("DELETE")))])],1)],1)})}}])},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex flex-wrap-reverse items-center"},[a("vs-button",{staticClass:"p-3 mr-4",attrs:{disabled:t.contactMechFormVisible,color:"primary",type:"filled",icon:"fa-plus","icon-pack":"far"},on:{click:t.showContactMechForm}},[t._v(t._s(t.$t("ADD")))]),a("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:t.contactMechTableBusy},on:{click:t.refreshContactMechTable}},[t._v(t._s(t.$t("REFRESH")))])],1),a("div",{staticClass:"flex justify-end mr-4"},[a("div",{staticClass:"flex items-center justify-between mr-4"},[a("span",[a("i",{staticClass:"far fa-table"})]),a("vs-switch",{staticClass:"mx-2",model:{value:t.contactMechCardLayout,callback:function(e){t.contactMechCardLayout=e},expression:"contactMechCardLayout"}}),a("span",[a("i",{staticClass:"far fa-address-card"})])],1),a("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[a("span",{staticClass:"mx-2"},[t._v(t._s(t.contactMechTablePagingInfo))]),a("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[a("span",{staticClass:"far fa-angle-down text-primary"}),a("vs-dropdown-menu",t._l(t.tablePageOptions,function(e,s){return a("vs-dropdown-item",{key:s,on:{click:function(a){t.contactMechTablePerPage=e}}},[a("span",[t._v(t._s(e))])])}),1)],1)],1)])]),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"contactMechTypeDescription"}},[t._v("\n          "+t._s(this.$t("TYPE"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"details"}},[t._v("\n          "+t._s(this.$t("DETAILS"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"contactMechPurposeDescription"}},[t._v("\n          "+t._s(this.$t("PURPOSE"))+"\n        ")]),a("vs-th",[t._v("\n          "+t._s(this.$t("OPTIONS"))+"\n        ")])],1)],2),a("vs-pagination",{attrs:{total:t.contactMechTableTotalPages,max:t.maxPaginationItems},model:{value:t.contactMechTableCurrentPage,callback:function(e){t.contactMechTableCurrentPage=e},expression:"contactMechTableCurrentPage"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.contactMechCardLayout,expression:"contactMechCardLayout"}]},[a("div",{staticClass:"w-full mb-base"},[a("div",{staticClass:"flex justify-between"},[a("div",{staticClass:"flex"},[a("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:t.contactMechTableBusy},on:{click:t.refreshContactMechTable}},[t._v(t._s(t.$t("REFRESH")))])],1),a("div",{staticClass:"flex justify-end"},[a("div",{staticClass:"flex items-center justify-between"},[t._m(2),a("vs-switch",{staticClass:"mx-2",model:{value:t.contactMechCardLayout,callback:function(e){t.contactMechCardLayout=e},expression:"contactMechCardLayout"}}),t._m(3)],1)])])]),0===t.contactMechTableData.length?a("div",{staticClass:"alert-container"},[a("vs-alert",{attrs:{active:0===t.contactMechTableData.length,color:"warning"},on:{"update:active":function(e){return t.$set(t.contactMechTableData,"length === 0",e)}}},[a("i",{staticClass:"far fa-exclamation-circle pr-1"}),t._v(" "+t._s(t.$t("NO_DATA_FOUND"))+"\n      ")])],1):t._e(),t.contactMechTableData.length>0?a("div",{staticClass:"vs-row flex"},t._l(t.contactMechTableData,function(e,s){return a("div",{key:s,staticClass:"nv-col sm:w-1/3 w-full p-2"},[a("vs-card",{staticClass:"m-0 p-2"},[a("div",{staticClass:"flex justify-between"},[a("div",[a("h5",{staticClass:"card-title tx-dark"},[t._v(t._s(e.contactMechTypeDescription))])]),a("div",[a("span",{on:{click:function(a){return t.deleteBranchContactMech(e.contactMechId)}}},[a("i",{staticClass:"far fa-lg fa-trash-alt text-danger cursor-pointer"})])])]),a("p",{staticClass:"card-subtitle mb-4"},[t._v(t._s(e.contactMechPurposeDescription))]),a("p",{staticClass:"card-text"},[t._v(t._s(t._f("placeholder")(t.contactMechDetails(e),"-")))])])],1)}),0):t._e()])])},d=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"far fa-phone"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"far fa-at"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"far fa-table"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"far fa-address-card"})])}],f=a("93b8"),p=a("1e3c"),m={name:"branch-contact",mixins:[f["a"],h["a"]],props:{branchId:{type:String,required:!0}},data:function(){return{contactMechTableData:[],contactMechTableFilter:null,contactMechTableFilterTimer:null,contactMechTableOrderBy:null,contactMechTableContainer:"contact-loading-container",contactMechTableBusy:!1,contactMechTableTotalRows:0,contactMechTableCurrentPage:1,contactMechTablePerPage:10,contactMechFormVisible:!1,infoString:"",countryCode:"",areaCode:"",contactNumber:"",extension:"",contactMechPurposes:[],contactMechPurposeId:"PhonePrimary",contactMechTypeEnumId:"CmtTelecomNumber",contactMechEmail:!1,contactMechCardLayout:!1}},computed:{contactMechTableNoDataText:function(){return this.contactMechTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},contactMechTableTotalPages:function(){return Math.ceil(this.contactMechTableTotalRows/this.contactMechTablePerPage)},contactMechTablePagingInfo:function(){return this.pagingInfo(this.contactMechTableCurrentPage,this.contactMechTablePerPage,this.contactMechTableTotalRows)}},methods:{loadContactMechTableData:function(t){var e=this;this.contactMechTableBusy=!0,this.contactMechTableContainer=t||this.contactMechTableContainer,this.startLoading(this.contactMechTableContainer),c["a"].contactMechs({pageIndex:this.contactMechTableCurrentPage-1,pageSize:this.contactMechTablePerPage,filter:this.contactMechTableFilter,orderByField:this.contactMechTableOrderBy,branchId:this.branchId}).then(function(t){e.stopLoading(e.contactMechTableContainer),e.contactMechTableBusy=!1,e.contactMechTableTotalRows=t.data.totalRows,e.contactMechTableData=t.data.contactMechList||[]})},refreshContactMechTable:function(){this.loadContactMechTableData()},filterContactMechTable:function(t){var e=this;this.contactMechTableFilter!==t?(clearTimeout(this.contactMechTableFilterTimer),this.contactMechTableFilterTimer=setTimeout(function(){e.contactMechTableFilter=t,e.loadContactMechTableData()},"750")):clearTimeout(this.contactMechTableFilterTimer)},orderContactMechTable:function(t,e){this.contactMechTableOrderBy=(e?"":"-")+t,this.loadContactMechTableData()},showContactMechForm:function(){this.contactMechFormVisible=!0},hideContactMechForm:function(){this.contactMechFormVisible=!1},contactMechDetails:function(t){if("CmtTelecomNumber"===t.contactMechTypeEnumId){var e="+";return e+=t.countryCode?t.countryCode:"",e+=t.areaCode?"-"+t.areaCode:"",e+=t.contactNumber?"-"+t.contactNumber:"",e+=t.extension?"x"+t.extension:"",e}return t.infoString},createBranchContactMech:function(){var t=this;c["a"].createContactMech({branchId:this.$route.params.id,infoString:this.infoString,countryCode:this.countryCode,areaCode:this.areaCode,contactNumber:this.contactNumber,extension:this.extension,contactMechTypeEnumId:this.contactMechTypeEnumId,contactMechPurposeId:this.contactMechPurposeId}).then(function(e){t.refreshContactMechTable(),t.hideContactMechForm()}).catch(function(e){t.$emit("show-alert","danger",e.response.data.errors)})},deleteBranchContactMech:function(t){var e=this;c["a"].deleteContactMech({branchId:this.$route.params.id,contactMechId:t}).then(function(t){200===t.status&&e.refreshContactMechTable()}).catch(function(t){e.$emit("show-alert","danger",t.response.data.errors)})},loadContactPurposes:function(){var t=this;p["a"].contactMechPurposes({contactMechTypeEnumId:this.contactMechTypeEnumId,orderByField:"description",pageNoLimit:!0}).then(function(e){t.contactMechPurposes=e.data||[],t.contactMechPurposeId="CmtTelecomNumber"===t.contactMechTypeEnumId?"PhonePrimary":"EmailPrimary"})},toggleMechType:function(t){"PHONE"===t?this.contactMechTypeEnumId="CmtTelecomNumber":"EMAIL"===t&&(this.contactMechTypeEnumId="CmtEmailAddress")}},mounted:function(){this.loadContactMechTableData(),this.loadContactPurposes()},watch:{contactMechTableCurrentPage:function(){this.refreshContactMechTable()},contactMechTablePerPage:function(){this.refreshContactMechTable()},contactMechEmail:function(){this.contactMechTypeEnumId=this.contactMechEmail?"CmtEmailAddress":"CmtTelecomNumber",this.loadContactPurposes()}}},b=m,v=a("2877"),T=Object(v["a"])(b,u,d,!1,null,null,null),w=T.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"work-shift-loading-container"}},[t.workShiftFormVisible?a("div",{staticClass:"inline-form p-4 mb-base"},[a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col sm:w w-full required"},[a("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("DAY")))]),a("vs-select",{staticClass:"w-full",attrs:{autocomplete:"",placeholder:t.$t("SELECT_VALUE")},model:{value:t.weekDayEnumId,callback:function(e){t.weekDayEnumId=e},expression:"weekDayEnumId"}},t._l(t.weekDays,function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.enumId,text:t.description}})}),1)],1)]),a("div",{staticClass:"nv-row mb-4 timepicker-wrap"},[a("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[a("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("START_TIME")))]),a("div",{staticClass:"vs-inputx vs-input--input bg-white w-full"},[a("vue-timepicker",{attrs:{format:"HH:mm:ss"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1)]),a("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[a("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("END_TIME")))]),a("div",{staticClass:"vs-inputx vs-input--input bg-white w-full"},[a("vue-timepicker",{attrs:{format:"HH:mm:ss"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)])]),a("div",{staticClass:"nv-row"},[a("div",{staticClass:"nv-col w-full"},[a("div",{staticClass:"flex justify-left"},[a("vs-button",{staticClass:"px-5 py-3 mr-2",attrs:{type:"filled"},on:{click:t.createBranchWorkShift}},[t._v(t._s(t.$t("SUBMIT")))]),a("vs-button",{staticClass:"px-5 py-3 mr-2",attrs:{type:"border"},on:{click:t.hideWorkShiftForm}},[t._v(t._s(t.$t("CANCEL")))])],1)])])]):t._e(),a("vs-table",{staticClass:"mb-base",attrs:{data:t.workShiftTableData,noDataText:t.workShiftTableNoDataText,sst:!0,search:""},on:{search:t.filterWorkShiftTable,sort:t.orderWorkShiftTable},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,function(e,n){return a("vs-tr",{key:n,attrs:{data:e}},[a("vs-td",{attrs:{data:s[n].weekDayDescription}},[t._v("\n          "+t._s(s[n].weekDayDescription)+"\n        ")]),a("vs-td",{attrs:{data:s[n].startTime}},[t._v("\n          "+t._s(t._f("placeholder")(s[n].startTime,"-"))+"\n        ")]),a("vs-td",{attrs:{data:s[n].endTime}},[t._v("\n          "+t._s(s[n].endTime)+"\n        ")]),a("vs-td",{attrs:{data:s[n].options}},[a("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"danger","icon-pack":"far",icon:"fa-trash-alt"},on:{click:function(e){return t.deleteBranchWorkShift(s[n].shiftSeqId)}}},[t._v(t._s(t.$t("DELETE")))])],1)],1)})}}])},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex flex-wrap-reverse items-center"},[a("vs-button",{staticClass:"p-3 mr-4",attrs:{disabled:t.workShiftFormVisible,color:"primary",type:"filled",icon:"fa-plus","icon-pack":"far"},on:{click:t.showWorkShiftForm}},[t._v(t._s(t.$t("ADD")))]),a("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:t.workShiftTableBusy},on:{click:t.refreshWorkShiftTable}},[t._v(t._s(t.$t("REFRESH")))])],1),a("div",{staticClass:"flex justify-end mr-4"},[a("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[a("span",{staticClass:"mx-2"},[t._v(t._s(t.workShiftTablePagingInfo))]),a("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[a("span",{staticClass:"far fa-angle-down text-primary"}),a("vs-dropdown-menu",t._l(t.tablePageOptions,function(e,s){return a("vs-dropdown-item",{key:s,on:{click:function(a){t.WorkShiftTablePerPage=e}}},[a("span",[t._v(t._s(e))])])}),1)],1)],1)])]),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"weekDayDescription"}},[t._v("\n        "+t._s(this.$t("DAY"))+"\n      ")]),a("vs-th",{attrs:{"sort-key":"startTime"}},[t._v("\n        "+t._s(this.$t("START_TIME"))+"\n      ")]),a("vs-th",{attrs:{"sort-key":"endTime"}},[t._v("\n        "+t._s(this.$t("END_TIME"))+"\n      ")]),a("vs-th",[t._v("\n        "+t._s(this.$t("OPTIONS"))+"\n      ")])],1)],2),a("vs-pagination",{attrs:{total:t.workShiftTableTotalPages,max:t.maxPaginationItems},model:{value:t.workShiftTableCurrentPage,callback:function(e){t.workShiftTableCurrentPage=e},expression:"workShiftTableCurrentPage"}})],1)},_=[],k=a("4781"),y=a("a601"),g=a("517f"),S=a.n(g);function M(t,e,a,s,n,i,r){try{var c=t[i](r),o=c.value}catch(l){return void a(l)}c.done?e(o):Promise.resolve(o).then(s,n)}function x(t){return function(){var e=this,a=arguments;return new Promise(function(s,n){var i=t.apply(e,a);function r(t){M(i,s,n,r,c,"next",t)}function c(t){M(i,s,n,r,c,"throw",t)}r(void 0)})}}var P={name:"branch-work-shift",mixins:[f["a"],h["a"],k["a"]],components:{VueTimepicker:S.a},props:{branchId:{type:String,required:!0}},data:function(){return{workShiftTableData:[],workShiftTableFilter:null,workShiftTableFilterTimer:null,workShiftTableOrderBy:null,workShiftTableContainer:"work-shift-loading-container",workShiftTableBusy:!1,workShiftTableTotalRows:0,workShiftTableCurrentPage:1,workShiftTablePerPage:10,workShiftFormVisible:!1,weekDayEnumId:"DowMonday",weekDays:[],startTime:{HH:"00",mm:"00",ss:"00"},endTime:{HH:"00",mm:"00",ss:"00"}}},computed:{workShiftTableNoDataText:function(){return this.workShiftTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},workShiftTableTotalPages:function(){return Math.ceil(this.workShiftTableTotalRows/this.workShiftTablePerPage)},workShiftTablePagingInfo:function(){return this.pagingInfo(this.workShiftTableCurrentPage,this.workShiftTablePerPage,this.workShiftTableTotalRows)}},methods:{load:function(){var t=x(r.a.mark(function t(){var e;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this,y["a"].enumerations({enumTypeId:"DayOfWeek",orderByField:"sequenceNum,description"}).then(function(t){e.weekDays=t.data.enumerationList||[]});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),loadWorkShiftTableData:function(t){var e=this;this.workShiftTableBusy=!0,this.workShiftTableContainer=t||this.workShiftTableContainer,this.startLoading(this.workShiftTableContainer),c["a"].workShifts({pageIndex:this.workShiftTableCurrentPage-1,pageSize:this.workShiftTablePerPage,filter:this.workShiftTableFilter,orderByField:this.workShiftTableOrderBy,branchId:this.branchId}).then(function(t){e.stopLoading(e.workShiftTableContainer),e.workShiftTableBusy=!1,e.workShiftTableTotalRows=t.data.totalRows,e.workShiftTableData=t.data.workShiftList||[]})},refreshWorkShiftTable:function(){this.loadWorkShiftTableData()},filterWorkShiftTable:function(t){var e=this;this.workShiftTableFilter!==t?(clearTimeout(this.workShiftTableFilterTimer),this.workShiftTableFilterTimer=setTimeout(function(){e.workShiftTableFilter=t,e.loadWorkShiftTableData()},"750")):clearTimeout(this.workShiftTableFilterTimer)},orderWorkShiftTable:function(t,e){this.workShiftTableOrderBy=(e?"":"-")+t,this.loadWorkShiftTableData()},showWorkShiftForm:function(){this.workShiftFormVisible=!0},hideWorkShiftForm:function(){this.workShiftFormVisible=!1},workShiftDetails:function(t){if("CmtTelecomNumber"===t.workShiftTypeEnumId){var e="+";return e+=t.countryCode?t.countryCode:"",e+=t.areaCode?"-"+t.areaCode:"",e+=t.contactNumber?"-"+t.contactNumber:"",e+=t.extension?"x"+t.extension:"",e}return t.infoString},createBranchWorkShift:function(){var t=this;c["a"].createWorkShift({branchId:this.branchId,startTime:this.timeToString(this.startTime),endTime:this.timeToString(this.endTime),weekDayEnumId:this.weekDayEnumId}).then(function(e){t.refreshWorkShiftTable(),t.hideWorkShiftForm()}).catch(function(e){t.$emit("show-alert","danger",e.response.data.errors)})},deleteBranchWorkShift:function(t){var e=this;c["a"].deleteWorkShift({branchId:this.branchId,shiftSeqId:t}).then(function(t){200===t.status&&e.refreshWorkShiftTable()}).catch(function(t){e.$emit("show-alert","danger",t.response.data.errors)})}},mounted:function(){this.load(),this.loadWorkShiftTableData()},watch:{workShiftTableCurrentPage:function(){this.refreshWorkShiftTable()},workShiftTablePerPage:function(){this.refreshWorkShiftTable()}}},E=P,I=Object(v["a"])(E,C,_,!1,null,null,null),D=I.exports;function N(t,e,a,s,n,i,r){try{var c=t[i](r),o=c.value}catch(l){return void a(l)}c.done?e(o):Promise.resolve(o).then(s,n)}function O(t){return function(){var e=this,a=arguments;return new Promise(function(s,n){var i=t.apply(e,a);function r(t){N(i,s,n,r,c,"next",t)}function c(t){N(i,s,n,r,c,"throw",t)}r(void 0)})}}var $={name:"branch-view",mixins:[o["a"],l["a"],h["a"]],components:{BranchContact:w,BranchWorkShift:D},data:function(){return{branchId:this.$route.params.id,branch:{},bankFunctionList:[]}},computed:{workShiftTableTotalPages:function(){return Math.ceil(this.workShiftTableTotalRows/this.workShiftTablePerPage)},workShiftTablePagingInfo:function(){return this.pagingInfo(this.workShiftTableCurrentPage,this.workShiftTablePerPage,this.workShiftTableTotalRows)}},methods:{load:function(){var t=O(r.a.mark(function t(){var e;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this,c["a"].branches({branchId:this.branchId}).then(function(t){e.branch=t.data.branchList[0]||{}}),c["a"].branchFunctions({branchId:this.$route.params.id}).then(function(t){e.bankFunctionList=t.data.branchBankFunctionList||[]});case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),createWorkShift:function(){var t=this;c["a"].createWorkShift({branchId:this.$route.params.id,shiftSeqId:this.shiftSeqId,startTime:this.timeToString(this.startTime),endTime:this.timeToString(this.endTime),weekDayEnumId:this.weekDayEnumId}).then(function(e){t.refreshWorkShiftTable()}).catch(function(e){t.showDangerAlert(e.response.data.errors)})},deleteWorkShift:function(t){var e=this;c["a"].deleteWorkShift({branchId:this.$route.params.id,shiftSeqId:t}).then(function(t){200===t.status&&e.refreshWorkShiftTable()}).catch(function(t){e.showDangerAlert(t.response.data.errors)})},cancel:function(){this.$router.back()},modify:function(){this.$router.push({name:"ModifyBranch",params:{id:this.$route.params.id}})}},mounted:function(){this.load()}},A=$,F=Object(v["a"])(A,s,n,!1,null,null,null);e["default"]=F.exports},fea2:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"time-picker"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.displayTime,expression:"displayTime"}],staticClass:"display-time",attrs:{id:t.id,type:"text",readonly:""},domProps:{value:t.displayTime},on:{click:function(e){return e.stopPropagation(),t.toggleDropdown(e)},input:function(e){e.target.composing||(t.displayTime=e.target.value)}}}),t.hideClearButton?t._e():a("span",{directives:[{name:"show",rawName:"v-show",value:!t.showDropdown&&t.showClearBtn,expression:"!showDropdown && showClearBtn"}],staticClass:"clear-btn",on:{click:function(e){return e.stopPropagation(),t.clearTime(e)}}},[t._v("Ã—")]),t.showDropdown?a("div",{staticClass:"time-picker-overlay",on:{click:function(e){return e.stopPropagation(),t.toggleDropdown(e)}}}):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showDropdown,expression:"showDropdown"}],staticClass:"dropdown"},[a("div",{staticClass:"select-list"},[a("ul",{staticClass:"hours"},[a("li",{staticClass:"hint",domProps:{textContent:t._s(t.hourType)}}),t._l(t.hours,function(e){return a("li",{class:{active:t.hour===e},domProps:{textContent:t._s(e)},on:{click:function(a){return a.stopPropagation(),t.select("hour",e)}}})})],2),a("ul",{staticClass:"minutes"},[a("li",{staticClass:"hint",domProps:{textContent:t._s(t.minuteType)}}),t._l(t.minutes,function(e){return a("li",{class:{active:t.minute===e},domProps:{textContent:t._s(e)},on:{click:function(a){return a.stopPropagation(),t.select("minute",e)}}})})],2),t.secondType?a("ul",{staticClass:"seconds"},[a("li",{staticClass:"hint",domProps:{textContent:t._s(t.secondType)}}),t._l(t.seconds,function(e){return a("li",{class:{active:t.second===e},domProps:{textContent:t._s(e)},on:{click:function(a){return a.stopPropagation(),t.select("second",e)}}})})],2):t._e(),t.apmType?a("ul",{staticClass:"apms"},[a("li",{staticClass:"hint",domProps:{textContent:t._s(t.apmType)}}),t._l(t.apms,function(e){return a("li",{class:{active:t.apm===e},domProps:{textContent:t._s(e)},on:{click:function(a){return a.stopPropagation(),t.select("apm",e)}}})})],2):t._e()])])])},n=[],i={HOUR_TOKENS:["HH","H","hh","h","kk","k"],MINUTE_TOKENS:["mm","m"],SECOND_TOKENS:["ss","s"],APM_TOKENS:["A","a"]},r={name:"VueTimepicker",props:{value:{type:Object},hideClearButton:{type:Boolean},format:{type:String},minuteInterval:{type:Number},secondInterval:{type:Number},id:{type:String}},data:function(){return{hours:[],minutes:[],seconds:[],apms:[],showDropdown:!1,muteWatch:!1,hourType:"HH",minuteType:"mm",secondType:"",apmType:"",hour:"",minute:"",second:"",apm:"",fullValues:void 0}},computed:{displayTime:function(){var t=String(this.format||"HH:mm");return this.hour&&(t=t.replace(new RegExp(this.hourType,"g"),this.hour)),this.minute&&(t=t.replace(new RegExp(this.minuteType,"g"),this.minute)),this.second&&this.secondType&&(t=t.replace(new RegExp(this.secondType,"g"),this.second)),this.apm&&this.apmType&&(t=t.replace(new RegExp(this.apmType,"g"),this.apm)),t},showClearBtn:function(){return!!(this.hour&&""!==this.hour||this.minute&&""!==this.minute)}},watch:{format:"renderFormat",minuteInterval:function(t){this.renderList("minute",t)},secondInterval:function(t){this.renderList("second",t)},value:"readValues",displayTime:"fillValues"},methods:{formatValue:function(t,e){switch(t){case"H":case"m":case"s":return String(e);case"HH":case"mm":case"ss":return e<10?"0".concat(e):String(e);case"h":case"k":return String(e+1);case"hh":case"kk":return e+1<10?"0".concat(e+1):String(e+1);default:return""}},checkAcceptingType:function(t,e,a){if(!t||!e||!e.length)return"";for(var s=0;s<t.length;s++)if(e.indexOf(t[s])>-1)return t[s];return a||""},renderFormat:function(t){t=t||this.format,t&&t.length||(t="HH:mm"),this.hourType=this.checkAcceptingType(i.HOUR_TOKENS,t,"HH"),this.minuteType=this.checkAcceptingType(i.MINUTE_TOKENS,t,"mm"),this.secondType=this.checkAcceptingType(i.SECOND_TOKENS,t),this.apmType=this.checkAcceptingType(i.APM_TOKENS,t),this.renderHoursList(),this.renderList("minute"),this.secondType&&this.renderList("second"),this.apmType&&this.renderApmList();var e=this;this.$nextTick(function(){e.readValues()})},renderHoursList:function(){var t="h"===this.hourType||"hh"===this.hourType?12:24;this.hours=[];for(var e=0;e<t;e++)this.hours.push(this.formatValue(this.hourType,e))},renderList:function(t,e){if("second"===t)e=e||this.secondInterval;else{if("minute"!==t)return;e=e||this.minuteInterval}0===e?e=60:e>60?(window.console.warn("`"+t+"-interval` should be less than 60. Current value is",e),e=1):e<1?(window.console.warn("`"+t+"-interval` should be NO less than 1. Current value is",e),e=1):e||(e=1),"minute"===t?this.minutes=[]:this.seconds=[];for(var a=0;a<60;a+=e)"minute"===t?this.minutes.push(this.formatValue(this.minuteType,a)):this.seconds.push(this.formatValue(this.secondType,a))},renderApmList:function(){this.apms=[],this.apmType&&(this.apms="A"===this.apmType?["AM","PM"]:["am","pm"])},readValues:function(){if(this.value&&!this.muteWatch){var t=JSON.parse(JSON.stringify(this.value||{})),e=Object.keys(t);0!==e.length&&(e.indexOf(this.hourType)>-1&&(this.hour=t[this.hourType]),e.indexOf(this.minuteType)>-1&&(this.minute=t[this.minuteType]),e.indexOf(this.secondType)>-1?this.second=t[this.secondType]:this.second=0,e.indexOf(this.apmType)>-1&&(this.apm=t[this.apmType]),this.fillValues())}},fillValues:function(){var t={},e=this.hour,a=this.hourType,s=e||0===e?Number(e):"",n=this.isTwelveHours(a),r=!(!n||!this.apm)&&String(this.apm).toLowerCase();if(i.HOUR_TOKENS.forEach(function(i){var c,o;if(i!==a)switch(i){case"H":case"HH":if(!String(s).length)return void(t[i]="");c=n?"pm"===r?s<12?s+12:s:s%12:s%24,t[i]="HH"===i&&c<10?"0".concat(c):String(c);break;case"k":case"kk":if(!String(s).length)return void(t[i]="");c=n?"pm"===r?s<12?s+12:s:12===s?24:s:0===s?24:s,t[i]="kk"===i&&c<10?"0".concat(c):String(c);break;case"h":case"hh":if(r)c=s,o=r||"am";else{if(!String(s).length)return t[i]="",t.a="",void(t.A="");s>11?(o="pm",c=12===s?12:s%12):(o=n?"":"am",c=s%12===0?12:s)}t[i]="hh"===i&&c<10?"0".concat(c):String(c),t.a=o,t.A=o.toUpperCase();break}else t[i]=e}),this.minute||0===this.minute){var c=Number(this.minute);t.m=String(c),t.mm=c<10?"0".concat(c):String(c)}else t.m="",t.mm="";if(this.second||0===this.second){var o=Number(this.second);t.s=String(o),t.ss=o<10?"0".concat(o):String(o)}else t.s="",t.ss="";this.fullValues=t,this.updateTimeValue(t),this.$emit("change",{data:t})},updateTimeValue:function(t){this.muteWatch=!0;var e=this,a=JSON.parse(JSON.stringify(this.value||{})),s={};Object.keys(a).forEach(function(e){s[e]=t[e]}),this.$emit("input",s),this.$nextTick(function(){e.muteWatch=!1})},isTwelveHours:function(t){return"h"===t||"hh"===t},toggleDropdown:function(){this.showDropdown=!this.showDropdown},select:function(t,e){"hour"===t?this.hour=e:"minute"===t?this.minute=e:"second"===t?this.second=e:"apm"===t&&(this.apm=e)},clearTime:function(){this.hour="",this.minute="",this.second="",this.apm=""}},mounted:function(){this.renderFormat()}},c=r,o=(a("889f"),a("2877")),l=Object(o["a"])(c,s,n,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-b5ad69e4.457afb5e.js.map