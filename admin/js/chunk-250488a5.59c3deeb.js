(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-250488a5"],{"0035":function(t,a,e){"use strict";var r=e("9ff0"),o=e("93b8"),s=e("b664"),n={mixins:[o["a"],s["a"]],props:{defaultTaskTableFilter:{type:String,default:null},defaultTaskTableOrderBy:{type:String,default:null},workflowTypeEnumId:{type:String,default:null},taskTypeEnumId:{type:String,default:null}},data:function(){return{taskTableData:[],taskTableFilterTimer:null,taskTableFilter:this.defaultTaskTableFilter,taskTableOrderBy:this.defaultTaskTableOrderBy,taskTableContainer:"loading-container",taskTableBusy:!1,taskTableTotalRows:0,taskTableCurrentPage:1,taskTablePerPage:10}},computed:{taskTableNoDataText:function(){return this.taskTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},taskTableTotalPages:function(){return Math.ceil(this.taskTableTotalRows/this.taskTablePerPage)},taskTablePagingInfo:function(){return this.pagingInfo(this.taskTableCurrentPage,this.taskTablePerPage,this.taskTableTotalRows)}},methods:{loadTaskTableData:function(t){var a=this;this.taskTableBusy=!0,this.taskTableContainer=t||this.taskTableContainer,this.startLoading(this.taskTableContainer),r["a"].workflowTasks({pageIndex:this.taskTableCurrentPage-1,pageSize:this.taskTablePerPage,filter:this.taskTableFilter,orderByField:this.taskTableOrderBy,workflowTypeEnumId:this.workflowTypeEnumId,instanceStatusId:"WF_INST_ACTIVE",taskTypeEnumId:this.taskTypeEnumId,assignedUserId:a.$store.state.userId}).then(function(t){a.stopLoading(a.taskTableContainer),a.taskTableBusy=!1,a.taskTableTotalRows=t.data.totalRows,a.taskTableData=t.data.taskList||[]}).catch(function(t){a.stopLoading(a.taskTableContainer),a.taskTableBusy=!1,a.$emit("show-alert","danger",t.response.data.errors)})},refreshTaskTable:function(){this.loadTaskTableData()},filterTaskTable:function(t){var a=this;this.taskTableFilter!==t?(clearTimeout(this.taskTableFilterTimer),this.taskTableFilterTimer=setTimeout(function(){a.taskTableFilter=t,a.loadTaskTableData()},"750")):clearTimeout(this.taskTableFilterTimer)},orderTaskTable:function(t,a){this.taskTableOrderBy=(a?"":"-")+t,this.loadTaskTableData()}},watch:{taskTableCurrentPage:function(){this.refreshTaskTable()},taskTablePerPage:function(){this.refreshTaskTable()},taskTypeEnumId:function(){this.refreshTaskTable()}}};a["a"]=n},4013:function(t,a,e){"use strict";var r=e("36ad");a["a"]={reports:function(t){return Object(r["a"])().get("/s1/report/report",{params:t})},createReport:function(t){return Object(r["a"])().post("/s1/report/report",t)},modifyReport:function(t){return Object(r["a"])().patch("/s1/report/report",t)},reportParameters:function(t){return Object(r["a"])().get("/s1/report/report/".concat(t.reportId,"/parameter"),{params:t})},createReportParameter:function(t){return Object(r["a"])().post("/s1/report/report/".concat(t.reportId,"/parameter"),t)},modifyReportParameter:function(t){return Object(r["a"])().patch("/s1/report/report/".concat(t.reportId,"/parameter"),t)},reportPrices:function(t){return Object(r["a"])().get("/s1/report/report/".concat(t.reportId,"/price"),{params:t})},createReportPrice:function(t){return Object(r["a"])().post("/s1/report/report/".concat(t.reportId,"/price"),t)},modifyReportPrice:function(t){return Object(r["a"])().patch("/s1/report/report/".concat(t.reportId,"/price"),t)},expireReportPrice:function(t){return Object(r["a"])().delete("/s1/report/report/".concat(t.reportId,"/price"),{params:t})},reportApps:function(t){return Object(r["a"])().get("/s1/report/report/app",{params:t})},createReportApp:function(t){return Object(r["a"])().post("/s1/report/report/app",t)},deleteReportApp:function(t){return Object(r["a"])().delete("/s1/report/report/app",{params:t})},runReport:function(t){return Object(r["a"])().post("/s1/report/report/".concat(t.reportId,"/run"),t)},reportWorkflowInstances:function(t){return Object(r["a"])().get("/s1/report/report/workflow/instance",{params:t})}}},"9ff0":function(t,a,e){"use strict";var r=e("36ad");a["a"]={workflows:function(t){return Object(r["a"])().get("/s1/commons/workflow",{params:t})},workflowStats:function(t){return Object(r["a"])().get("/s1/commons/workflow/stats",{params:t})},createWorkflow:function(t){return Object(r["a"])().post("/s1/commons/workflow",t)},modifyWorkflow:function(t){return Object(r["a"])().patch("/s1/commons/workflow",t)},approveWorkflow:function(t){return Object(r["a"])().post("/s1/commons/workflow/".concat(t.workflowId,"/approve"),t)},duplicateWorkflow:function(t){return Object(r["a"])().post("/s1/commons/workflow/".concat(t.workflowId,"/duplicate"),t)},designWorkflow:function(t){return Object(r["a"])().post("/s1/commons/workflow/".concat(t.workflowId,"/design"),t)},draftWorkflow:function(t){return Object(r["a"])().post("/s1/commons/workflow/".concat(t.workflowId,"/draft"),t)},workflowVariables:function(t){return Object(r["a"])().get("/s1/commons/workflow/".concat(t.workflowId,"/variable"),{params:t})},createWorkflowVariable:function(t){return Object(r["a"])().post("/s1/commons/workflow/".concat(t.workflowId,"/variable"),t)},workflowInitiators:function(t){return Object(r["a"])().get("/s1/commons/workflow/".concat(t.workflowId,"/initiator"),{params:t})},createWorkflowInitiator:function(t){return Object(r["a"])().post("/s1/commons/workflow/".concat(t.workflowId,"/initiator"),t)},expireWorkflowInitiator:function(t){return Object(r["a"])().delete("/s1/commons/workflow/".concat(t.workflowId,"/initiator"),{params:t})},workflowTasks:function(t){return Object(r["a"])().get("/s1/commons/workflow/task",{params:t})},countWorkflowTasks:function(t){return Object(r["a"])().get("/s1/commons/workflow/task/count",{params:t})},modifyWorkflowTask:function(t){return Object(r["a"])().patch("/s1/commons/workflow/task",t)},workflowTypes:function(t){return Object(r["a"])().get("/s1/commons/workflow/type",{params:t})},workflowTypeServices:function(t){return Object(r["a"])().get("/s1/commons/workflow/type/service",{params:t})},workflowTypeAlertTemplates:function(t){return Object(r["a"])().get("/s1/commons/workflow/type/alertTemplate",{params:t})},draftWorkflows:function(t){return Object(r["a"])().get("/s1/commons/workflow/".concat(t.workflowId,"/draft"),{params:t})},designDraftWorkflow:function(t){return Object(r["a"])().post("/s1/commons/workflow/".concat(t.workflowId,"/design/draft"),t)},deleteDraftWorkflow:function(t){return Object(r["a"])().delete("/s1/commons/workflow/".concat(t.workflowId,"/design/draft"),{params:t})}}},e893:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nv-card",[!1===t.viewOnly?e("div",{staticClass:"flex flex-wrap-reverse items-center mb-base"},[e("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-chevron-left","icon-pack":"far"},on:{click:t.cancel}},[t._v(t._s(t.$t("BACK")))]),"RPT_INST_COMPLETED"===t.workflowInstance.reportInstanceStatusId?e("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",href:t.reportDownloadUrl,"icon-pack":"far",icon:"fa-cloud-download-alt"}},[t._v(t._s(t.$t("DOWNLOAD")))]):t._e()],1):t._e(),e("div",{staticClass:"nv-row row hover vs-con-loading__container",attrs:{id:"instance-loading-container"}},[e("div",{staticClass:"nv-col w-full"},[e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("ID"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.workflowInstance.instanceId,"-")))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("REPORT_NAME"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.workflowInstance.reportName,"-")))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("STATUS"))+":")]),e("span",[t._v(t._s(t.workflowInstance.reportInstanceStatusDescription))])]),t.workflowInstance.errors?e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("ERRORS"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.workflowInstance.errors,"-")))])]):t._e(),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("INPUT_BY"))+": ")]),e("span",[t._v(t._s(t.workflowInstance.inputUserFullName))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("CREATION_DATE"))+":")]),e("span",[t._v(t._s(t._f("formatUnixDate")(t.workflowInstance.creationDate)))])])])]),e("vs-tabs",{staticClass:"mt-base"},[e("vs-tab",{attrs:{label:t.$t("TASKS")}},[e("div",{staticClass:"vs-con-loading__container",attrs:{id:"tasks-loading-container"}},[e("vs-table",{attrs:{data:t.taskTableData,noDataText:t.taskTableNoDataText,search:""},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.data;return t._l(r,function(a,o){return e("vs-tr",{key:o,attrs:{data:a}},[e("vs-td",{attrs:{data:r[o].assignedUserFullName}},[t._v("\n                "+t._s(t._f("placeholder")(r[o].assignedUserFullName,"-"))+"\n              ")]),e("vs-td",{attrs:{data:r[o].statusDescription}},[t._v("\n                "+t._s(t._f("placeholder")(r[o].statusDescription,"-"))+"\n              ")]),e("vs-td",{attrs:{data:r[o].creationDate}},[t._v("\n                "+t._s(t._f("formatUnixDate")(r[o].creationDate))+"\n              ")]),e("vs-td",{attrs:{data:r[o].dueDate}},[t._v("\n                "+t._s(t._f("formatUnixDate")(r[o].dueDate))+"\n              ")])],1)})}}])},[e("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[e("div",{staticClass:"flex flex-wrap-reverse items-center"},[e("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:t.taskTableBusy},on:{click:t.refreshTaskTable}},[t._v(t._s(t.$t("REFRESH")))])],1),e("div",{staticClass:"flex justify-end mr-4"},[e("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[e("span",{staticClass:"mx-2"},[t._v(t._s(t.taskTablePagingInfo))])])])]),e("template",{slot:"thead"},[e("vs-th",{attrs:{"sort-key":"assignedUserFullName"}},[t._v("\n              "+t._s(this.$t("ASSIGNED_USER"))+"\n            ")]),e("vs-th",{attrs:{"sort-key":"statusDescription"}},[t._v("\n              "+t._s(this.$t("STATUS"))+"\n            ")]),e("vs-th",{attrs:{"sort-key":"creationDate"}},[t._v("\n              "+t._s(this.$t("CREATION_DATE"))+"\n            ")]),e("vs-th",{attrs:{"sort-key":"dueDate"}},[t._v("\n              "+t._s(this.$t("DUE_DATE"))+"\n            ")])],1)],2)],1)])],1)],1)},o=[],s=e("a34a"),n=e.n(s),i=e("4013"),c=e("93b8"),l=e("0035");function f(t,a,e,r,o,s,n){try{var i=t[s](n),c=i.value}catch(l){return void e(l)}i.done?a(c):Promise.resolve(c).then(r,o)}function p(t){return function(){var a=this,e=arguments;return new Promise(function(r,o){var s=t.apply(a,e);function n(t){f(s,r,o,n,i,"next",t)}function i(t){f(s,r,o,n,i,"throw",t)}n(void 0)})}}var u={name:"report-workflow-instance-view",mixins:[c["a"],l["a"]],props:{workflowInstanceId:{type:String,default:null},viewOnly:{type:Boolean,default:!1}},data:function(){return{workflowInstance:{}}},computed:{reportDownloadUrl:function(t){var a="",e=this.$store.getters.appId;return"".concat(a,"/apps/Report/DownloadSecure/downloadReportInstance?sourceAppId=").concat(e,"&instanceId=").concat(this.workflowInstance.reportInstanceId)}},methods:{load:function(){var t=p(n.a.mark(function t(){var a;return n.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=this,this.startLoading("instance-loading-container"),i["a"].reportWorkflowInstances({instanceId:this.instanceId}).then(function(t){a.stopLoading("instance-loading-container"),a.workflowInstance=t.data.instanceList[0]||{},a.loadTaskTableData("tasks-loading-container")});case 3:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),cancel:function(){this.$router.back()}},mounted:function(){this.load()}},d=u,w=e("2877"),k=Object(w["a"])(d,r,o,!1,null,null,null);a["default"]=k.exports}}]);
//# sourceMappingURL=chunk-250488a5.59c3deeb.js.map