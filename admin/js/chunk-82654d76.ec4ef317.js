(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-82654d76"],{5618:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"loading-container"}},[a("nv-card",[a("vs-table",{staticClass:"mb-base",attrs:{data:e.alertTemplateTableData,noDataText:e.alertTemplateTableNoDataText,sst:!0,search:""},on:{search:e.filterAlertTemplateTable,sort:e.orderAlertTemplateTable},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.data;return e._l(l,function(t,r){return a("vs-tr",{key:r,attrs:{data:t}},[a("vs-td",{attrs:{data:l[r].templateId}},[a("router-link",{attrs:{to:{name:"ViewAlertTemplate",params:{id:l[r].templateId}}}},[e._v(e._s(l[r].templateId))])],1),a("vs-td",{attrs:{data:l[r].templateName}},[e._v("\n            "+e._s(l[r].templateName)+"\n          ")]),a("vs-td",{attrs:{data:l[r].templateName}},[e._v("\n            "+e._s(l[r].alertTypeDescription)+"\n          ")])],1)})}}])},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex flex-wrap-reverse items-center"},[e.$acl.check("isNucleusAll")?a("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-plus","icon-pack":"far"},on:{click:e.add}},[e._v(e._s(e.$t("ADD")))]):e._e(),a("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:e.alertTemplateTableBusy},on:{click:e.refreshAlertTemplateTable}},[e._v(e._s(e.$t("REFRESH")))])],1),a("div",{staticClass:"flex justify-end mr-4"},[a("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[a("span",{staticClass:"mx-2"},[e._v(e._s(e.alertTemplateTablePagingInfo))]),a("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[a("span",{staticClass:"far fa-angle-down text-primary"}),a("vs-dropdown-menu",e._l(e.tablePageOptions,function(t,l){return a("vs-dropdown-item",{key:l,on:{click:function(a){e.alertTemplateTablePerPage=t}}},[a("span",[e._v(e._s(t))])])}),1)],1)],1)])]),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"templateId"}},[e._v("\n          "+e._s(this.$t("ID"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"templateName"}},[e._v("\n          "+e._s(this.$t("TEMPLATE_NAME"))+"\n        ")]),a("vs-th",{attrs:{"sort-key":"alertTypeDescription"}},[e._v("\n          "+e._s(this.$t("ALERT_TYPE"))+"\n        ")])],1)],2),a("vs-pagination",{attrs:{total:e.alertTemplateTableTotalPages,max:e.maxPaginationItems},model:{value:e.alertTemplateTableCurrentPage,callback:function(t){e.alertTemplateTableCurrentPage=t},expression:"alertTemplateTableCurrentPage"}})],1)],1)},r=[],s=a("db17"),i=a("93b8"),n=a("b664"),T={mixins:[i["a"],n["a"]],props:{defaultAlertTemplateTableFilter:{type:String,default:null},defaultAlertTemplateTableOrderBy:{type:String,default:null}},data:function(){return{alertTemplateTableData:[],alertTemplateTableFilterTimer:null,alertTemplateTableFilter:this.defaultAlertTemplateTableFilter,alertTemplateTableOrderBy:this.defaultAlertTemplateTableOrderBy,alertTemplateTableContainer:"loading-container",alertTemplateTableBusy:!1,alertTemplateTableTotalRows:0,alertTemplateTableCurrentPage:1,alertTemplateTablePerPage:10}},computed:{alertTemplateTableNoDataText:function(){return this.alertTemplateTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},alertTemplateTableTotalPages:function(){return Math.ceil(this.alertTemplateTableTotalRows/this.alertTemplateTablePerPage)},alertTemplateTablePagingInfo:function(){return this.pagingInfo(this.alertTemplateTableCurrentPage,this.alertTemplateTablePerPage,this.alertTemplateTableTotalRows)}},methods:{loadAlertTemplateTableData:function(e){var t=this;this.alertTemplateTableBusy=!0,this.alertTemplateTableContainer=e||this.alertTemplateTableContainer,this.startLoading(this.alertTemplateTableContainer),s["a"].alertTemplates({pageIndex:this.alertTemplateTableCurrentPage-1,pageSize:this.alertTemplateTablePerPage,filter:this.alertTemplateTableFilter,orderByField:this.alertTemplateTableOrderBy}).then(function(e){t.stopLoading(t.alertTemplateTableContainer),t.alertTemplateTableBusy=!1,t.alertTemplateTableTotalRows=e.data.totalRows,t.alertTemplateTableData=e.data.alertTemplateList||[]})},refreshAlertTemplateTable:function(){this.loadAlertTemplateTableData()},filterAlertTemplateTable:function(e){var t=this;this.alertTemplateTableFilter!==e?(clearTimeout(this.alertTemplateTableFilterTimer),this.alertTemplateTableFilterTimer=setTimeout(function(){t.alertTemplateTableFilter=e,t.loadAlertTemplateTableData()},"750")):clearTimeout(this.alertTemplateTableFilterTimer)},orderAlertTemplateTable:function(e,t){this.alertTemplateTableOrderBy=(t?"":"-")+e,this.loadAlertTemplateTableData()}},watch:{alertTemplateTableCurrentPage:function(){this.refreshAlertTemplateTable()},alertTemplateTablePerPage:function(){this.refreshAlertTemplateTable()}}},o=T,m={name:"alert-template-browse",mixins:[o],methods:{add:function(){this.$router.push({name:"CreateAlertTemplate"})}},mounted:function(){this.loadAlertTemplateTableData()}},p=m,c=a("2877"),d=Object(c["a"])(p,l,r,!1,null,null,null);t["default"]=d.exports},db17:function(e,t,a){"use strict";var l=a("36ad");t["a"]={alertTemplates:function(e){return Object(l["a"])().get("/s1/commons/basic/alertTemplate",{params:e})},createAlertTemplate:function(e){return Object(l["a"])().post("/s1/commons/basic/alertTemplate",e)},modifyAlertTemplate:function(e){return Object(l["a"])().patch("/s1/commons/basic/alertTemplate",e)}}}}]);
//# sourceMappingURL=chunk-82654d76.ec4ef317.js.map