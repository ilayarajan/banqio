{"version":3,"sources":["webpack:///./src/services/report/ReportService.js","webpack:///./src/views/report/report-catalog/ReportRun.vue?dd96","webpack:///src/views/report/report-catalog/ReportRun.vue","webpack:///./src/views/report/report-catalog/ReportRun.vue?bf0d","webpack:///./src/views/report/report-catalog/ReportRun.vue"],"names":["reports","payload","Endpoint","get","params","createReport","post","modifyReport","patch","reportParameters","reportId","createReportParameter","modifyReportParameter","reportPrices","createReportPrice","modifyReportPrice","expireReportPrice","delete","reportApps","createReportApp","deleteReportApp","runReport","reportWorkflowInstances","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","alertActive","alertVariant","on","$event","_v","_s","alertMessage","_e","report","class","iconClass","reportName","runNotes","$t","inputParameterList","length","_l","parameter","index","parameterTypeEnumId","key","mandatory","displayName","model","value","callback","$$v","$set","expression","slot","dateFormat","cancel","resultTableBusy","run","resultTableData","resultTableNoDataText","scopedSlots","_u","fn","ref","data","tr","paramIndex","_f","parameterName","exportXls","columnDefs","exportCsv","resultTablePagingInfo","thIndex","staticRenderFns","name","mixins","AlertMixin","components","Datepicker","MarkdownItVue","$route","id","outputParameterList","resultTableContainer","resultTableTotalRows","resultTableCurrentPage","resultTablePerPage","resultTableVisible","computed","pagingInfo","headerName","self","i","field","fieldObj","format","fields","push","methods","parameters","parameterId","parameterValue","startLoading","ReportService","JSON","stringify","stopLoading","response","inlineDataList","showSuccessAlert","messages","showDangerAlert","error","errors","$router","back","mounted","load","component"],"mappings":"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","file":"js/chunk-1a719726.0b719fba.js","sourcesContent":["import Endpoint from '@/services/Endpoint'\n\nexport default {\n  reports (payload) {\n    return Endpoint().get('/s1/report/report', {\n      params: payload\n    })\n  },\n  createReport (payload) {\n    return Endpoint().post('/s1/report/report', payload)\n  },\n  modifyReport (payload) {\n    return Endpoint().patch('/s1/report/report', payload)\n  },\n  reportParameters (payload) {\n    return Endpoint().get(`/s1/report/report/${payload.reportId}/parameter`, {\n      params: payload\n    })\n  },\n  createReportParameter (payload) {\n    return Endpoint().post(`/s1/report/report/${payload.reportId}/parameter`, payload)\n  },\n  modifyReportParameter (payload) {\n    return Endpoint().patch(`/s1/report/report/${payload.reportId}/parameter`, payload)\n  },\n  reportPrices (payload) {\n    return Endpoint().get(`/s1/report/report/${payload.reportId}/price`, {\n      params: payload\n    })\n  },\n  createReportPrice (payload) {\n    return Endpoint().post(`/s1/report/report/${payload.reportId}/price`, payload)\n  },\n  modifyReportPrice (payload) {\n    return Endpoint().patch(`/s1/report/report/${payload.reportId}/price`, payload)\n  },\n  expireReportPrice (payload) {\n    return Endpoint().delete(`/s1/report/report/${payload.reportId}/price`, {\n      params: payload\n    })\n  },\n  reportApps (payload) {\n    return Endpoint().get('/s1/report/report/app', {\n      params: payload\n    })\n  },\n  createReportApp (payload) {\n    return Endpoint().post('/s1/report/report/app', payload)\n  },\n  deleteReportApp (payload) {\n    return Endpoint().delete('/s1/report/report/app', {\n      params: payload\n    })\n  },\n  runReport (payload) {\n    return Endpoint().post(`/s1/report/report/${payload.reportId}/run`, payload)\n  },\n  reportWorkflowInstances (payload) {\n    return Endpoint().get('/s1/report/report/workflow/instance', {\n      params: payload\n    })\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.alertActive)?_c('div',{staticClass:\"alert-container\"},[_c('vs-alert',{staticClass:\"mb-5\",attrs:{\"active\":_vm.alertActive,\"color\":_vm.alertVariant,\"closable\":\"\",\"icon-pack\":\"feather\",\"close-icon\":\"icon-x\"},on:{\"update:active\":function($event){_vm.alertActive=$event}}},[_c('p',[_vm._v(_vm._s(_vm.alertMessage))])])],1):_vm._e(),_c('nv-card',{staticClass:\"mb-base vs-con-loading__container\",attrs:{\"id\":\"params-loading-container\"}},[_c('h4',{staticClass:\"mb-base\"},[(_vm.report.iconClass)?_c('i',{class:[_vm.report.iconClass, 'mr-1']}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.report.reportName))]),(_vm.report.runNotes)?_c('div',{staticClass:\"code-editor p-4 mb-base\"},[_c('markdown-it-vue',{attrs:{\"content\":_vm.report.runNotes}})],1):_vm._e(),_c('h5',{staticClass:\"mb-2\"},[_vm._v(_vm._s(_vm.$t('PARAMETERS')))]),_c('div',{staticClass:\"mb-base\"},[(_vm.inputParameterList.length === 0)?_c('div',[_c('vs-alert',{attrs:{\"active\":\"true\",\"color\":\"primary\"}},[_c('i',{staticClass:\"far fa-check-circle pr-1\"}),_vm._v(\" \"+_vm._s(_vm.$t('NO_PARAMETERS'))+\"\\n        \")])],1):_vm._e(),_vm._l((_vm.inputParameterList),function(parameter,index){return [(parameter.parameterTypeEnumId !== 'RPT_PARAM_TYPE_CONTEXT')?_c('div',{key:index,staticClass:\"nv-row mb-4\"},[_c('div',{staticClass:\"nv-col w-full\",class:parameter.mandatory === 'Y' ? 'required' : ''},[_c('label',{staticClass:\"vs-input--label\"},[_vm._v(_vm._s(parameter.displayName))]),(parameter.parameterTypeEnumId === 'RPT_PARAM_TYPE_NUMBER')?[_c('vs-input',{staticClass:\"w-full\",attrs:{\"type\":\"number\"},model:{value:(parameter.parameterValue),callback:function ($$v) {_vm.$set(parameter, \"parameterValue\", $$v)},expression:\"parameter.parameterValue\"}})]:(parameter.parameterTypeEnumId === 'RPT_PARAM_TYPE_DATE')?[_c('nv-input-group',[_c('template',{slot:\"append\"},[_c('div',{staticClass:\"append-text bg-dark\"},[_c('i',{staticClass:\"far fa-calendar-alt\"})])]),_c('datepicker',{staticClass:\"w-full\",attrs:{\"placeholder\":_vm.$t('SELECT_DATE'),\"format\":_vm.dateFormat},model:{value:(parameter.parameterValue),callback:function ($$v) {_vm.$set(parameter, \"parameterValue\", $$v)},expression:\"parameter.parameterValue\"}})],2)]:[_c('vs-input',{staticClass:\"w-full\",model:{value:(parameter.parameterValue),callback:function ($$v) {_vm.$set(parameter, \"parameterValue\", $$v)},expression:\"parameter.parameterValue\"}})]],2)]):_vm._e()]})],2),_c('div',{staticClass:\"nv-row\"},[_c('div',{staticClass:\"nv-col w-full\"},[_c('div',{staticClass:\"flex justify-between\"},[_c('vs-button',{staticClass:\"px-5 py-3\",attrs:{\"color\":\"primary\",\"type\":\"border\"},on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.$t('CANCEL')))]),_c('vs-button',{staticClass:\"px-5 py-3\",attrs:{\"color\":\"primary\",\"type\":\"filled\",\"disabled\":_vm.resultTableBusy},on:{\"click\":_vm.run}},[_vm._v(_vm._s(_vm.$t('SUBMIT')))])],1)])])]),(_vm.resultTableVisible)?[_c('nv-card',{staticClass:\"vs-con-loading__container\",attrs:{\"id\":\"result-loading-container\"}},[_c('vs-table',{attrs:{\"data\":_vm.resultTableData,\"noDataText\":_vm.resultTableNoDataText,\"search\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(tr,index){return _c('vs-tr',{key:index,attrs:{\"data\":tr}},_vm._l((_vm.outputParameterList),function(parameter,paramIndex){return _c('vs-td',{key:paramIndex},[(parameter.parameterTypeEnumId === 'RPT_PARAM_TYPE_NUMBER')?[_vm._v(\"\\n                \"+_vm._s(_vm._f(\"placeholder\")(_vm._f(\"currency\")(data[index][parameter.parameterName],''),'-'))+\"\\n              \")]:(parameter.parameterTypeEnumId === 'RPT_PARAM_TYPE_DATE')?[_vm._v(\"\\n                \"+_vm._s(_vm._f(\"placeholder\")(_vm._f(\"formatUnixDate\")(data[index][parameter.parameterName]),'-'))+\"\\n              \")]:[_vm._v(\"\\n                \"+_vm._s(_vm._f(\"placeholder\")(data[index][parameter.parameterName],'-'))+\"\\n              \")]],2)}),1)})}}],null,false,2414382520)},[_c('div',{staticClass:\"flex flex-wrap-reverse items-center flex-grow justify-between\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',{staticClass:\"flex flex-wrap-reverse items-center\"},[_c('vs-button',{staticClass:\"p-3 mr-4\",attrs:{\"type\":\"filled\",\"icon\":\"fa-file-excel\",\"icon-pack\":\"fal\"},on:{\"click\":function($event){return _vm.exportXls(_vm.resultTableData, _vm.columnDefs)}}},[_vm._v(_vm._s(_vm.$t('EXPORT_XLS')))]),_c('vs-button',{staticClass:\"p-3 mr-4\",attrs:{\"type\":\"filled\",\"icon\":\"fa-file-csv\",\"icon-pack\":\"fal\"},on:{\"click\":function($event){return _vm.exportCsv(_vm.resultTableData, _vm.columnDefs)}}},[_vm._v(_vm._s(_vm.$t('EXPORT_CSV')))])],1),_c('div',{staticClass:\"flex justify-end mr-4\"},[_c('div',{staticClass:\"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium\"},[_c('span',{staticClass:\"mx-2\"},[_vm._v(_vm._s(_vm.resultTablePagingInfo))])])])]),_c('template',{slot:\"thead\"},_vm._l((_vm.outputParameterList),function(parameter,thIndex){return _c('vs-th',{key:thIndex,attrs:{\"sort-key\":parameter.parameterName}},[_vm._v(\"\\n            \"+_vm._s(parameter.displayName)+\"\\n          \")])}),1)],2)],1)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"alert-container\" v-if=\"alertActive\">\n      <vs-alert :active.sync=\"alertActive\" :color=\"alertVariant\" closable icon-pack=\"feather\" close-icon=\"icon-x\" class=\"mb-5\">\n        <p>{{ alertMessage }}</p>\n      </vs-alert>\n    </div>\n\n    <nv-card id=\"params-loading-container\" class=\"mb-base vs-con-loading__container\">\n      <h4 class=\"mb-base\"><i :class=\"[report.iconClass, 'mr-1']\" v-if=\"report.iconClass\"></i> {{ report.reportName }}</h4>\n\n      <div class=\"code-editor p-4 mb-base\" v-if=\"report.runNotes\">\n        <markdown-it-vue :content=\"report.runNotes\"/>\n      </div>\n\n      <h5 class=\"mb-2\">{{ $t('PARAMETERS') }}</h5>\n      <div class=\"mb-base\">\n        <div v-if=\"inputParameterList.length === 0\">\n          <vs-alert active=\"true\" color=\"primary\">\n            <i class=\"far fa-check-circle pr-1\"></i> {{ $t('NO_PARAMETERS') }}\n          </vs-alert>\n        </div>\n        <template v-for=\"(parameter, index) in inputParameterList\">\n          <div class=\"nv-row mb-4\" v-if=\"parameter.parameterTypeEnumId !== 'RPT_PARAM_TYPE_CONTEXT'\" :key=\"index\">\n            <div class=\"nv-col w-full\" :class=\"parameter.mandatory === 'Y' ? 'required' : ''\">\n              <label class=\"vs-input--label\">{{ parameter.displayName }}</label>\n              <template v-if=\"parameter.parameterTypeEnumId === 'RPT_PARAM_TYPE_NUMBER'\">\n                <vs-input type=\"number\" class=\"w-full\" v-model=\"parameter.parameterValue\"/>\n              </template>\n              <template v-else-if=\"parameter.parameterTypeEnumId === 'RPT_PARAM_TYPE_DATE'\">\n                <nv-input-group>\n                  <template slot=\"append\">\n                    <div class=\"append-text bg-dark\">\n                      <i class=\"far fa-calendar-alt\"></i>\n                    </div>\n                  </template>\n                  <datepicker class=\"w-full\" :placeholder=\"$t('SELECT_DATE')\" v-model=\"parameter.parameterValue\" :format=\"dateFormat\"></datepicker>\n                </nv-input-group>\n              </template>\n              <template v-else>\n                <vs-input class=\"w-full\" v-model=\"parameter.parameterValue\"/>\n              </template>\n            </div>\n          </div>\n        </template>\n      </div>\n\n      <div class=\"nv-row\">\n        <div class=\"nv-col w-full\">\n          <div class=\"flex justify-between\">\n            <vs-button class=\"px-5 py-3\" color=\"primary\" type=\"border\" @click=\"cancel\">{{ $t('CANCEL') }}</vs-button>\n            <vs-button class=\"px-5 py-3\" color=\"primary\" type=\"filled\" @click=\"run\" :disabled=\"resultTableBusy\">{{ $t('SUBMIT') }}</vs-button>\n          </div>\n        </div>\n      </div>\n    </nv-card>\n\n    <template v-if=\"resultTableVisible\">\n      <nv-card id=\"result-loading-container\" class=\"vs-con-loading__container\">\n        <vs-table :data=\"resultTableData\" :noDataText=\"resultTableNoDataText\" search>\n          <div slot=\"header\" class=\"flex flex-wrap-reverse items-center flex-grow justify-between\">\n            <div class=\"flex flex-wrap-reverse items-center\">\n              <vs-button class=\"p-3 mr-4\" @click=\"exportXls(resultTableData, columnDefs)\" type=\"filled\" icon=\"fa-file-excel\" icon-pack=\"fal\">{{ $t('EXPORT_XLS') }}</vs-button>\n              <vs-button class=\"p-3 mr-4\" @click=\"exportCsv(resultTableData, columnDefs)\" type=\"filled\" icon=\"fa-file-csv\" icon-pack=\"fal\">{{ $t('EXPORT_CSV') }}</vs-button>\n            </div>\n            <div class=\"flex justify-end mr-4\">\n              <div class=\"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium\">\n                <span class=\"mx-2\">{{ resultTablePagingInfo }}</span>\n              </div>\n            </div>\n          </div>\n\n          <template slot=\"thead\">\n            <vs-th :sort-key=\"parameter.parameterName\" v-for=\"(parameter, thIndex) in outputParameterList\" :key=\"thIndex\">\n              {{ parameter.displayName }}\n            </vs-th>\n          </template>\n\n          <template slot-scope=\"{data}\">\n            <vs-tr v-for=\"(tr, index) in data\" :data=\"tr\" :key=\"index\">\n              <vs-td v-for=\"(parameter, paramIndex) in outputParameterList\" :key=\"paramIndex\">\n                <template v-if=\"parameter.parameterTypeEnumId === 'RPT_PARAM_TYPE_NUMBER'\">\n                  {{ data[index][parameter.parameterName] | currency('') | placeholder('-') }}\n                </template>\n                <template v-else-if=\"parameter.parameterTypeEnumId === 'RPT_PARAM_TYPE_DATE'\">\n                  {{ data[index][parameter.parameterName] | formatUnixDate | placeholder('-') }}\n                </template>\n                <template v-else>\n                  {{ data[index][parameter.parameterName] | placeholder('-') }}\n                </template>\n              </vs-td>\n            </vs-tr>\n          </template>\n        </vs-table>\n      </nv-card>\n    </template>\n  </div>\n</template>\n\n<script>\nimport AlertMixin from '@/mixins/commons/AlertMixin'\nimport DatePickerMixin from '@/mixins/commons/DatePickerMixin'\nimport ListLayoutMixin from '@/mixins/commons/ListLayoutMixin'\nimport LoadingMixin from '@/mixins/commons/LoadingMixin'\nimport ReportService from '@/services/report/ReportService'\nimport Datepicker from 'vuejs-datepicker'\nimport MarkdownItVue from 'markdown-it-vue'\n\nexport default {\n  name: 'report-run',\n  mixins: [AlertMixin, DatePickerMixin, ListLayoutMixin, LoadingMixin],\n  components: {\n    Datepicker,\n    MarkdownItVue\n  },\n  data: function () {\n    return {\n      reportId: this.$route.params.id,\n      report: {},\n      inputParameterList: [],\n      outputParameterList: [],\n      resultTableData: [],\n      resultTableContainer: 'result-loading-container',\n      resultTableBusy: false,\n      resultTableTotalRows: 0,\n      resultTableCurrentPage: 1,\n      resultTablePerPage: 10,\n      resultTableVisible: false\n    }\n  },\n  computed: {\n    resultTableNoDataText: function () {\n      return this.resultTableBusy ? this.$t('LOADING') + ' ...' : this.$t('NO_DATA_FOUND')\n    },\n    resultTablePagingInfo: function () {\n      return this.pagingInfo(this.resultTableCurrentPage, this.resultTablePerPage, this.resultTableTotalRows)\n    },\n    columnDefs: function () {\n      let self = this\n      let fields = []\n      for (let i = 0; i < this.outputParameterList.length; i++) {\n        let fieldObj = {\n          headerName: self.outputParameterList[i].displayName,\n          field: self.outputParameterList[i].parameterName\n        }\n        if (this.outputParameterList[i].parameterTypeEnumId === 'RPT_PARAM_TYPE_DATE') {\n          fieldObj.format = 'Date'\n        } else if (this.outputParameterList[i].parameterTypeEnumId === 'RPT_PARAM_TYPE_NUMBER') {\n          fieldObj.format = 'Number'\n        } else if (this.outputParameterList[i].parameterTypeEnumId === 'RPT_PARAM_TYPE_DECIMAL') {\n          fieldObj.format = 'Decimal'\n        }\n        fields.push(fieldObj)\n      }\n      return fields\n    }\n  },\n  methods: {\n    async load () {\n      let self = this\n      self.startLoading('params-loading-container')\n      ReportService.reportApps({\n        reportId: this.reportId\n      }).then(function (response) {\n        self.report = response.data.reportAppList[0] || {}\n      }).catch(function (error) {\n        self.showDangerAlert(error.response.data.errors)\n      })\n\n      ReportService.reportParameters({\n        reportId: this.reportId,\n        parameterDirectionEnumId: 'RPT_PARAM_DIR_IN',\n        disabled: 'N',\n        pageNoLimit: true\n      }).then(function (response) {\n        self.inputParameterList = response.data.reportParameterList || []\n      })\n\n      ReportService.reportParameters({\n        reportId: this.reportId,\n        parameterDirectionEnumId: 'RPT_PARAM_DIR_OUT',\n        disabled: 'N',\n        pageNoLimit: true\n      }).then(function (response) {\n        self.outputParameterList = response.data.reportParameterList || []\n        self.stopLoading('params-loading-container')\n      })\n    },\n    run () {\n      let parameters = []\n      for (let i = 0; i < this.inputParameterList.length; i++) {\n        parameters.push({\n          parameterId: this.inputParameterList[i].parameterId,\n          parameterValue: this.inputParameterList[i].parameterValue\n        })\n      }\n\n      let self = this\n      this.resultTableBusy = true\n      self.startLoading('params-loading-container')\n      this.startLoading(this.resultTableContainer)\n      ReportService.runReport({\n        reportId: this.reportId,\n        parameters: JSON.stringify(parameters)\n      }).then(function (response) {\n        self.stopLoading('params-loading-container')\n        self.stopLoading(self.resultTableContainer)\n        self.resultTableBusy = false\n        if (response.data.inlineDataList) {\n          self.resultTableData = response.data.inlineDataList || []\n          self.resultTableTotalRows = self.resultTableData.length\n          self.resultTablePerPage = self.resultTableData.length\n          self.resultTableVisible = true\n        } else if (response.data.instanceId) {\n          self.showSuccessAlert(response.data.messages)\n        }\n      }).catch(function (error) {\n        self.stopLoading('params-loading-container')\n        self.stopLoading(self.resultTableContainer)\n        self.resultTableBusy = false\n        self.showDangerAlert(error.response.data.errors)\n      })\n    },\n    cancel () {\n      this.$router.back()\n    }\n  },\n  mounted () {\n    this.load()\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportRun.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportRun.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportRun.vue?vue&type=template&id=482045ce&\"\nimport script from \"./ReportRun.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportRun.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}