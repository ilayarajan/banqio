(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bff6a"],{4080:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"loading-container"}},[t.alertActive?a("div",{staticClass:"alert-container"},[a("vs-alert",{staticClass:"mb-5",attrs:{active:t.alertActive,color:t.alertVariant,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(e){t.alertActive=e}}},[a("p",[t._v(t._s(t.alertMessage))])])],1):t._e(),a("nv-card",[a("form-wizard",{ref:"wizard",attrs:{color:"rgba(var(--vs-primary), 1)",title:null,subtitle:null,nextButtonText:t.$t("NEXT"),backButtonText:t.$t("PREVIOUS")},scopedSlots:t._u([{key:"custom-buttons-left",fn:function(e){return[0===e.activeTabIndex?a("vs-button",{staticClass:"mr-2",attrs:{color:"primary",type:"border"},on:{click:t.cancel}},[t._v(t._s(t.$t("CANCEL")))]):t._e()]}}])},[a("template",{slot:"finish"},[a("div",{staticClass:"dropdown-button-container"},[a("vs-button",{staticClass:"btnx",attrs:{type:"filled"},on:{click:function(e){return t.createBeneficiaryType("browse")}}},[t._v(t._s(t.$t("SUBMIT")))]),a("vs-dropdown",{attrs:{"vs-trigger-click":""}},[a("vs-button",{staticClass:"btn-drop",attrs:{type:"filled",icon:"fa-angle-down","icon-pack":"far"}}),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(e){return t.createBeneficiaryType("stay")}}},[a("span",[t._v(t._s(t.$t("SUBMIT_STAY")))])]),a("vs-dropdown-item",{on:{click:function(e){return t.createBeneficiaryType("view")}}},[a("span",[t._v(t._s(t.$t("SUBMIT_VIEW")))])])],1)],1)],1)]),a("tab-content",{attrs:{title:t.$t("GENERAL"),icon:"far fa-tag"}},[a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[a("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("TYPE_NAME")))]),a("vs-input",{staticClass:"w-full",model:{value:t.typeName,callback:function(e){t.typeName=e},expression:"typeName"}})],1),a("div",{staticClass:"nv-col sm:w-1/2 w-full"},[a("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("PARENT_TYPE")))]),a("beneficiary-type-lookup",{attrs:{title:t.$t("PARENT_TYPE"),valueField:"typeId",displayField:"typeName"},on:{"select-record":t.selectBeneficiaryTypeRecord}})],1)]),a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[a("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("TYPE_BEHAVIOUR")))]),a("vs-select",{staticClass:"w-full",attrs:{autocomplete:"",placeholder:t.$t("SELECT_VALUE")},model:{value:t.typeBehaviourEnumId,callback:function(e){t.typeBehaviourEnumId=e},expression:"typeBehaviourEnumId"}},t._l(t.typeBehaviours,function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.enumId,text:t.description}})}),1)],1),a("div",{staticClass:"nv-col sm:w-1/2 w-full"},[a("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("EXTERNAL_ID")))]),a("vs-input",{staticClass:"w-full",model:{value:t.externalTypeId,callback:function(e){t.externalTypeId=e},expression:"externalTypeId"}})],1)]),a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col w-full"},[a("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("POSITION")))]),a("div",{staticClass:"flex"},[a("vs-input-number",{attrs:{min:"0"},model:{value:t.position,callback:function(e){t.position=e},expression:"position"}})],1)])]),a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col w-full"},[a("vs-checkbox",{model:{value:t.disabled,callback:function(e){t.disabled=e},expression:"disabled"}},[t._v(t._s(t.$t("DISABLED")))])],1)])]),a("tab-content",{attrs:{title:t.$t("NOTES"),icon:"far fa-sticky-note"}},[a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col w-full"},[a("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("INPUT_NOTES")))]),a("div",{staticClass:"code-editor"},[a("codemirror",{attrs:{options:t.vueOptions},model:{value:t.inputNotes,callback:function(e){t.inputNotes=e},expression:"inputNotes"}})],1)])]),a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col w-full"},[a("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("REVIEW_NOTES")))]),a("div",{staticClass:"code-editor"},[a("codemirror",{attrs:{options:t.vueOptions},model:{value:t.reviewNotes,callback:function(e){t.reviewNotes=e},expression:"reviewNotes"}})],1)])])])],2)],1)],1)},i=[],n=a("a34a"),o=a.n(n),r=a("946b"),l=a("2288"),c=a("93b8"),u=a("b2ba"),d=a("a795"),p=a("a601"),v=a("2ee4");function f(t,e,a,s,i,n,o){try{var r=t[n](o),l=r.value}catch(c){return void a(c)}r.done?e(l):Promise.resolve(l).then(s,i)}function y(t){return function(){var e=this,a=arguments;return new Promise(function(s,i){var n=t.apply(e,a);function o(t){f(n,s,i,o,r,"next",t)}function r(t){f(n,s,i,o,r,"throw",t)}o(void 0)})}}var m={name:"beneficiary-type-create",mixins:[r["a"],l["a"],c["a"]],components:{BeneficiaryTypeLookup:u["a"],FormWizard:v["FormWizard"],TabContent:v["TabContent"]},data:function(){return{typeName:"",parentTypeId:"",externalTypeId:"",typeBehaviours:[],typeBehaviourEnumId:"BEN_TYPE_BANK",disabled:!1,position:0,inputNotes:"",reviewNotes:""}},methods:{load:function(){var t=y(o.a.mark(function t(){var e;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this,p["a"].enumerations({enumTypeId:"BeneficiaryTypeBehaviour",orderByField:"sequenceNum,description"}).then(function(t){e.typeBehaviours=t.data.enumerationList||[]});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),selectBeneficiaryTypeRecord:function(t){this.parentTypeId=t.typeId||""},createBeneficiaryType:function(t){var e=this;this.startLoading("loading-container"),d["a"].createBeneficiaryType({typeName:this.typeName,externalTypeId:this.externalTypeId,parentTypeId:this.parentTypeId,typeBehaviourEnumId:this.typeBehaviourEnumId,disabled:this.disabled?"Y":"N",position:this.position,inputNotes:this.inputNotes,reviewNotes:this.reviewNotes}).then(function(a){e.stopLoading("loading-container"),200===a.status&&("stay"===t?(e.showSuccessAlert(a.data.messages),e.$refs.wizard.reset()):"view"===t?e.$router.push({name:"ViewBeneficiaryType",params:{id:a.data.typeId}}):e.$router.push({name:"BrowseBeneficiaryTypes"}))}).catch(function(t){e.stopLoading("loading-container"),e.showDangerAlert(t.response.data.errors)})},cancel:function(){this.$router.back()}},mounted:function(){this.load()}},b=m,w=a("2877"),h=Object(w["a"])(b,s,i,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d0bff6a.ec993903.js.map