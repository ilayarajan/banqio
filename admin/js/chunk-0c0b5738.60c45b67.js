(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c0b5738"],{"42d7":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("vs-popup",{attrs:{fullscreen:"",title:t.$t("LOCALIZATIONS"),active:t.activeInternal},on:{"update:active":function(a){t.activeInternal=a}}},[e("div",{ref:t.popupRef,staticClass:"vs-con-loading__container"},[t.alertActive?e("div",{staticClass:"alert-container"},[e("vs-alert",{staticClass:"mb-5",attrs:{active:t.alertActive,color:t.alertVariant,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(a){t.alertActive=a}}},[e("p",[t._v(t._s(t.alertMessage))])])],1):t._e(),t.localizationFormVisible?e("div",{staticClass:"inline-form p-4 mb-base"},[e("div",{staticClass:"nv-row mb-4"},[e("div",{staticClass:"nv-col w-full"},[e("vs-select",{staticClass:"w-full",attrs:{autocomplete:"",label:t.$t("LANGUAGE"),placeholder:t.$t("SELECT_VALUE")},model:{value:t.locale,callback:function(a){t.locale=a},expression:"locale"}},t._l(t.languages,function(t,a){return e("vs-select-item",{key:a,attrs:{value:t.locale,text:t.languageName}})}),1)],1)]),e("div",{staticClass:"nv-row mb-4"},[t.textarea?e("div",{staticClass:"nv-col w-full"},[e("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("DESCRIPTION")))]),e("vs-textarea",{staticClass:"w-full",model:{value:t.description,callback:function(a){t.description=a},expression:"description"}})],1):e("div",{staticClass:"nv-col w-full"},[e("vs-input",{staticClass:"w-full",attrs:{label:t.$t("LOCALIZED")},model:{value:t.localized,callback:function(a){t.localized=a},expression:"localized"}})],1)]),e("div",{staticClass:"nv-row"},[e("div",{staticClass:"nv-col w-full"},[e("div",{staticClass:"flex justify-between"},[e("vs-button",{staticClass:"px-5 py-3",attrs:{color:"primary",type:"border"},on:{click:t.hideLocalizationForm}},[t._v(t._s(t.$t("CANCEL")))]),e("vs-button",{staticClass:"px-5 py-3",on:{click:t.createLocalizedEntityField}},[t._v(t._s(t.$t("SUBMIT")))])],1)])])]):t._e(),e("vs-table",{staticClass:"mb-base",attrs:{data:t.localizationTableData,noDataText:t.localizationTableNoDataText,sst:!0,search:""},on:{search:t.filterLocalizationTable,sort:t.orderLocalizationTable},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.data;return t._l(i,function(a,n){return e("vs-tr",{key:n,attrs:{data:a}},[e("vs-td",{attrs:{data:i[n].locale}},[t._v("\n            "+t._s(i[n].locale)+"\n          ")]),e("vs-td",{attrs:{data:i[n].localized}},[t._v("\n            "+t._s(i[n].localized)+"\n          ")]),e("vs-td",{attrs:{data:i}},[e("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"danger","icon-pack":"far",icon:"fa-trash-alt"},on:{click:function(a){return t.deleteLocalizedEntityField(i[n])}}},[t._v(t._s(t.$t("DELETE")))])],1)],1)})}}])},[e("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[e("div",{staticClass:"flex flex-wrap-reverse items-center"},[e("vs-button",{staticClass:"p-3 mr-4",attrs:{disabled:t.localizationFormVisible,color:"primary",type:"filled",icon:"fa-plus","icon-pack":"far"},on:{click:t.showLocalizationForm}},[t._v(t._s(t.$t("ADD")))]),e("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:t.localizationTableBusy},on:{click:t.refreshLocalizationTable}},[t._v(t._s(t.$t("REFRESH")))])],1),e("div",{staticClass:"flex justify-end mr-4"},[e("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[e("span",{staticClass:"mx-2"},[t._v(t._s(t.localizationTablePagingInfo))]),e("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[e("span",{staticClass:"far fa-angle-down text-primary"}),e("vs-dropdown-menu",t._l(t.tablePageOptions,function(a,i){return e("vs-dropdown-item",{key:i,on:{click:function(e){t.localizationTablePerPage=a}}},[e("span",[t._v(t._s(a))])])}),1)],1)],1)])]),e("template",{slot:"thead"},[e("vs-th",{attrs:{"sort-key":"locale"}},[t._v("\n          "+t._s(this.$t("LANGUAGE"))+"\n        ")]),e("vs-th",{attrs:{"sort-key":"localized"}},[t._v("\n          "+t._s(this.$t("LOCALIZED"))+"\n        ")]),e("vs-th",[t._v("\n          "+t._s(this.$t("OPTIONS"))+"\n        ")])],1)],2),e("vs-pagination",{attrs:{total:t.localizationTableTotalPages,max:t.maxPaginationItems},model:{value:t.localizationTableCurrentPage,callback:function(a){t.localizationTableCurrentPage=a},expression:"localizationTableCurrentPage"}})],1)])},n=[],l=e("a34a"),o=e.n(l),s=e("946b"),r=e("93b8"),c=e("89b6"),u=e("b664"),p=e("36ad"),f={localizedEntityFields:function(t,a){return Object(p["a"])().get(t,{params:a})},createLocalizedEntityField:function(t,a){return Object(p["a"])().post(t,a)},deleteLocalizedEntityField:function(t,a){return Object(p["a"])().delete(t,{params:a})}},d={languages:function(t){return Object(p["a"])().get("/s1/commons/basic/language",{params:t})}};function b(t,a,e,i,n,l,o){try{var s=t[l](o),r=s.value}catch(c){return void e(c)}s.done?a(r):Promise.resolve(r).then(i,n)}function v(t){return function(){var a=this,e=arguments;return new Promise(function(i,n){var l=t.apply(a,e);function o(t){b(l,i,n,o,s,"next",t)}function s(t){b(l,i,n,o,s,"throw",t)}o(void 0)})}}var h={name:"nv-localization-popup",mixins:[s["a"],r["a"],u["a"],c["a"]],props:{path:{type:String,default:null,required:!0},fieldName:{type:String,default:null,required:!0},pkValue:{type:String,default:null,required:!0},textarea:{type:Boolean,default:!1},defaultLocalizationTableFilter:{type:String,default:null}},data:function(){return{localizationTableData:[],localizationTableFilter:this.defaultLocalizationTableFilter,localizationTableFilterTimer:null,localizationTableOrderBy:null,localizationTableContainer:this.popupRef,localizationTableBusy:!1,localizationTableTotalRows:0,localizationTableCurrentPage:1,localizationTablePerPage:10,localizationFormVisible:!1,locale:"en",languages:[],localized:""}},computed:{localizationTableNoDataText:function(){return this.localizationTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},localizationTableTotalPages:function(){return Math.ceil(this.localizationTableTotalRows/this.localizationTablePerPage)},localizationTablePagingInfo:function(){return this.pagingInfo(this.localizationTableCurrentPage,this.localizationTablePerPage,this.localizationTableTotalRows)}},methods:{load:function(){var t=v(o.a.mark(function t(){var a;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=this,d.languages({disabled:"N"}).then(function(t){a.languages=t.data.languageList||[]});case 2:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),loadLocalizationTableData:function(t){var a=this;return a.localizationTableBusy=!0,this.localizationTableContainer=t||this.localizationTableContainer,this.startLoading(this.localizationTableContainer),f.localizedEntityFields(this.path,{pageIndex:this.localizationTableCurrentPage-1,pageSize:this.localizationTablePerPage,filter:this.localizationTableFilter,orderByField:this.localizationTableOrderBy,fieldName:this.fieldName,pkValue:this.pkValue}).then(function(t){a.stopLoading(a.localizationTableContainer),a.localizationTableBusy=!1,a.localizationTableTotalRows=t.data.totalRows,a.localizationTableData=t.data.localizedEntityFieldList||[]})},refreshLocalizationTable:function(){this.loadLocalizationTableData()},filterLocalizationTable:function(t){var a=this;this.localizationTableFilter!==t?(clearTimeout(this.localizationTableFilterTimer),this.localizationTableFilterTimer=setTimeout(function(){a.localizationTableFilter=t,a.loadLocalizationTableData()},"750")):clearTimeout(this.localizationTableFilterTimer)},orderLocalizationTable:function(t,a){this.localizationTableOrderBy=(a?"":"-")+t,this.loadLocalizationTableData()},createLocalizedEntityField:function(){var t=this;f.createLocalizedEntityField(this.path,{locale:this.locale,localized:this.localized,fieldName:this.fieldName,pkValue:this.pkValue}).then(function(a){t.refreshLocalizationTable(),t.hideLocalizationForm()}).catch(function(a){t.showDangerAlert(a.response.data.errors)})},deleteLocalizedEntityField:function(t){var a=this;f.deleteLocalizedEntityField(this.path,{locale:t.locale,fieldName:t.fieldName,pkValue:t.pkValue}).then(function(t){200===t.status&&a.refreshLocalizationTable()}).catch(function(t){a.showDangerAlert(t.response.data.errors)})},showLocalizationForm:function(){this.localizationFormVisible=!0},hideLocalizationForm:function(){this.localizationFormVisible=!1}},watch:{localizationTableCurrentPage:function(){this.refreshLocalizationTable()},localizationTablePerPage:function(){this.refreshLocalizationTable()}},mounted:function(){this.load(),this.loadLocalizationTableData()},beforeDestroy:function(){this.$el.remove()}},y=h,T=e("2877"),m=Object(T["a"])(y,i,n,!1,null,null,null);a["a"]=m.exports},"4b12":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nv-card",[e("div",{staticClass:"flex flex-wrap-reverse items-center mb-base"},[e("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-chevron-left","icon-pack":"far"},on:{click:t.cancel}},[t._v(t._s(t.$t("BACK")))]),t.$acl.check("isBeneficiaryAll")?e("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-pen","icon-pack":"far"},on:{click:t.modify}},[t._v(t._s(t.$t("MODIFY")))]):t._e()],1),e("div",{staticClass:"row hover"},[e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("ID"))+":")]),e("span",[t._v(t._s(t.beneficiaryType.typeId))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("TYPE_NAME"))+":")]),e("span",[e("nv-localization-popup",{attrs:{active:t.popupActive,path:"/s1/beneficiary/beneficiaryType/localization",popupRef:"localizationModal",pkValue:this.$route.params.id,fieldName:"typeName"},on:{close:function(a){t.popupActive=!1}}}),e("vs-button",{staticClass:"m-0 p-0",attrs:{color:"primary",type:"flat"},on:{click:function(a){t.popupActive=!0}}},[e("i",{staticClass:"far fa-globe-africa mr-1 text-primary"})]),e("span",{class:t.disabledClass(t.beneficiaryType)},[t._v(t._s(t.beneficiaryType.typeName))])],1)]),t.beneficiaryType.parentTypeId?e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("PARENT_TYPE"))+":")]),e("span",[e("router-link",{attrs:{to:{name:"ViewBeneficiaryType",params:{id:t.beneficiaryType.parentTypeId}},title:t.beneficiaryType.parentTypeName}},[t._v(t._s(t.beneficiaryType.parentTypeName))])],1)]):t._e(),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("TYPE_BEHAVIOUR"))+":")]),e("span",[t._v(t._s(t.beneficiaryType.typeBehaviourDescription))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("EXTERNAL_ID"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.beneficiaryType.externalTypeId,"-")))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("POSITION"))+":")]),e("span",[t._v(t._s(t._f("placeholder")(t.beneficiaryType.position,"-")))])]),e("p",{staticClass:"info-row"},[e("span",[t._v(t._s(t.$t("CREATION_DATE"))+":")]),e("span",[t._v(t._s(t._f("formatUnixTimestamp")(t.beneficiaryType.creationDate)))])])]),t.beneficiaryType.inputNotes||t.beneficiaryType.reviewNotes?e("vs-collapse",{staticClass:"mt-base",attrs:{type:"border"}},[t.beneficiaryType.inputNotes?e("vs-collapse-item",[e("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n        "+t._s(t.$t("INPUT_NOTES"))+"\n      ")]),e("div",{domProps:{innerHTML:t._s(t.beneficiaryType.inputNotes)}})]):t._e(),t.beneficiaryType.reviewNotes?e("vs-collapse-item",[e("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n        "+t._s(t.$t("REVIEW_NOTES"))+"\n      ")]),e("div",{domProps:{innerHTML:t._s(t.beneficiaryType.reviewNotes)}})]):t._e()],1):t._e()],1)},n=[],l=e("a34a"),o=e.n(l),s=e("a795"),r=e("42d7"),c=e("9a2e");function u(t,a,e,i,n,l,o){try{var s=t[l](o),r=s.value}catch(c){return void e(c)}s.done?a(r):Promise.resolve(r).then(i,n)}function p(t){return function(){var a=this,e=arguments;return new Promise(function(i,n){var l=t.apply(a,e);function o(t){u(l,i,n,o,s,"next",t)}function s(t){u(l,i,n,o,s,"throw",t)}o(void 0)})}}var f={name:"beneficiary-type-view",mixins:[c["a"]],components:{NvLocalizationPopup:r["a"]},data:function(){return{beneficiaryType:{},popupActive:!1}},methods:{load:function(){var t=p(o.a.mark(function t(){var a;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=this,s["a"].beneficiaryTypes({typeId:this.$route.params.id}).then(function(t){a.beneficiaryType=t.data.beneficiaryTypeList[0]||{}});case 2:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),cancel:function(){this.$router.back()},modify:function(){this.$router.push({name:"ModifyBeneficiaryType",params:{id:this.$route.params.id}})}},mounted:function(){this.load()},watch:{$route:function(t,a){this.load()}}},d=f,b=e("2877"),v=Object(b["a"])(d,i,n,!1,null,null,null);a["default"]=v.exports},"89b6":function(t,a,e){"use strict";var i={props:{popupRef:{type:String,default:"popup"},active:{type:Boolean,default:!1},title:{type:String,default:null}},data:function(){return{activeInternal:!1}},methods:{selectRow:function(t){this.$emit("select-row",t),this.activeInternal=!1}},watch:{active:function(){this.activeInternal=this.active},activeInternal:function(){this.activeInternal||this.$emit("close")}}};a["a"]=i},"946b":function(t,a,e){"use strict";var i={data:function(){return{alertActive:!1,alertMessage:this.$t("UNKNOWN_ERROR"),alertVariant:"danger"}},methods:{showAlert:function(t,a){this.alertMessage=a||this.$t("UNKNOWN_ERROR"),this.alertVariant=t,this.alertActive=!0},showSuccessAlert:function(t){this.showAlert("success",t)},showDangerAlert:function(t){this.showAlert("danger",t)},showWarningAlert:function(t){this.showAlert("warning",t)},showInfoAlert:function(t){this.showAlert("info",t)}}};a["a"]=i},"9a2e":function(t,a,e){"use strict";var i={methods:{disabledClass:function(t){return"Y"===t.disabled?"line-through":""}}};a["a"]=i},a795:function(t,a,e){"use strict";var i=e("36ad");a["a"]={beneficiaryTypes:function(t){return Object(i["a"])().get("/s1/beneficiary/beneficiaryType",{params:t})},createBeneficiaryType:function(t){return Object(i["a"])().post("/s1/beneficiary/beneficiaryType",t)},modifyBeneficiaryType:function(t){return Object(i["a"])().patch("/s1/beneficiary/beneficiaryType",t)},beneficiaryTypeTree:function(t){return Object(i["a"])().get("/s1/beneficiary/beneficiaryType/tree",{params:t})}}}}]);
//# sourceMappingURL=chunk-0c0b5738.60c45b67.js.map