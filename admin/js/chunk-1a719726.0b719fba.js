(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a719726"],{4013:function(t,e,r){"use strict";var a=r("36ad");e["a"]={reports:function(t){return Object(a["a"])().get("/s1/report/report",{params:t})},createReport:function(t){return Object(a["a"])().post("/s1/report/report",t)},modifyReport:function(t){return Object(a["a"])().patch("/s1/report/report",t)},reportParameters:function(t){return Object(a["a"])().get("/s1/report/report/".concat(t.reportId,"/parameter"),{params:t})},createReportParameter:function(t){return Object(a["a"])().post("/s1/report/report/".concat(t.reportId,"/parameter"),t)},modifyReportParameter:function(t){return Object(a["a"])().patch("/s1/report/report/".concat(t.reportId,"/parameter"),t)},reportPrices:function(t){return Object(a["a"])().get("/s1/report/report/".concat(t.reportId,"/price"),{params:t})},createReportPrice:function(t){return Object(a["a"])().post("/s1/report/report/".concat(t.reportId,"/price"),t)},modifyReportPrice:function(t){return Object(a["a"])().patch("/s1/report/report/".concat(t.reportId,"/price"),t)},expireReportPrice:function(t){return Object(a["a"])().delete("/s1/report/report/".concat(t.reportId,"/price"),{params:t})},reportApps:function(t){return Object(a["a"])().get("/s1/report/report/app",{params:t})},createReportApp:function(t){return Object(a["a"])().post("/s1/report/report/app",t)},deleteReportApp:function(t){return Object(a["a"])().delete("/s1/report/report/app",{params:t})},runReport:function(t){return Object(a["a"])().post("/s1/report/report/".concat(t.reportId,"/run"),t)},reportWorkflowInstances:function(t){return Object(a["a"])().get("/s1/report/report/workflow/instance",{params:t})}}},6198:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.alertActive?r("div",{staticClass:"alert-container"},[r("vs-alert",{staticClass:"mb-5",attrs:{active:t.alertActive,color:t.alertVariant,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(e){t.alertActive=e}}},[r("p",[t._v(t._s(t.alertMessage))])])],1):t._e(),r("nv-card",{staticClass:"mb-base vs-con-loading__container",attrs:{id:"params-loading-container"}},[r("h4",{staticClass:"mb-base"},[t.report.iconClass?r("i",{class:[t.report.iconClass,"mr-1"]}):t._e(),t._v(" "+t._s(t.report.reportName))]),t.report.runNotes?r("div",{staticClass:"code-editor p-4 mb-base"},[r("markdown-it-vue",{attrs:{content:t.report.runNotes}})],1):t._e(),r("h5",{staticClass:"mb-2"},[t._v(t._s(t.$t("PARAMETERS")))]),r("div",{staticClass:"mb-base"},[0===t.inputParameterList.length?r("div",[r("vs-alert",{attrs:{active:"true",color:"primary"}},[r("i",{staticClass:"far fa-check-circle pr-1"}),t._v(" "+t._s(t.$t("NO_PARAMETERS"))+"\n        ")])],1):t._e(),t._l(t.inputParameterList,function(e,a){return["RPT_PARAM_TYPE_CONTEXT"!==e.parameterTypeEnumId?r("div",{key:a,staticClass:"nv-row mb-4"},[r("div",{staticClass:"nv-col w-full",class:"Y"===e.mandatory?"required":""},[r("label",{staticClass:"vs-input--label"},[t._v(t._s(e.displayName))]),"RPT_PARAM_TYPE_NUMBER"===e.parameterTypeEnumId?[r("vs-input",{staticClass:"w-full",attrs:{type:"number"},model:{value:e.parameterValue,callback:function(r){t.$set(e,"parameterValue",r)},expression:"parameter.parameterValue"}})]:"RPT_PARAM_TYPE_DATE"===e.parameterTypeEnumId?[r("nv-input-group",[r("template",{slot:"append"},[r("div",{staticClass:"append-text bg-dark"},[r("i",{staticClass:"far fa-calendar-alt"})])]),r("datepicker",{staticClass:"w-full",attrs:{placeholder:t.$t("SELECT_DATE"),format:t.dateFormat},model:{value:e.parameterValue,callback:function(r){t.$set(e,"parameterValue",r)},expression:"parameter.parameterValue"}})],2)]:[r("vs-input",{staticClass:"w-full",model:{value:e.parameterValue,callback:function(r){t.$set(e,"parameterValue",r)},expression:"parameter.parameterValue"}})]],2)]):t._e()]})],2),r("div",{staticClass:"nv-row"},[r("div",{staticClass:"nv-col w-full"},[r("div",{staticClass:"flex justify-between"},[r("vs-button",{staticClass:"px-5 py-3",attrs:{color:"primary",type:"border"},on:{click:t.cancel}},[t._v(t._s(t.$t("CANCEL")))]),r("vs-button",{staticClass:"px-5 py-3",attrs:{color:"primary",type:"filled",disabled:t.resultTableBusy},on:{click:t.run}},[t._v(t._s(t.$t("SUBMIT")))])],1)])])]),t.resultTableVisible?[r("nv-card",{staticClass:"vs-con-loading__container",attrs:{id:"result-loading-container"}},[r("vs-table",{attrs:{data:t.resultTableData,noDataText:t.resultTableNoDataText,search:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,function(e,s){return r("vs-tr",{key:s,attrs:{data:e}},t._l(t.outputParameterList,function(e,n){return r("vs-td",{key:n},["RPT_PARAM_TYPE_NUMBER"===e.parameterTypeEnumId?[t._v("\n                "+t._s(t._f("placeholder")(t._f("currency")(a[s][e.parameterName],""),"-"))+"\n              ")]:"RPT_PARAM_TYPE_DATE"===e.parameterTypeEnumId?[t._v("\n                "+t._s(t._f("placeholder")(t._f("formatUnixDate")(a[s][e.parameterName]),"-"))+"\n              ")]:[t._v("\n                "+t._s(t._f("placeholder")(a[s][e.parameterName],"-"))+"\n              ")]],2)}),1)})}}],null,!1,2414382520)},[r("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[r("div",{staticClass:"flex flex-wrap-reverse items-center"},[r("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-file-excel","icon-pack":"fal"},on:{click:function(e){return t.exportXls(t.resultTableData,t.columnDefs)}}},[t._v(t._s(t.$t("EXPORT_XLS")))]),r("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-file-csv","icon-pack":"fal"},on:{click:function(e){return t.exportCsv(t.resultTableData,t.columnDefs)}}},[t._v(t._s(t.$t("EXPORT_CSV")))])],1),r("div",{staticClass:"flex justify-end mr-4"},[r("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[r("span",{staticClass:"mx-2"},[t._v(t._s(t.resultTablePagingInfo))])])])]),r("template",{slot:"thead"},t._l(t.outputParameterList,function(e,a){return r("vs-th",{key:a,attrs:{"sort-key":e.parameterName}},[t._v("\n            "+t._s(e.displayName)+"\n          ")])}),1)],2)],1)]:t._e()],2)},s=[],n=r("a34a"),o=r.n(n),i=r("946b"),l=r("5f4f"),p=r("b664"),c=r("93b8"),u=r("4013"),d=r("fa33"),m=r("48cd"),f=r.n(m);function b(t,e,r,a,s,n,o){try{var i=t[n](o),l=i.value}catch(p){return void r(p)}i.done?e(l):Promise.resolve(l).then(a,s)}function _(t){return function(){var e=this,r=arguments;return new Promise(function(a,s){var n=t.apply(e,r);function o(t){b(n,a,s,o,i,"next",t)}function i(t){b(n,a,s,o,i,"throw",t)}o(void 0)})}}var v={name:"report-run",mixins:[i["a"],l["a"],p["a"],c["a"]],components:{Datepicker:d["a"],MarkdownItVue:f.a},data:function(){return{reportId:this.$route.params.id,report:{},inputParameterList:[],outputParameterList:[],resultTableData:[],resultTableContainer:"result-loading-container",resultTableBusy:!1,resultTableTotalRows:0,resultTableCurrentPage:1,resultTablePerPage:10,resultTableVisible:!1}},computed:{resultTableNoDataText:function(){return this.resultTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},resultTablePagingInfo:function(){return this.pagingInfo(this.resultTableCurrentPage,this.resultTablePerPage,this.resultTableTotalRows)},columnDefs:function(){for(var t=this,e=[],r=0;r<this.outputParameterList.length;r++){var a={headerName:t.outputParameterList[r].displayName,field:t.outputParameterList[r].parameterName};"RPT_PARAM_TYPE_DATE"===this.outputParameterList[r].parameterTypeEnumId?a.format="Date":"RPT_PARAM_TYPE_NUMBER"===this.outputParameterList[r].parameterTypeEnumId?a.format="Number":"RPT_PARAM_TYPE_DECIMAL"===this.outputParameterList[r].parameterTypeEnumId&&(a.format="Decimal"),e.push(a)}return e}},methods:{load:function(){var t=_(o.a.mark(function t(){var e;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this,e.startLoading("params-loading-container"),u["a"].reportApps({reportId:this.reportId}).then(function(t){e.report=t.data.reportAppList[0]||{}}).catch(function(t){e.showDangerAlert(t.response.data.errors)}),u["a"].reportParameters({reportId:this.reportId,parameterDirectionEnumId:"RPT_PARAM_DIR_IN",disabled:"N",pageNoLimit:!0}).then(function(t){e.inputParameterList=t.data.reportParameterList||[]}),u["a"].reportParameters({reportId:this.reportId,parameterDirectionEnumId:"RPT_PARAM_DIR_OUT",disabled:"N",pageNoLimit:!0}).then(function(t){e.outputParameterList=t.data.reportParameterList||[],e.stopLoading("params-loading-container")});case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),run:function(){for(var t=[],e=0;e<this.inputParameterList.length;e++)t.push({parameterId:this.inputParameterList[e].parameterId,parameterValue:this.inputParameterList[e].parameterValue});var r=this;this.resultTableBusy=!0,r.startLoading("params-loading-container"),this.startLoading(this.resultTableContainer),u["a"].runReport({reportId:this.reportId,parameters:JSON.stringify(t)}).then(function(t){r.stopLoading("params-loading-container"),r.stopLoading(r.resultTableContainer),r.resultTableBusy=!1,t.data.inlineDataList?(r.resultTableData=t.data.inlineDataList||[],r.resultTableTotalRows=r.resultTableData.length,r.resultTablePerPage=r.resultTableData.length,r.resultTableVisible=!0):t.data.instanceId&&r.showSuccessAlert(t.data.messages)}).catch(function(t){r.stopLoading("params-loading-container"),r.stopLoading(r.resultTableContainer),r.resultTableBusy=!1,r.showDangerAlert(t.response.data.errors)})},cancel:function(){this.$router.back()}},mounted:function(){this.load()}},T=v,h=r("2877"),P=Object(h["a"])(T,a,s,!1,null,null,null);e["default"]=P.exports}}]);
//# sourceMappingURL=chunk-1a719726.0b719fba.js.map