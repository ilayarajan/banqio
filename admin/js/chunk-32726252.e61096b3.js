(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32726252"],{"31b2":function(e,t,s){"use strict";var a=s("19e6"),r=s("9a2e"),i=s("93b8"),o=s("b664"),l={mixins:[r["a"],i["a"],o["a"]],props:{defaultUserGroupTableFilter:{class:String,default:null},defaultUserGroupTableOrderBy:{type:String,default:null}},data:function(){return{userGroupData:[],userGroupTableData:[],userGroupTableFilterTimer:null,userGroupTableFilter:this.defaultUserGroupTableFilter,userGroupTableOrderBy:this.defaultUserGroupTableOrderBy,userGroupTableContainer:"loading-container",userGroupTableBusy:!1,userGroupTableTotalRows:0,userGroupTableCurrentPage:1,userGroupTablePerPage:10}},computed:{userGroupTableNoDataText:function(){return this.userGroupTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},userGroupTableTotalPages:function(){return Math.ceil(this.userGroupTableTotalRows/this.userGroupTablePerPage)},userGroupTablePagingInfo:function(){return this.pagingInfo(this.userGroupTableCurrentPage,this.userGroupTablePerPage,this.userGroupTableTotalRows)}},methods:{loadUserGroupTableData:function(e){var t=this;this.userGroupTableBusy=!0,this.userGroupTableContainer=e||this.userGroupTableContainer,this.startLoading(this.userGroupTableContainer),a["a"].userGroups({pageIndex:this.userGroupTableCurrentPage-1,pageSize:this.userGroupTablePerPage,filter:this.userGroupTableFilter,orderByField:this.userGroupTableOrderBy}).then(function(e){t.stopLoading(t.userGroupTableContainer),t.userGroupTableBusy=!1,t.userGroupTableTotalRows=e.data.totalRows,t.userGroupTableData=e.data.userGroupList||[]}).catch(function(e){t.stopLoading(t.userGroupTableContainer),t.userGroupTableBusy=!1,t.$emit("show-alert","danger",e.response.data.errors)})},refreshUserGroupTable:function(){this.loadUserGroupTableData()},filterUserGroupTable:function(e){var t=this;this.userGroupTableFilter!==e?(clearTimeout(this.userGroupTableFilterTimer),this.userGroupTableFilterTimer=setTimeout(function(){t.userGroupTableFilter=e,t.loadUserGroupTableData()},"750")):clearTimeout(this.userGroupTableFilterTimer)},orderUserGroupTable:function(e,t){this.userGroupTableOrderBy=(t?"":"-")+e,this.loadUserGroupTableData()}},watch:{userGroupTableCurrentPage:function(){this.refreshUserGroupTable()},userGroupTablePerPage:function(){this.refreshUserGroupTable()}}};t["a"]=l},"3c84":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("user-group-popup",{attrs:{title:e.title,popupRef:e.popupRef,active:e.popupActive,defaultUserGroupTableFilter:e.defaultTableFilter},on:{"select-row":e.selectRow,close:function(t){e.popupActive=!1}}}),s("vue-simple-suggest",{ref:e.suggestRef,attrs:{list:e.getList,debounce:200,"nullable-select":!0,"value-attribute":e.valueField,"display-attribute":e.displayField},on:{select:e.selectSuggestion},scopedSlots:e._u([{key:"misc-item-above",fn:function(t){var a=t.suggestions,r=t.query;return[s("div",{staticClass:"misc-item"},[s("span",[e._v(e._s(e.$t("SEARCHING_FOR"))+" '"+e._s(r)+"'.")])]),a.length>0?[s("div",{staticClass:"misc-item"},[s("span",[e._v(e._s(a.length)+" "+e._s(e.$t("RESULTS_FOUND"))+" ...")])]),s("hr")]:e.loading?e._e():s("div",{staticClass:"misc-item"},[s("span",[e._v(e._s(e.$t("NO_RESULTS_FOUND")))])])]}},{key:"suggestion-item",fn:function(t){return s("div",{attrs:{title:t.suggestion.description}},[s("div",{staticClass:"text"},[s("span",{domProps:{innerHTML:e._s(e.boldenSuggestion(t))}})])])}},{key:"misc-item-below",fn:function(t){var a=t.suggestions;return e.loading?s("div",{staticClass:"misc-item"},[s("span",[e._v(e._s(e.$t("LOADING"))+" ...")]),e._v("\n      "+e._s(a)+"\n    ")]):e._e()}}],null,!0),model:{value:e.mutableRecordDisplay,callback:function(t){e.mutableRecordDisplay=t},expression:"mutableRecordDisplay"}},[s("div",{staticClass:"g"},[s("nv-input-group",[s("vs-input",{staticClass:"w-full lookup-input",model:{value:e.mutableRecordDisplay,callback:function(t){e.mutableRecordDisplay=t},expression:"mutableRecordDisplay"}}),s("template",{slot:"append"},[s("div",{staticClass:"append-text btn-addon"},[s("vs-button",{attrs:{disabled:!e.mutableRecordDisplay,color:"primary"},on:{click:e.clear}},[s("i",{staticClass:"far fa-eraser"})]),s("vs-button",{attrs:{color:"primary"},on:{click:function(t){e.popupActive=!0}}},[s("i",{staticClass:"far fa-search"})])],1)])],2)],1)])],1)},r=[],i=s("e229"),o=s.n(i),l=s("d5c2"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("vs-popup",{attrs:{fullscreen:"",title:e.title,active:e.activeInternal},on:{"update:active":function(t){e.activeInternal=t}}},[s("div",{ref:e.popupRef,staticClass:"vs-con-loading__container"},[s("vs-table",{staticClass:"mb-base",attrs:{data:e.userGroupTableData,noDataText:e.userGroupTableNoDataText,sst:!0,search:""},on:{search:e.filterUserGroupTable,sort:e.orderUserGroupTable,selected:e.selectRow},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.data;return e._l(a,function(t,r){return s("vs-tr",{key:r,attrs:{data:t}},[s("vs-td",{attrs:{data:a[r].userGroupId}},[e._v("\n            "+e._s(a[r].userGroupId)+"\n          ")]),s("vs-td",{attrs:{data:a[r].description}},[s("span",{class:e.disabledClass(a[r])},[e._v(e._s(a[r].description))])])],1)})}}])},[s("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[s("div",{staticClass:"flex flex-wrap-reverse items-center"},[s("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:e.userGroupTableBusy},on:{click:function(t){return e.loadUserGroupTableData(e.popupRef)}}},[e._v(e._s(e.$t("REFRESH")))])],1),s("div",{staticClass:"flex justify-end mr-4"},[s("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[s("span",{staticClass:"mx-2"},[e._v(e._s(e.userGroupTablePagingInfo))]),s("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[s("span",{staticClass:"far fa-angle-down text-primary"}),s("vs-dropdown-menu",e._l(e.tablePageOptions,function(t,a){return s("vs-dropdown-item",{key:a,on:{click:function(s){e.userGroupTablePerPage=t}}},[s("span",[e._v(e._s(t))])])}),1)],1)],1)])]),s("template",{slot:"thead"},[s("vs-th",{attrs:{"sort-key":"userGroupId"}},[e._v("\n          "+e._s(this.$t("ID"))+"\n        ")]),s("vs-th",{attrs:{"sort-key":"description"}},[e._v("\n          "+e._s(this.$t("GROUP_NAME"))+"\n        ")])],1)],2),s("vs-pagination",{attrs:{total:e.userGroupTableTotalPages,max:e.maxPaginationItems},model:{value:e.userGroupTableCurrentPage,callback:function(t){e.userGroupTableCurrentPage=t},expression:"userGroupTableCurrentPage"}})],1)])},u=[],c=s("89b6"),p=s("31b2"),d={name:"user-group-popup",mixins:[c["a"],p["a"]],mounted:function(){this.loadUserGroupTableData(this.popupRef)},beforeDestroy:function(){this.$el.remove()}},f=d,b=s("2877"),v=Object(b["a"])(f,n,u,!1,null,null,null),m=v.exports,h=s("19e6"),T={name:"user-group-lookup",mixins:[l["a"]],components:{VueSimpleSuggest:o.a,UserGroupPopup:m},methods:{getList:function(e){var t=this;return t.loading=!0,new Promise(function(s,a){return h["a"].userGroups({pageIndex:0,pageSize:10,orderByField:"description",filter:e}).then(function(e){t.loading=!1;var a=e.data.userGroupList||[];s(a)}).catch(function(e){t.loading=!1,a(e)})})}}},_=T,g=Object(b["a"])(_,a,r,!1,null,null,null);t["a"]=g.exports},a27d:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.alertActive?s("div",{staticClass:"alert-container"},[s("vs-alert",{staticClass:"mb-5",attrs:{active:e.alertActive,color:e.alertVariant,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(t){e.alertActive=t}}},[s("p",[e._v(e._s(e.alertMessage))])])],1):e._e(),s("nv-card",[s("div",{staticClass:"flex flex-wrap-reverse items-center mb-base"},[s("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-chevron-left","icon-pack":"far"},on:{click:e.cancel}},[e._v(e._s(e.$t("BACK")))]),e.$acl.check("isNucleusAll")?s("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-pen","icon-pack":"far"},on:{click:e.modify}},[e._v(e._s(e.$t("MODIFY")))]):e._e(),e.$acl.check("isNucleusAll")&&"N"===e.user.approved?s("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-stamp","icon-pack":"far"},on:{click:e.approveUser}},[e._v(e._s(e.$t("APPROVE")))]):e._e(),e.$acl.check("isNucleusRescue")&&"Y"===e.user.disabled?s("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-check","icon-pack":"far"},on:{click:e.enableUser}},[e._v(e._s(e.$t("ENABLE")))]):e._e(),e.$acl.check("isNucleusRescue")&&"N"===e.user.disabled?s("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-ban","icon-pack":"far"},on:{click:e.disableUser}},[e._v(e._s(e.$t("DISABLE")))]):e._e(),e.$acl.check("isNucleusRescue")?s("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-key","icon-pack":"far"},on:{click:e.resetPassword}},[e._v(e._s(e.$t("RESET_PASSWORD")))]):e._e(),e.$acl.check("isNucleusRescue")?s("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-sign-out","icon-pack":"far"},on:{click:e.forceLogout}},[e._v(e._s(e.$t("FORCE_LOGOUT")))]):e._e()],1),s("div",{staticClass:"vs-row flex hover mb-base"},[s("div",{staticClass:"nv-col sm:w-1/2 w-full p-2"},[s("p",{staticClass:"info-row"},[s("span",[e._v(e._s(e.$t("ID"))+":")]),s("span",[e._v(e._s(e.user.userId))])]),e.user.partyId?s("p",{staticClass:"info-row"},[s("span",[e._v(e._s(e.$t("PARTY_ID"))+":")]),s("span",[s("router-link",{attrs:{to:{name:"ViewParty",params:{id:e.user.partyId}}}},[e._v(e._s(e.user.partyId))])],1)]):e._e(),s("p",{staticClass:"info-row"},[s("span",[e._v(e._s(e.$t("USERNAME"))+":")]),s("span",{class:e.disabledClass(e.user)},[e._v(e._s(e.user.username))])]),s("p",{staticClass:"info-row"},[s("span",[e._v(e._s(e.$t("CREATION_DATE"))+":")]),s("span",[e._v(e._s(e._f("formatUnixTimestamp")(e.user.creationDate)))])])]),s("div",{staticClass:"nv-col sm:w-1/2 w-full p-2"},[s("p",{staticClass:"info-row"},[s("span",[e._v(e._s(e.$t("APPROVED"))+":")]),s("span",[e._v(e._s(e._f("prettyBool")(e.user.approved)))])]),s("p",{staticClass:"info-row"},[s("span",[e._v(e._s(e.$t("APPROVED_BY"))+":")]),s("span",[e._v(e._s(e._f("placeholder")(e.user.approvedBy,"-")))])]),s("p",{staticClass:"info-row"},[s("span",[e._v(e._s(e.$t("APPROVAL_DATE"))+":")]),s("span",[e._v(e._s(e._f("formatUnixTimestamp")(e.user.approvalDate)))])])])]),s("vs-tabs",[s("vs-tab",{attrs:{label:e.$t("USER_GROUPS")}},[s("user-group-membership",{attrs:{userId:e.userId},on:{"show-alert":e.showAlert}})],1),s("vs-tab",{attrs:{label:e.$t("ACL")}},[s("user-acl",{attrs:{userId:e.userId},on:{"show-alert":e.showAlert}})],1)],1)],1)],1)},r=[],i=s("a34a"),o=s.n(i),l=s("946b"),n=s("9a2e"),u=s("19e6"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vs-con-loading__container",attrs:{id:"group-loading-container"}},[e.userGroupFormVisible?s("div",{staticClass:"inline-form p-4 mb-base"},[s("div",{staticClass:"nv-row mb-4"},[s("div",{staticClass:"nv-col w-full required"},[s("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("USER_GROUP")))]),s("user-group-lookup",{attrs:{title:e.$t("USER_GROUP"),valueField:"userGroupId",displayField:"description"},on:{"select-record":e.selectUserGroupRecord}})],1)]),s("div",{staticClass:"nv-row mb-4"},[s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("FROM_DATE")))]),s("nv-input-group",[s("template",{slot:"append"},[s("div",{staticClass:"append-text bg-dark"},[s("i",{staticClass:"far fa-calendar-alt"})])]),s("datepicker",{staticClass:"w-full",attrs:{placeholder:e.$t("SELECT_DATE"),format:e.dateFormat},model:{value:e.fromDate,callback:function(t){e.fromDate=t},expression:"fromDate"}})],2)],1),s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("TO_DATE")))]),s("nv-input-group",[s("template",{slot:"append"},[s("div",{staticClass:"append-text bg-dark"},[s("i",{staticClass:"far fa-calendar-alt"})])]),s("datepicker",{staticClass:"w-full",attrs:{placeholder:e.$t("SELECT_DATE"),format:e.dateFormat},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],2)],1)]),e.wiki?s("div",{staticClass:"nv-row mb-4"},[s("div",{staticClass:"nv-col w-full"},[s("div",{staticClass:"code-editor bg-white p-4"},[s("markdown-it-vue",{attrs:{content:e.wiki}})],1)])]):e._e(),s("div",{staticClass:"nv-row"},[s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("div",{staticClass:"flex justify-left"},[s("vs-button",{staticClass:"px-5 py-3 mr-2",attrs:{color:"primary",type:"filled"},on:{click:e.createUserGroupMembership}},[e._v(e._s(e.$t("SUBMIT")))]),s("vs-button",{staticClass:"px-5 py-3 mr-2",attrs:{color:"primary",type:"border"},on:{click:e.hideUserGroupForm}},[e._v(e._s(e.$t("CANCEL")))])],1)])])]):e._e(),s("vs-table",{staticClass:"mb-base",attrs:{data:e.userGroupTableData,noDataText:e.userGroupTableNoDataText,sst:!0,search:""},on:{search:e.filterUserGroupTable,sort:e.orderUserGroupTable},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.data;return e._l(a,function(t,r){return s("vs-tr",{key:r,attrs:{data:t}},[s("vs-td",{attrs:{data:a[r].userGroupId}},[s("router-link",{attrs:{to:{name:"ViewUserGroup",params:{id:a[r].userGroupId}}}},[e._v(e._s(a[r].userGroupId))])],1),s("vs-td",{attrs:{data:a[r].userGroupDescription}},[s("span",{class:e.disabledClass(a[r])},[e._v(e._s(a[r].userGroupDescription))])]),s("vs-td",{attrs:{data:a[r].fromDate}},[e._v("\n          "+e._s(e._f("formatUnixDate")(a[r].fromDate))+"\n        ")]),s("vs-td",{attrs:{data:a[r].thruDate}},[e._v("\n          "+e._s(e._f("formatUnixDate")(a[r].thruDate))+"\n        ")]),e.$acl.check("isNucleusAll")?s("vs-td",{attrs:{data:a[r].options}},[s("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"danger"},on:{click:function(t){return e.expireUserGroupMembership(a[r])}}},[e._v(e._s(e.$t("EXPIRE")))])],1):e._e()],1)})}}])},[s("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[s("div",{staticClass:"flex flex-wrap-reverse items-center"},[e.$acl.check("isNucleusAll")?s("vs-button",{staticClass:"p-3 mr-4",attrs:{disabled:e.userGroupFormVisible,color:"primary",type:"filled",icon:"fa-plus","icon-pack":"far"},on:{click:e.showUserGroupForm}},[e._v(e._s(e.$t("ADD")))]):e._e(),s("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:e.userGroupTableBusy},on:{click:e.refreshUserGroupTable}},[e._v(e._s(e.$t("REFRESH")))])],1),s("div",{staticClass:"flex justify-end mr-4"},[s("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[s("span",{staticClass:"mx-2"},[e._v(e._s(e.userGroupTablePagingInfo))]),s("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[s("span",{staticClass:"far fa-angle-down text-primary"}),s("vs-dropdown-menu",e._l(e.tablePageOptions,function(t,a){return s("vs-dropdown-item",{key:a,on:{click:function(s){e.userGroupTablePerPage=t}}},[s("span",[e._v(e._s(t))])])}),1)],1)],1)])]),s("template",{slot:"thead"},[s("vs-th",{attrs:{"sort-key":"userGroupId"}},[e._v("\n        "+e._s(this.$t("ID"))+"\n      ")]),s("vs-th",{attrs:{"sort-key":"userGroupDescription"}},[e._v("\n        "+e._s(this.$t("GROUP_NAME"))+"\n      ")]),s("vs-th",{attrs:{"sort-key":"fromDate"}},[e._v("\n        "+e._s(this.$t("FROM_DATE"))+"\n      ")]),s("vs-th",{attrs:{"sort-key":"thruDate"}},[e._v("\n        "+e._s(this.$t("TO_DATE"))+"\n      ")]),e.$acl.check("isNucleusAll")?s("vs-th",[e._v("\n        "+e._s(this.$t("OPTIONS"))+"\n      ")]):e._e()],1)],2),s("vs-pagination",{attrs:{total:e.userGroupTableTotalPages,max:e.maxPaginationItems},model:{value:e.userGroupTableCurrentPage,callback:function(t){e.userGroupTableCurrentPage=t},expression:"userGroupTableCurrentPage"}})],1)},p=[],d=s("5f4f"),f=s("93b8"),b=s("b664"),v=s("31b2"),m=s("3c84"),h=s("48cd"),T=s.n(h),_=s("fa33"),g={name:"user-group-membership",mixins:[d["a"],f["a"],b["a"],v["a"]],components:{UserGroupLookup:m["a"],MarkdownItVue:T.a,Datepicker:_["a"]},props:{userId:{type:String,required:!0}},data:function(){return{userGroupTableData:[],userGroupTableFilter:null,userGroupTableFilterTimer:null,userGroupTableOrderBy:null,userGroupTableContainer:"group-loading-container",userGroupTableBusy:!1,userGroupTableTotalRows:0,userGroupTableCurrentPage:1,userGroupTablePerPage:10,userGroupFormVisible:!1,userGroupId:null,wiki:null,fromDate:null,toDate:null}},computed:{userGroupTableNoDataText:function(){return this.userGroupTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},userGroupTableTotalPages:function(){return Math.ceil(this.userGroupTableTotalRows/this.userGroupTablePerPage)},userGroupTablePagingInfo:function(){return this.pagingInfo(this.userGroupTableCurrentPage,this.userGroupTablePerPage,this.userGroupTableTotalRows)}},methods:{loadUserGroupTableData:function(e){var t=this;this.userGroupTableBusy=!0,this.userGroupTableContainer=e||this.userGroupTableContainer,this.startLoading(this.userGroupTableContainer),u["a"].userGroupMemberships({pageIndex:this.userGroupTableCurrentPage-1,pageSize:this.userGroupTablePerPage,filter:this.userGroupTableFilter,orderByField:this.userGroupTableOrderBy,userId:this.userId}).then(function(e){t.stopLoading(t.userGroupTableContainer),t.userGroupTableBusy=!1,t.userGroupTableTotalRows=e.data.totalRows,t.userGroupTableData=e.data.userGroupMemberList||[]})},refreshUserGroupTable:function(){this.loadUserGroupTableData()},filterUserGroupTable:function(e){var t=this;this.userGroupTableFilter!==e?(clearTimeout(this.userGroupTableFilterTimer),this.userGroupTableFilterTimer=setTimeout(function(){t.userGroupTableFilter=e,t.loadUserGroupTableData()},"750")):clearTimeout(this.userGroupTableFilterTimer)},orderUserGroupTable:function(e,t){this.userGroupTableOrderBy=(t?"":"-")+e,this.loadUserGroupTableData()},showUserGroupForm:function(){this.userGroupFormVisible=!0},hideUserGroupForm:function(){this.userGroupFormVisible=!1,this.userGroupId="",this.wiki=""},selectUserGroupRecord:function(e){this.userGroupId=e.userGroupId||"",this.wiki=e.wiki||""},createUserGroupMembership:function(){var e=this;u["a"].createUserGroupMembership({userGroupId:this.userGroupId,userId:this.userId,fromDate:this.getTime(this.fromDate),toDate:this.getTime(this.toDate)}).then(function(t){e.refreshUserGroupTable(),e.hideUserGroupForm()}).catch(function(t){e.$emit("show-alert","danger",t.response.data.errors)})},expireUserGroupMembership:function(e){var t=this;u["a"].expireUserGroupMembership({userGroupId:e.userGroupId,userId:e.userId,fromDate:e.fromDate}).then(function(e){200===e.status&&t.refreshUserGroupTable()}).catch(function(e){t.$emit("show-alert","danger",e.response.data.errors)})}},mounted:function(){this.loadUserGroupTableData()},watch:{userGroupTableCurrentPage:function(){this.refreshUserGroupTable()},userGroupTablePerPage:function(){this.refreshUserGroupTable()}}},G=g,C=s("2877"),y=Object(C["a"])(G,c,p,!1,null,null,null),w=y.exports,D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vs-con-loading__container",attrs:{id:"acl-loading-container"}},[e.aclFormVisible?s("div",{staticClass:"inline-form p-4 mb-base"},[s("div",{staticClass:"nv-row mb-4"},[s("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[s("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("OBJECT_TYPE")))]),s("vs-select",{staticClass:"w-full",attrs:{autocomplete:"",placeholder:e.$t("SELECT_VALUE")},model:{value:e.objectTypeEnumId,callback:function(t){e.objectTypeEnumId=t},expression:"objectTypeEnumId"}},e._l(e.objectTypes,function(e,t){return s("vs-select-item",{key:t,attrs:{value:e.enumId,text:e.description}})}),1)],1),"OBJ_REPORT"===e.objectTypeEnumId?s("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[s("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("OBJECT_ID")))]),s("report-lookup",{attrs:{title:e.$t("REPORT"),valueField:"pseudoId",displayField:"reportName"},on:{"select-record":e.selectReportRecord}})],1):s("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[s("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("OBJECT_ID")))]),s("vs-input",{staticClass:"w-full",attrs:{disabled:"OBJ_ANY"===e.objectTypeEnumId},model:{value:e.objectId,callback:function(t){e.objectId=t},expression:"objectId"}})],1)]),s("div",{staticClass:"nv-row mb-4"},[s("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[s("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("PERMISSION_TYPE")))]),s("vs-select",{staticClass:"w-full",attrs:{autocomplete:"",placeholder:e.$t("SELECT_VALUE")},model:{value:e.permissionTypeEnumId,callback:function(t){e.permissionTypeEnumId=t},expression:"permissionTypeEnumId"}},e._l(e.permissionTypes,function(e,t){return s("vs-select-item",{key:t,attrs:{value:e.enumId,text:e.description}})}),1)],1),s("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[s("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("POSITION")))]),s("div",{staticClass:"flex"},[s("vs-input-number",{attrs:{min:"1",disabled:"OBJ_ANY"===e.objectTypeEnumId},model:{value:e.position,callback:function(t){e.position=t},expression:"position"}})],1)])]),s("div",{staticClass:"nv-row mb-4"},[s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("FROM_DATE")))]),s("nv-input-group",[s("template",{slot:"append"},[s("div",{staticClass:"append-text bg-dark"},[s("i",{staticClass:"far fa-calendar-alt"})])]),s("datepicker",{staticClass:"w-full",attrs:{placeholder:e.$t("SELECT_DATE"),format:e.dateFormat},model:{value:e.fromDate,callback:function(t){e.fromDate=t},expression:"fromDate"}})],2)],1),s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("label",{staticClass:"vs-input--label"},[e._v(e._s(e.$t("TO_DATE")))]),s("nv-input-group",[s("template",{slot:"append"},[s("div",{staticClass:"append-text bg-dark"},[s("i",{staticClass:"far fa-calendar-alt"})])]),s("datepicker",{staticClass:"w-full",attrs:{placeholder:e.$t("SELECT_DATE"),format:e.dateFormat},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],2)],1)]),s("div",{staticClass:"nv-row"},[s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("div",{staticClass:"flex justify-left"},[s("vs-button",{staticClass:"px-5 py-3 mr-2",attrs:{color:"primary",type:"filled"},on:{click:e.createUserAcl}},[e._v(e._s(e.$t("SUBMIT")))]),s("vs-button",{staticClass:"px-5 py-3 mr-2",attrs:{color:"primary",type:"border"},on:{click:e.hideAclForm}},[e._v(e._s(e.$t("CANCEL")))])],1)])])]):e._e(),s("vs-table",{staticClass:"mb-base",attrs:{data:e.aclTableData,noDataText:e.aclTableNoDataText,sst:!0,search:""},on:{search:e.filterAclTable,sort:e.orderAclTable},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.data;return e._l(a,function(t,r){return s("vs-tr",{key:r,attrs:{data:t}},[s("vs-td",{attrs:{data:a[r].position}},[e._v("\n          "+e._s(a[r].position)+"\n        ")]),s("vs-td",{attrs:{data:a[r].objectTypeDescription}},[e._v("\n          "+e._s(a[r].objectTypeDescription)+"\n        ")]),s("vs-td",{attrs:{data:a[r].objectId}},[e._v("\n          "+e._s(e._f("placeholder")(a[r].objectId,"-"))+"\n        ")]),s("vs-td",{attrs:{data:a[r].permissionTypeDescription}},[e._v("\n          "+e._s(a[r].permissionTypeDescription)+"\n        ")]),s("vs-td",{attrs:{data:a[r].fromDate}},[e._v("\n          "+e._s(e._f("formatUnixDate")(a[r].fromDate))+"\n        ")]),s("vs-td",{attrs:{data:a[r].toDate}},[e._v("\n          "+e._s(e._f("formatUnixDate")(a[r].toDate))+"\n        ")]),e.$acl.check("isNucleusAll")?s("vs-td",{attrs:{data:a[r].options}},[s("div",{staticClass:"flex"},["OBJ_ANY"!==a[r].objectTypeEnumId?s("vs-button",{staticClass:"p-1 mr-1",attrs:{color:"primary","icon-pack":"far",icon:"fa-arrow-up"},on:{click:function(t){return e.moveUp(a[r])}}}):e._e(),"OBJ_ANY"!==a[r].objectTypeEnumId?s("vs-button",{staticClass:"p-1 mr-1",attrs:{color:"primary","icon-pack":"far",icon:"fa-arrow-down"},on:{click:function(t){return e.moveDown(a[r])}}}):e._e(),s("vs-button",{staticClass:"p-3 mr-1",attrs:{color:"danger"},on:{click:function(t){return e.expireUserAcl(a[r])}}},[e._v(e._s(e.$t("EXPIRE")))])],1)]):e._e()],1)})}}])},[s("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[s("div",{staticClass:"flex flex-wrap-reverse items-center"},[e.$acl.check("isNucleusAll")?s("vs-button",{staticClass:"p-3 mr-4",attrs:{disabled:e.aclFormVisible,color:"primary",type:"filled",icon:"fa-plus","icon-pack":"far"},on:{click:e.showAclForm}},[e._v(e._s(e.$t("ADD")))]):e._e(),s("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:e.aclTableBusy},on:{click:e.refreshAclTable}},[e._v(e._s(e.$t("REFRESH")))])],1),s("div",{staticClass:"flex justify-end mr-4"},[s("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[s("span",{staticClass:"mx-2"},[e._v(e._s(e.aclTablePagingInfo))]),s("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[s("span",{staticClass:"far fa-angle-down text-primary"}),s("vs-dropdown-menu",e._l(e.tablePageOptions,function(t,a){return s("vs-dropdown-item",{key:a,on:{click:function(s){e.aclTablePerPage=t}}},[s("span",[e._v(e._s(t))])])}),1)],1)],1)])]),s("template",{slot:"thead"},[s("vs-th",{attrs:{"sort-key":"position"}},[e._v("#")]),s("vs-th",[e._v("\n        "+e._s(this.$t("OBJECT_TYPE"))+"\n      ")]),s("vs-th",[e._v("\n        "+e._s(e._f("placeholder")(this.$t("OBJECT_ID"),"-"))+"\n      ")]),s("vs-th",[e._v("\n        "+e._s(this.$t("PERMISSION_TYPE"))+"\n      ")]),s("vs-th",[e._v("\n        "+e._s(this.$t("FROM_DATE"))+"\n      ")]),s("vs-th",[e._v("\n        "+e._s(this.$t("TO_DATE"))+"\n      ")]),e.$acl.check("isNucleusAll")?s("vs-th",[e._v("\n        "+e._s(this.$t("OPTIONS"))+"\n      ")]):e._e()],1)],2),s("vs-pagination",{attrs:{total:e.aclTableTotalPages,max:e.maxPaginationItems},model:{value:e.aclTableCurrentPage,callback:function(t){e.aclTableCurrentPage=t},expression:"aclTableCurrentPage"}})],1)},I=[],k=s("971c"),P=s("a601"),A=s("5961");function x(e,t,s,a,r,i,o){try{var l=e[i](o),n=l.value}catch(u){return void s(u)}l.done?t(n):Promise.resolve(n).then(a,r)}function U(e){return function(){var t=this,s=arguments;return new Promise(function(a,r){var i=e.apply(t,s);function o(e){x(i,a,r,o,l,"next",e)}function l(e){x(i,a,r,o,l,"throw",e)}o(void 0)})}}var $={name:"user-acl",mixins:[k["a"],d["a"],f["a"],b["a"]],components:{Datepicker:_["a"],ReportLookup:A["a"]},props:{userId:{type:String,required:!0}},data:function(){return{aclTableData:[],aclTableFilter:null,aclTableFilterTimer:null,aclTableOrderBy:"position",aclTableContainer:"acl-loading-container",aclTableBusy:!1,aclTableTotalRows:0,aclTableCurrentPage:1,aclTablePerPage:10,aclFormVisible:!1,position:1,objectId:"",objectTypeEnumId:"OBJ_ANY",objectTypes:[],permissionTypeEnumId:"PERM_NONE",permissionTypes:[],fromDate:null,toDate:null}},computed:{aclTableNoDataText:function(){return this.aclTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},aclTableTotalPages:function(){return Math.ceil(this.aclTableTotalRows/this.aclTablePerPage)},aclTablePagingInfo:function(){return this.pagingInfo(this.aclTableCurrentPage,this.aclTablePerPage,this.aclTableTotalRows)}},methods:{load:function(){var e=U(o.a.mark(function e(){var t;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this,P["a"].enumerations({enumTypeId:"ObjectType",orderByField:"sequenceNum,description"}).then(function(e){t.objectTypes=e.data.enumerationList||[]}),P["a"].enumerations({enumTypeId:"PermissionType",orderByField:"sequenceNum,description"}).then(function(e){t.permissionTypes=e.data.enumerationList||[]});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),loadAclTableData:function(e){var t=this;this.aclTableBusy=!0,this.aclTableContainer=e||this.aclTableContainer,this.startLoading(this.aclTableContainer),u["a"].userAcls({pageIndex:this.aclTableCurrentPage-1,pageSize:this.aclTablePerPage,filter:this.aclTableFilter,orderByField:this.aclTableOrderBy,userId:this.userId}).then(function(e){t.stopLoading(t.aclTableContainer),t.aclTableBusy=!1,t.aclTableTotalRows=e.data.totalRows,t.aclTableData=e.data.userAclList||[]})},refreshAclTable:function(){this.loadAclTableData()},filterAclTable:function(e){var t=this;this.aclTableFilter!==e?(clearTimeout(this.aclTableFilterTimer),this.aclTableFilterTimer=setTimeout(function(){t.aclTableFilter=e,t.loadAclTableData()},"750")):clearTimeout(this.aclTableFilterTimer)},orderAclTable:function(e,t){this.aclTableOrderBy=(t?"":"-")+e,this.loadAclTableData()},showAclForm:function(){this.aclFormVisible=!0},hideAclForm:function(){this.aclFormVisible=!1},createUserAcl:function(){var e=this;u["a"].createUserAcl({userId:this.userId,position:this.position,objectId:this.objectId,objectTypeEnumId:this.objectTypeEnumId,permissionTypeEnumId:this.permissionTypeEnumId,fromDate:this.getTime(this.fromDate),toDate:this.getTime(this.toDate)}).then(function(t){e.refreshAclTable(),e.hideAclForm()}).catch(function(t){e.$emit("show-alert","danger",t.response.data.errors)})},expireUserAcl:function(e){var t=this;u["a"].expireUserAcl({userId:this.userId,itemId:e.itemId}).then(function(e){200===e.status&&t.refreshAclTable()}).catch(function(e){t.$emit("show-alert","danger",e.response.data.errors)})},moveUp:function(e){var t=this;u["a"].modifyUserAcl({userId:this.userId,itemId:e.itemId,position:e.position-1}).then(function(e){t.refreshAclTable()}).catch(function(e){t.$emit("show-alert","danger",e.response.data.errors)})},moveDown:function(e){var t=this;u["a"].modifyUserAcl({userId:this.userId,itemId:e.itemId,position:e.position+1}).then(function(e){t.refreshAclTable()}).catch(function(e){t.$emit("show-alert","danger",e.response.data.errors)})},selectReportRecord:function(e){this.objectId=e.pseudoId}},mounted:function(){this.load(),this.loadAclTableData()},watch:{aclTableCurrentPage:function(){this.refreshAclTable()},aclTablePerPage:function(){this.refreshAclTable()},objectTypeEnumId:function(){this.objectId=""}}},E=$,R=Object(C["a"])(E,D,I,!1,null,null,null),F=R.exports;function O(e,t,s,a,r,i,o){try{var l=e[i](o),n=l.value}catch(u){return void s(u)}l.done?t(n):Promise.resolve(n).then(a,r)}function N(e){return function(){var t=this,s=arguments;return new Promise(function(a,r){var i=e.apply(t,s);function o(e){O(i,a,r,o,l,"next",e)}function l(e){O(i,a,r,o,l,"throw",e)}o(void 0)})}}var B={name:"user-view",mixins:[l["a"],n["a"]],components:{UserGroupMembership:w,UserAcl:F},data:function(){return{user:{},userId:this.$route.params.id,popupActive:!1}},methods:{load:function(){var e=N(o.a.mark(function e(){var t;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this,u["a"].users({userId:this.userId}).then(function(e){t.user=e.data.userList[0]||{}});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),approveUser:function(){var e=this;u["a"].approveUser({userId:this.userId}).then(function(t){e.showSuccessAlert(t.data.messages),e.load()}).catch(function(t){e.showDangerAlert(t.response.data.errors)})},enableUser:function(){var e=this;u["a"].enableUser({userId:this.userId}).then(function(t){e.showSuccessAlert(t.data.messages),e.load()}).catch(function(t){e.showDangerAlert(t.response.data.errors)})},disableUser:function(){var e=this;u["a"].disableUser({userId:this.userId}).then(function(t){e.showSuccessAlert(t.data.messages),e.load()}).catch(function(t){e.showDangerAlert(t.response.data.errors)})},forceLogout:function(){var e=this;u["a"].forceLogoutUser({userId:this.$route.params.id}).then(function(t){e.showSuccessAlert(t.data.messages)}).catch(function(t){e.showDangerAlert(t.response.data.errors)})},cancel:function(){this.$router.back()},modify:function(){this.$router.push({name:"ModifyUser",params:{id:this.$route.params.id}})},resetPassword:function(){this.$router.push({name:"ResetUserPassword",params:{id:this.$route.params.id}})}},mounted:function(){this.load()}},S=B,j=Object(C["a"])(S,a,r,!1,null,null,null);t["default"]=j.exports}}]);
//# sourceMappingURL=chunk-32726252.e61096b3.js.map