(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bc3a094"],{"1e76":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.alertActive?a("div",{staticClass:"alert-container"},[a("vs-alert",{staticClass:"mb-5",attrs:{active:t.alertActive,color:t.alertVariant,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(e){t.alertActive=e}}},[a("p",[t._v(t._s(t.alertMessage))])])],1):t._e(),a("nv-card",[a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[a("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("TEMPLATE_NAME")))]),a("vs-input",{staticClass:"w-full",model:{value:t.template.templateName,callback:function(e){t.$set(t.template,"templateName",e)},expression:"template.templateName"}})],1),a("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[a("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("ALERT_TYPE")))]),a("vs-select",{staticClass:"w-full",attrs:{autocomplete:""},model:{value:t.template.alertTypeEnumId,callback:function(e){t.$set(t.template,"alertTypeEnumId",e)},expression:"template.alertTypeEnumId"}},t._l(t.alertTypes,function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.enumId,text:t.description}})}),1)],1)]),a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col w-full"},[a("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("BODY")))]),a("div",{staticClass:"code-editor"},[a("codemirror",{attrs:{options:t.vueOptions},model:{value:t.template.body,callback:function(e){t.$set(t.template,"body",e)},expression:"template.body"}})],1)])]),"ALERT_EMAIL"===t.template.alertTypeEnumId?a("div",{staticClass:"nv-row mb-base"},[a("div",{staticClass:"nv-col w-full"},[a("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("STYLE")))]),a("div",{staticClass:"code-editor"},[a("codemirror",{attrs:{options:t.cssOptions},model:{value:t.template.style,callback:function(e){t.$set(t.template,"style",e)},expression:"template.style"}})],1)])]):t._e(),a("div",{staticClass:"nv-row"},[a("div",{staticClass:"nv-col w-full"},[a("div",{staticClass:"flex justify-between"},[a("vs-button",{staticClass:"px-5 py-3",attrs:{color:"primary",type:"border"},on:{click:t.cancel}},[t._v(t._s(t.$t("CANCEL")))]),a("div",{staticClass:"dropdown-button-container"},[a("vs-button",{staticClass:"btnx",attrs:{type:"filled"},on:{click:function(e){return t.modifyAlertTemplate("browse")}}},[t._v(t._s(t.$t("SUBMIT")))]),a("vs-dropdown",{attrs:{"vs-trigger-click":""}},[a("vs-button",{staticClass:"btn-drop",attrs:{type:"filled",icon:"fa-angle-down","icon-pack":"far"}}),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(e){return t.modifyAlertTemplate("stay")}}},[a("span",[t._v(t._s(t.$t("SUBMIT_STAY")))])]),a("vs-dropdown-item",{on:{click:function(e){return t.modifyAlertTemplate("view")}}},[a("span",[t._v(t._s(t.$t("SUBMIT_VIEW")))])])],1)],1)],1)],1)])])])],1)},n=[],l=a("a34a"),i=a.n(l),r=a("946b"),o=a("2288"),c=a("db17"),u=a("a601");function m(t,e,a,s,n,l,i){try{var r=t[l](i),o=r.value}catch(c){return void a(c)}r.done?e(o):Promise.resolve(o).then(s,n)}function p(t){return function(){var e=this,a=arguments;return new Promise(function(s,n){var l=t.apply(e,a);function i(t){m(l,s,n,i,r,"next",t)}function r(t){m(l,s,n,i,r,"throw",t)}i(void 0)})}}var d={name:"alert-template-modify",mixins:[r["a"],o["a"]],data:function(){return{alertTypes:[],template:{}}},methods:{load:function(){var t=p(i.a.mark(function t(){var e;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this,c["a"].alertTemplates({templateId:this.$route.params.id}).then(function(t){e.template=t.data.alertTemplateList[0]||{}}),u["a"].enumerations({enumTypeId:"AlertType",orderByField:"sequenceNum,description"}).then(function(t){e.alertTypes=t.data.enumerationList||[]});case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),modifyAlertTemplate:function(t){var e=this;c["a"].modifyAlertTemplate({templateId:this.$route.params.id,templateName:this.template.templateName,alertTypeEnumId:this.template.alertTypeEnumId,body:this.template.body,style:this.template.style}).then(function(a){200===a.status&&("stay"===t?e.showSuccessAlert(a.data.messages):"view"===t?e.$router.push({name:"ViewAlertTemplate",params:{id:a.data.templateId}}):e.$router.push({name:"BrowseAlertTemplates"}))}).catch(function(t){e.showDangerAlert(t.response.data.errors)})},cancel:function(){this.$router.back()}},mounted:function(){this.load()}},v=d,f=a("2877"),b=Object(f["a"])(v,s,n,!1,null,null,null);e["default"]=b.exports},2288:function(t,e,a){"use strict";var s={data:function(){return{vueOptions:{tabSize:4,styleActiveLine:!0,lineNumbers:!0,line:!0,autoCloseTags:!0,autoCloseBrackets:!0,autoRefresh:!0,mode:"text/x-vue",theme:"eclipse"},javascriptOptions:{tabSize:4,styleActiveLine:!0,lineNumbers:!0,autoCloseBrackets:!0,line:!0,mode:"text/javascript",theme:"eclipse"},jsonOptions:{tabSize:4,styleActiveLine:!0,lineNumbers:!0,autoCloseBrackets:!0,line:!0,mode:"application/json",theme:"eclipse"},cssOptions:{tabSize:4,styleActiveLine:!0,lineNumbers:!0,autoCloseBrackets:!0,line:!0,mode:"text/css",theme:"eclipse"}}}};e["a"]=s},"946b":function(t,e,a){"use strict";var s={data:function(){return{alertActive:!1,alertMessage:this.$t("UNKNOWN_ERROR"),alertVariant:"danger"}},methods:{showAlert:function(t,e){this.alertMessage=e||this.$t("UNKNOWN_ERROR"),this.alertVariant=t,this.alertActive=!0},showSuccessAlert:function(t){this.showAlert("success",t)},showDangerAlert:function(t){this.showAlert("danger",t)},showWarningAlert:function(t){this.showAlert("warning",t)},showInfoAlert:function(t){this.showAlert("info",t)}}};e["a"]=s},a601:function(t,e,a){"use strict";var s=a("36ad");e["a"]={enumerations:function(t){return Object(s["a"])().get("/s1/commons/basic/enumeration",{params:t})}}},db17:function(t,e,a){"use strict";var s=a("36ad");e["a"]={alertTemplates:function(t){return Object(s["a"])().get("/s1/commons/basic/alertTemplate",{params:t})},createAlertTemplate:function(t){return Object(s["a"])().post("/s1/commons/basic/alertTemplate",t)},modifyAlertTemplate:function(t){return Object(s["a"])().patch("/s1/commons/basic/alertTemplate",t)}}}}]);
//# sourceMappingURL=chunk-2bc3a094.50cd24d7.js.map