(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-606dc63d"],{"4f8c":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"vs-con-loading__container",attrs:{id:"loading-container"}},[t("nv-card",[t("vs-table",{staticClass:"mb-base",attrs:{data:e.loanTypeTableData,noDataText:e.loanTypeTableNoDataText,sst:!0,search:""},on:{search:e.filterLoanTypeTable,sort:e.orderLoanTypeTable},scopedSlots:e._u([{key:"default",fn:function(a){var n=a.data;return e._l(n,function(a,l){return t("vs-tr",{key:l,attrs:{data:a}},[t("vs-td",{attrs:{data:n[l].typeId}},[t("router-link",{attrs:{to:{name:"ViewLoanType",params:{id:n[l].typeId}}}},[e._v(e._s(n[l].typeId))])],1),t("vs-td",{attrs:{data:n[l].typeName}},[e._v("\n            "+e._s(n[l].typeName)+"\n          ")]),t("vs-td",{attrs:{data:n[l].externalTypeId}},[e._v("\n            "+e._s(e._f("placeholder")(n[l].externalTypeId,"-"))+"\n          ")])],1)})}}])},[t("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"flex flex-wrap-reverse items-center"},[e.$acl.check("isLoanAll")?t("vs-button",{staticClass:"p-3 mr-4",attrs:{color:"primary",type:"filled",icon:"fa-plus","icon-pack":"far"},on:{click:e.add}},[e._v(e._s(e.$t("ADD")))]):e._e(),t("vs-button",{staticClass:"p-3 mr-4",attrs:{type:"filled",icon:"fa-sync","icon-pack":"far",disabled:e.loanTypeTableBusy},on:{click:e.refreshLoanTypeTable}},[e._v(e._s(e.$t("REFRESH")))])],1),t("div",{staticClass:"flex justify-end mr-4"},[t("div",{staticClass:"p-2 border border-solid border-grey-light rounded-full d-theme-dark-bg flex items-center justify-between font-medium"},[t("span",{staticClass:"mx-2"},[e._v(e._s(e.loanTypeTablePagingInfo))]),t("vs-dropdown",{staticClass:"cursor-pointer mr-2",attrs:{"vs-trigger-click":""}},[t("span",{staticClass:"far fa-angle-down text-primary"}),t("vs-dropdown-menu",e._l(e.tablePageOptions,function(a,n){return t("vs-dropdown-item",{key:n,on:{click:function(t){e.loanTypeTablePerPage=a}}},[t("span",[e._v(e._s(a))])])}),1)],1)],1)])]),t("template",{slot:"thead"},[t("vs-th",{attrs:{"sort-key":"typeId"}},[e._v("\n          "+e._s(this.$t("ID"))+"\n        ")]),t("vs-th",{attrs:{"sort-key":"typeName"}},[e._v("\n          "+e._s(this.$t("TYPE_NAME"))+"\n        ")]),t("vs-th",{attrs:{"sort-key":"externalTypeId"}},[e._v("\n          "+e._s(this.$t("EXTERNAL_ID"))+"\n        ")])],1)],2),t("vs-pagination",{attrs:{total:e.loanTypeTableTotalPages,max:e.maxPaginationItems},model:{value:e.loanTypeTableCurrentPage,callback:function(a){e.loanTypeTableCurrentPage=a},expression:"loanTypeTableCurrentPage"}})],1)],1)},l=[],o=t("ea0e"),r=t("93b8"),s=t("b664"),i={mixins:[r["a"],s["a"]],props:{defaultLoanTypeTableFilter:{type:String,default:null},defaultLoanTypeTableOrderBy:{type:String,default:null},typeBehaviourEnumId:{type:String,default:null}},data:function(){return{loanTypeTableData:[],loanTypeTableFilterTimer:null,loanTypeTableFilter:this.defaultLoanTypeTableFilter,loanTypeTableOrderBy:this.defaultLoanTypeTableOrderBy,loanTypeTableContainer:"loading-container",loanTypeTableBusy:!1,loanTypeTableTotalRows:0,loanTypeTableCurrentPage:1,loanTypeTablePerPage:10}},computed:{loanTypeTableNoDataText:function(){return this.loanTypeTableBusy?this.$t("LOADING")+" ...":this.$t("NO_DATA_FOUND")},loanTypeTableTotalPages:function(){return Math.ceil(this.loanTypeTableTotalRows/this.loanTypeTablePerPage)},loanTypeTablePagingInfo:function(){return this.pagingInfo(this.loanTypeTableCurrentPage,this.loanTypeTablePerPage,this.loanTypeTableTotalRows)}},methods:{loadLoanTypeTableData:function(e){var a=this;this.loanTypeTableBusy=!0,this.loanTypeTableContainer=e||this.loanTypeTableContainer,this.startLoading(this.loanTypeTableContainer),o["a"].loanTypes({pageIndex:this.loanTypeTableCurrentPage-1,pageSize:this.loanTypeTablePerPage,filter:this.loanTypeTableFilter,orderByField:this.loanTypeTableOrderBy,typeBehaviourEnumId:this.typeBehaviourEnumId}).then(function(e){a.stopLoading(a.loanTypeTableContainer),a.loanTypeTableBusy=!1,a.loanTypeTableTotalRows=e.data.totalRows,a.loanTypeTableData=e.data.loanTypeList||[]}).catch(function(e){a.stopLoading(a.loanTypeTableContainer),a.loanTypeTableBusy=!1,a.$emit("show-alert","danger",e.response.data.errors)})},refreshLoanTypeTable:function(){this.loadLoanTypeTableData()},filterLoanTypeTable:function(e){var a=this;this.loanTypeTableFilter!==e?(clearTimeout(this.loanTypeTableFilterTimer),this.loanTypeTableFilterTimer=setTimeout(function(){a.loanTypeTableFilter=e,a.loadLoanTypeTableData()},"750")):clearTimeout(this.loanTypeTableFilterTimer)},orderLoanTypeTable:function(e,a){this.loanTypeTableOrderBy=(a?"":"-")+e,this.loadLoanTypeTableData()}},watch:{loanTypeTableCurrentPage:function(){this.refreshLoanTypeTable()},loanTypeTablePerPage:function(){this.refreshLoanTypeTable()},typeBehaviourEnumId:function(){this.refreshLoanTypeTable()}}},T=i,p={name:"loan-type-browse",mixins:[T],methods:{add:function(){this.$router.push({name:"CreateLoanType"})}},mounted:function(){this.loadLoanTypeTableData()}},y=p,d=t("2877"),u=Object(d["a"])(y,n,l,!1,null,null,null);a["default"]=u.exports},ea0e:function(e,a,t){"use strict";var n=t("36ad");a["a"]={loanTypes:function(e){return Object(n["a"])().get("/s1/loan/loanType",{params:e})},createLoanType:function(e){return Object(n["a"])().post("/s1/loan/loanType",e)},modifyLoanType:function(e){return Object(n["a"])().patch("/s1/loan/loanType",e)}}}}]);
//# sourceMappingURL=chunk-606dc63d.f0ff702a.js.map