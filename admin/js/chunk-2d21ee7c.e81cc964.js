(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21ee7c"],{d80b:function(a,t,s){"use strict";s.r(t);var n=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"vs-con-loading__container",attrs:{id:"loading-container"}},[a.alertActive?s("div",{staticClass:"alert-container"},[s("vs-alert",{staticClass:"mb-5",attrs:{active:a.alertActive,color:a.alertVariant,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(t){a.alertActive=t}}},[s("p",[a._v(a._s(a.alertMessage))])])],1):a._e(),s("nv-card",[s("form-wizard",{ref:"wizard",attrs:{color:"rgba(var(--vs-primary), 1)",title:null,subtitle:null,nextButtonText:a.$t("NEXT"),backButtonText:a.$t("PREVIOUS")},scopedSlots:a._u([{key:"custom-buttons-left",fn:function(t){return[0===t.activeTabIndex?s("vs-button",{staticClass:"mr-2",attrs:{color:"primary",type:"border"},on:{click:a.cancel}},[a._v(a._s(a.$t("CANCEL")))]):a._e()]}}])},[s("template",{slot:"finish"},[s("div",{staticClass:"dropdown-button-container"},[s("vs-button",{staticClass:"btnx",attrs:{type:"filled"},on:{click:function(t){return a.modifyBranch("browse")}}},[a._v(a._s(a.$t("SUBMIT")))]),s("vs-dropdown",{attrs:{"vs-trigger-click":""}},[s("vs-button",{staticClass:"btn-drop",attrs:{type:"filled",icon:"fa-angle-down","icon-pack":"far"}}),s("vs-dropdown-menu",[s("vs-dropdown-item",{on:{click:function(t){return a.modifyBranch("view")}}},[s("span",[a._v(a._s(a.$t("SUBMIT_VIEW")))])])],1)],1)],1)]),s("tab-content",{attrs:{title:a.$t("GENERAL"),icon:"far fa-file-alt"}},[s("div",{staticClass:"nv-row mb-4"},[s("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[s("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("BRANCH_NAME")))]),s("vs-input",{staticClass:"w-full",model:{value:a.branch.branchName,callback:function(t){a.$set(a.branch,"branchName",t)},expression:"branch.branchName"}})],1),s("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[s("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("BANK")))]),s("bank-lookup",{attrs:{title:a.$t("BANK"),recordValue:a.branch.bankId,recordDisplay:a.branch.bankName,valueField:"bankId",displayField:"bankName"},on:{"select-record":a.selectBankRecord}})],1)]),s("div",{staticClass:"nv-row mb-4"},[s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("BRANCH_CODE")))]),s("vs-input",{staticClass:"w-full",model:{value:a.branch.branchCode,callback:function(t){a.$set(a.branch,"branchCode",t)},expression:"branch.branchCode"}})],1),s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("RECORD_KEY")))]),s("vs-input",{staticClass:"w-full",model:{value:a.branch.recordKey,callback:function(t){a.$set(a.branch,"recordKey",t)},expression:"branch.recordKey"}})],1)]),s("div",{staticClass:"nv-row mb-4"},[s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("SWIFT_CODE")))]),s("vs-input",{staticClass:"w-full",model:{value:a.branch.swiftCode,callback:function(t){a.$set(a.branch,"swiftCode",t)},expression:"branch.swiftCode"}})],1),s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("LOCAL_CODE")))]),s("vs-input",{staticClass:"w-full",model:{value:a.branch.localCode,callback:function(t){a.$set(a.branch,"localCode",t)},expression:"branch.localCode"}})],1)]),s("div",{staticClass:"nv-row mb-4"},[s("div",{staticClass:"nv-col w-full"},[s("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("EXTERNAL_ID")))]),s("vs-input",{staticClass:"w-full",model:{value:a.branch.externalBranchId,callback:function(t){a.$set(a.branch,"externalBranchId",t)},expression:"branch.externalBranchId"}})],1)]),s("div",{staticClass:"nv-row mb-4"},[s("div",{staticClass:"nv-col w-full"},[s("vs-checkbox",{model:{value:a.branch.acceptsPayments,callback:function(t){a.$set(a.branch,"acceptsPayments",t)},expression:"branch.acceptsPayments"}},[a._v(a._s(a.$t("ACCEPTS_PAYMENTS")))])],1)]),s("div",{staticClass:"nv-row mb-4"},[s("div",{staticClass:"nv-col w-full"},[s("vs-checkbox",{model:{value:a.branch.disabled,callback:function(t){a.$set(a.branch,"disabled",t)},expression:"branch.disabled"}},[a._v(a._s(a.$t("DISABLED")))])],1)])]),s("tab-content",{attrs:{title:a.$t("ADDRESS"),icon:"far fa-map"}},[s("div",{staticClass:"nv-row mb-4"},[s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("ADDRESS_1")))]),s("vs-input",{staticClass:"w-full",model:{value:a.branch.address1,callback:function(t){a.$set(a.branch,"address1",t)},expression:"branch.address1"}})],1),s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("ADDRESS_2")))]),s("vs-input",{staticClass:"w-full",model:{value:a.branch.address2,callback:function(t){a.$set(a.branch,"address2",t)},expression:"branch.address2"}})],1)]),s("div",{staticClass:"nv-row mb-4"},[s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("DISTRICT")))]),s("vs-input",{staticClass:"w-full",model:{value:a.branch.district,callback:function(t){a.$set(a.branch,"district",t)},expression:"branch.district"}})],1),s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("CITY")))]),s("vs-input",{staticClass:"w-full",model:{value:a.branch.city,callback:function(t){a.$set(a.branch,"city",t)},expression:"branch.city"}})],1)]),s("div",{staticClass:"nv-row mb-4"},[s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("PROVINCE")))]),s("vs-input",{staticClass:"w-full",model:{value:a.branch.province,callback:function(t){a.$set(a.branch,"province",t)},expression:"branch.province"}})],1),s("div",{staticClass:"nv-col sm:w-1/2 w-full required"},[s("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("COUNTRY")))]),s("country-lookup",{attrs:{title:a.$t("COUNTRY"),recordValue:a.branch.countryGeoId,recordDisplay:a.branch.countryName,valueField:"geoId",displayField:"geoName"},on:{"select-record":a.selectCountryRecord}})],1)]),s("div",{staticClass:"nv-row mb-4"},[s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("POSTAL_CODE")))]),s("vs-input",{staticClass:"w-full",model:{value:a.branch.postalCode,callback:function(t){a.$set(a.branch,"postalCode",t)},expression:"branch.postalCode"}})],1),s("div",{staticClass:"nv-col sm:w-1/2 w-full"},[s("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("POSTAL_CODE_EXT")))]),s("vs-input",{staticClass:"w-full",model:{value:a.branch.postalCodeExt,callback:function(t){a.$set(a.branch,"postalCodeExt",t)},expression:"branch.postalCodeExt"}})],1)]),s("div",{staticClass:"nv-row"},[s("div",{staticClass:"nv-col sm:w w-full"},[s("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("PO_BOX")))]),s("vs-input",{staticClass:"w-full",model:{value:a.branch.poBox,callback:function(t){a.$set(a.branch,"poBox",t)},expression:"branch.poBox"}})],1)])]),s("tab-content",{attrs:{title:a.$t("FUNCTIONS"),icon:"far fa-check"}},[s("ul",{staticClass:"flex justify-start"},a._l(a.bankFunctionList,function(t,n){return s("li",{key:n,staticClass:"mr-5"},[s("vs-checkbox",{attrs:{"vs-value":t.functionId},model:{value:a.functions,callback:function(t){a.functions=t},expression:"functions"}},[s("i",{staticClass:"text-primary mr-1",class:t.iconClass}),s("span",{class:a.disabledClass(t)},[a._v(a._s(t.functionName))])])],1)}),0)])],2)],1)],1)},c=[],e=s("a34a"),l=s.n(e),i=s("946b"),r=s("9a2e"),o=s("93b8"),d=s("440b"),b=s("e8a2"),u=s("402e"),v=s("eb1c"),h=s("2ee4");function p(a,t,s,n,c,e,l){try{var i=a[e](l),r=i.value}catch(o){return void s(o)}i.done?t(r):Promise.resolve(r).then(n,c)}function f(a){return function(){var t=this,s=arguments;return new Promise(function(n,c){var e=a.apply(t,s);function l(a){p(e,n,c,l,i,"next",a)}function i(a){p(e,n,c,l,i,"throw",a)}l(void 0)})}}var C={name:"branch-modify",mixins:[i["a"],r["a"],o["a"]],components:{FormWizard:h["FormWizard"],TabContent:h["TabContent"],BankLookup:b["a"],CountryLookup:u["a"]},data:function(){return{branch:{},bankFunctionList:[],functions:[]}},methods:{load:function(){var a=f(l.a.mark(function a(){var t;return l.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:t=this,d["a"].branches({branchId:this.$route.params.id,orderByField:"branchName"}).then(function(a){t.branch=a.data.branchList[0]||{},Object.getOwnPropertyNames(t.branch).length>1&&(t.branch.acceptsPayments="Y"===t.branch.acceptsPayments,t.branch.disabled="Y"===t.branch.disabled),t.getBranchServices()}),d["a"].branchFunctions({branchId:this.$route.params.id}).then(function(a){for(var s=a.data.branchBankFunctionList||[],n=0;n<s.length;n++)t.functions.push(s[n].functionId)});case 3:case"end":return a.stop()}},a,this)}));function t(){return a.apply(this,arguments)}return t}(),getBranchServices:function(){var a=this;v["a"].bankFunctions({}).then(function(t){a.bankFunctionList=t.data.functionList||[]})},selectBankRecord:function(a){this.branch.bankId=a.bankId||""},selectCountryRecord:function(a){this.branch.countryGeoId=a.geoId||""},modifyBranch:function(a){var t=this;this.startLoading("loading-container"),d["a"].modifyBranch({branchId:this.$route.params.id,branchName:this.branch.branchName,countryGeoId:this.branch.countryGeoId,bankId:this.branch.bankId,branchCode:this.branch.branchCode,swiftCode:this.branch.swiftCode,externalBranchId:this.branch.externalBranchId,localCode:this.branch.localCode,recordKey:this.branch.recordKey,address1:this.branch.address1,address2:this.branch.address2,district:this.branch.district,city:this.branch.city,province:this.branch.province,postalCode:this.branch.postalCode,postalCodeExt:this.branch.postalCodeExt,poBox:this.branch.poBox,functions:this.functions.join(","),acceptsPayments:this.branch.acceptsPayments?"Y":"N",disabled:this.branch.disabled?"Y":"N"}).then(function(s){t.stopLoading("loading-container"),200===s.status&&("view"===a?t.$router.push({name:"ViewBranch",params:{id:s.data.branchId}}):t.$router.push({name:"BrowseBranches"}))}).catch(function(a){t.stopLoading("loading-container"),t.showDangerAlert(a.response.data.errors)})},cancel:function(){this.$router.back()}},mounted:function(){this.load()}},m=C,w=s("2877"),_=Object(w["a"])(m,n,c,!1,null,null,null);t["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d21ee7c.e81cc964.js.map