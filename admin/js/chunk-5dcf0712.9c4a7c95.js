(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dcf0712"],{"93b8":function(t,s,a){"use strict";var e={data:function(){return{loaders:{}}},methods:{startLoading:function(t){this.loaders[t]?this.loaders[t]=++this.loaders[t]:(this.loaders[t]=1,this.$refs.hasOwnProperty(t)?this.$vs.loading({container:this.$refs[t]}):document.getElementById(t)&&this.$vs.loading({container:"#"+t}))},stopLoading:function(t){this.loaders[t]&&(this.loaders[t]=--this.loaders[t],0===this.loaders[t]&&(this.$refs.hasOwnProperty(t)?this.$vs.loading.close(this.$refs[t]):document.getElementById(t)&&this.$vs.loading.close("#"+t+" > .con-vs-loading")))}}};s["a"]=e},"946b":function(t,s,a){"use strict";var e={data:function(){return{alertActive:!1,alertMessage:this.$t("UNKNOWN_ERROR"),alertVariant:"danger"}},methods:{showAlert:function(t,s){this.alertMessage=s||this.$t("UNKNOWN_ERROR"),this.alertVariant=t,this.alertActive=!0},showSuccessAlert:function(t){this.showAlert("success",t)},showDangerAlert:function(t){this.showAlert("danger",t)},showWarningAlert:function(t){this.showAlert("warning",t)},showInfoAlert:function(t){this.showAlert("info",t)}}};s["a"]=e},df15:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"loading-container"}},[t.alertActive?a("div",{staticClass:"alert-container"},[a("vs-alert",{staticClass:"mb-5",attrs:{active:t.alertActive,color:t.alertVariant,closable:"","icon-pack":"feather","close-icon":"icon-x"},on:{"update:active":function(s){t.alertActive=s}}},[a("p",[t._v(t._s(t.alertMessage))])])],1):t._e(),a("nv-card",[a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col sm:w w-full"},[a("label",[t._v(t._s(t.$t("FILE_TYPE")))]),a("ul",{staticClass:"flex mt-2"},[a("li",[a("vs-radio",{staticClass:"mr-4",attrs:{"vs-value":"BIC"},model:{value:t.fileType,callback:function(s){t.fileType=s},expression:"fileType"}},[t._v(t._s(t.$t("BIC")))])],1),a("li",[a("vs-radio",{staticClass:"mr-4",attrs:{"vs-value":"TEXT"},model:{value:t.fileType,callback:function(s){t.fileType=s},expression:"fileType"}},[t._v(t._s(t.$t("TEXT")))])],1)])])]),a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col sm:w w-full required"},[a("label",[t._v(t._s(t.$t("FILE")))]),a("nv-input-group",{staticClass:"bg-white"},[a("template",{slot:"append"},[a("div",{staticClass:"append-text bg-dark"},[a("i",{staticClass:"far fa-folder"})])]),a("input",{ref:"file",staticClass:"vs-inputx vs-input--input normal",attrs:{type:"file",id:"file"},on:{change:function(s){return t.handleFileUpload()}}})],2)],1)]),"TEXT"===t.fileType?[a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col sm:w w-full"},[a("label",{staticClass:"flex"},[t._v(t._s(t.$t("ROW_PATTERN"))+"Â "),a("nv-tooltip",{attrs:{text:t.$t("PATTERN_HELP",t.patternKeywords)}},[a("i",{staticClass:"far fa-question-circle"})])],1),a("vs-input",{staticClass:"w-full",attrs:{title:t.$t("PATTERN")},model:{value:t.rowPattern,callback:function(s){t.rowPattern=s},expression:"rowPattern"}})],1)]),a("div",{staticClass:"nv-row mb-4"},[a("div",{staticClass:"nv-col w-full"},[a("vs-checkbox",{model:{value:t.skipFirstRow,callback:function(s){t.skipFirstRow=s},expression:"skipFirstRow"}},[t._v(t._s(t.$t("SKIP_FIRST_ROW")))])],1)])]:t._e(),a("div",{staticClass:"nv-row"},[a("div",{staticClass:"nv-col w-full"},[a("div",{staticClass:"flex justify-between"},[a("vs-button",{staticClass:"px-5 py-3",attrs:{color:"primary",type:"border"},on:{click:t.cancel}},[t._v(t._s(t.$t("CANCEL")))]),a("vs-button",{attrs:{type:"filled"},on:{click:t.importFile}},[t._v(t._s(t.$t("SUBMIT")))])],1)])])],2)],1)},i=[],n=a("946b"),o=a("93b8"),r=a("ea62"),l={name:"bank-import",mixins:[n["a"],o["a"]],data:function(){return{fileType:"BIC",file:null,rowPattern:"",skipFirstRow:!1,patternKeywords:{bankName:"{bankName}",institutionCode:"{institutionCode}",branchCode:"{branchCode}",swiftCode:"{swiftCode}",countryName:"{countryName}",countryAlpha2Code:"{countryAlpha2Code}",countryAlpha3Code:"{countryAlpha3Code}",address1:"{address1}",address2:"{address2}",addressDistrict:"{addressDistrict}",addressCity:"{addressCity}",addressProvince:"{addressProvince}",addressPostalCode:"{addressPostalCode}",addressPoBox:"{addressPoBox}"}}},methods:{handleFileUpload:function(){this.file=this.$refs.file.files[0]},importBic:function(){var t=this,s=new FormData;s.append("directoryFile",this.file),this.startLoading("loading-container"),r["a"].importBic({formData:s}).then(function(s){t.stopLoading("loading-container"),200===s.status&&t.showSuccessAlert(s.data.messages)}).catch(function(s){t.stopLoading("loading-container"),t.showDangerAlert(s.response.data.errors)})},importText:function(){var t=this,s=new FormData;s.append("textFile",this.file),s.append("rowPattern",this.rowPattern),s.append("skipFirstRow",this.skipFirstRow),this.startLoading("loading-container"),r["a"].importText({rowPattern:this.rowPattern,skipFirstRow:this.skipFirstRow?"Y":"N",formData:s}).then(function(s){t.stopLoading("loading-container"),200===s.status&&t.showSuccessAlert(s.data.messages)}).catch(function(s){t.stopLoading("loading-container"),t.showDangerAlert(s.response.data.errors)})},importFile:function(){"BIC"===this.fileType?this.importBic():"TEXT"===this.fileType&&this.importText()},cancel:function(){this.$router.back()}}},c=l,d=a("2877"),u=Object(d["a"])(c,e,i,!1,null,null,null);s["default"]=u.exports},ea62:function(t,s,a){"use strict";var e=a("36ad");s["a"]={banks:function(t){return Object(e["a"])().get("/s1/bank/bank",{params:t})},createBank:function(t){return Object(e["a"])().post("/s1/bank/bank",t)},modifyBank:function(t){return Object(e["a"])().patch("/s1/bank/bank",t)},importBic:function(t){return Object(e["a"])().post("/s1/bank/bank/import/bic",t.formData,{headers:{"Content-Type":"multipart/form-data"}})},importText:function(t){return Object(e["a"])().post("/s1/bank/bank/import/text",t.formData,{headers:{"Content-Type":"multipart/form-data"}})}}}}]);
//# sourceMappingURL=chunk-5dcf0712.9c4a7c95.js.map